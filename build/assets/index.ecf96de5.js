function _2(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var w2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function S2(n){var e=n.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var F={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),b2=Symbol.for("react.portal"),M2=Symbol.for("react.fragment"),E2=Symbol.for("react.strict_mode"),C2=Symbol.for("react.profiler"),T2=Symbol.for("react.provider"),A2=Symbol.for("react.context"),P2=Symbol.for("react.forward_ref"),N2=Symbol.for("react.suspense"),R2=Symbol.for("react.memo"),L2=Symbol.for("react.lazy"),sv=Symbol.iterator;function I2(n){return n===null||typeof n!="object"?null:(n=sv&&n[sv]||n["@@iterator"],typeof n=="function"?n:null)}var R_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L_=Object.assign,I_={};function ca(n,e,t){this.props=n,this.context=e,this.refs=I_,this.updater=t||R_}ca.prototype.isReactComponent={};ca.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ca.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function D_(){}D_.prototype=ca.prototype;function sg(n,e,t){this.props=n,this.context=e,this.refs=I_,this.updater=t||R_}var og=sg.prototype=new D_;og.constructor=sg;L_(og,ca.prototype);og.isPureReactComponent=!0;var ov=Array.isArray,k_=Object.prototype.hasOwnProperty,ag={current:null},O_={key:!0,ref:!0,__self:!0,__source:!0};function F_(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)k_.call(e,i)&&!O_.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ec,type:n,key:s,ref:o,props:r,_owner:ag.current}}function D2(n,e){return{$$typeof:ec,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function lg(n){return typeof n=="object"&&n!==null&&n.$$typeof===ec}function k2(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var av=/\/+/g;function Qh(n,e){return typeof n=="object"&&n!==null&&n.key!=null?k2(""+n.key):e.toString(36)}function Iu(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ec:case b2:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Qh(o,0):i,ov(r)?(t="",n!=null&&(t=n.replace(av,"$&/")+"/"),Iu(r,e,t,"",function(c){return c})):r!=null&&(lg(r)&&(r=D2(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(av,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",ov(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Qh(s,a);o+=Iu(s,e,t,l,r)}else if(l=I2(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Qh(s,a++),o+=Iu(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ac(n,e,t){if(n==null)return n;var i=[],r=0;return Iu(n,i,"","",function(s){return e.call(t,s,r++)}),i}function O2(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var _n={current:null},Du={transition:null},F2={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:Du,ReactCurrentOwner:ag};Je.Children={map:Ac,forEach:function(n,e,t){Ac(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ac(n,function(){e++}),e},toArray:function(n){return Ac(n,function(e){return e})||[]},only:function(n){if(!lg(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Je.Component=ca;Je.Fragment=M2;Je.Profiler=C2;Je.PureComponent=sg;Je.StrictMode=E2;Je.Suspense=N2;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F2;Je.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=L_({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ag.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)k_.call(e,l)&&!O_.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ec,type:n.type,key:r,ref:s,props:i,_owner:o}};Je.createContext=function(n){return n={$$typeof:A2,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:T2,_context:n},n.Consumer=n};Je.createElement=F_;Je.createFactory=function(n){var e=F_.bind(null,n);return e.type=n,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(n){return{$$typeof:P2,render:n}};Je.isValidElement=lg;Je.lazy=function(n){return{$$typeof:L2,_payload:{_status:-1,_result:n},_init:O2}};Je.memo=function(n,e){return{$$typeof:R2,type:n,compare:e===void 0?null:e}};Je.startTransition=function(n){var e=Du.transition;Du.transition={};try{n()}finally{Du.transition=e}};Je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Je.useCallback=function(n,e){return _n.current.useCallback(n,e)};Je.useContext=function(n){return _n.current.useContext(n)};Je.useDebugValue=function(){};Je.useDeferredValue=function(n){return _n.current.useDeferredValue(n)};Je.useEffect=function(n,e){return _n.current.useEffect(n,e)};Je.useId=function(){return _n.current.useId()};Je.useImperativeHandle=function(n,e,t){return _n.current.useImperativeHandle(n,e,t)};Je.useInsertionEffect=function(n,e){return _n.current.useInsertionEffect(n,e)};Je.useLayoutEffect=function(n,e){return _n.current.useLayoutEffect(n,e)};Je.useMemo=function(n,e){return _n.current.useMemo(n,e)};Je.useReducer=function(n,e,t){return _n.current.useReducer(n,e,t)};Je.useRef=function(n){return _n.current.useRef(n)};Je.useState=function(n){return _n.current.useState(n)};Je.useSyncExternalStore=function(n,e,t){return _n.current.useSyncExternalStore(n,e,t)};Je.useTransition=function(){return _n.current.useTransition()};Je.version="18.2.0";(function(n){n.exports=Je})(F);const Qi=N_(F.exports),hl=_2({__proto__:null,default:Qi},[F.exports]);function B2(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function z2(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var U2=function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(z2(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=B2(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}(),un="-ms-",rd="-moz-",rt="-webkit-",B_="comm",cg="rule",ug="decl",V2="@import",z_="@keyframes",G2=Math.abs,Fd=String.fromCharCode,H2=Object.assign;function W2(n,e){return tn(n,0)^45?(((e<<2^tn(n,0))<<2^tn(n,1))<<2^tn(n,2))<<2^tn(n,3):0}function U_(n){return n.trim()}function $2(n,e){return(n=e.exec(n))?n[0]:n}function ot(n,e,t){return n.replace(e,t)}function yp(n,e){return n.indexOf(e)}function tn(n,e){return n.charCodeAt(e)|0}function fl(n,e,t){return n.slice(e,t)}function Pi(n){return n.length}function dg(n){return n.length}function Pc(n,e){return e.push(n),n}function j2(n,e){return n.map(e).join("")}var Bd=1,Zo=1,V_=0,Nn=0,kt=0,ua="";function zd(n,e,t,i,r,s,o){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:Bd,column:Zo,length:o,return:""}}function Ca(n,e){return H2(zd("",null,null,"",null,null,0),n,{length:-n.length},e)}function X2(){return kt}function q2(){return kt=Nn>0?tn(ua,--Nn):0,Zo--,kt===10&&(Zo=1,Bd--),kt}function On(){return kt=Nn<V_?tn(ua,Nn++):0,Zo++,kt===10&&(Zo=1,Bd++),kt}function Li(){return tn(ua,Nn)}function ku(){return Nn}function tc(n,e){return fl(ua,n,e)}function pl(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G_(n){return Bd=Zo=1,V_=Pi(ua=n),Nn=0,[]}function H_(n){return ua="",n}function Ou(n){return U_(tc(Nn-1,xp(n===91?n+2:n===40?n+1:n)))}function Y2(n){for(;(kt=Li())&&kt<33;)On();return pl(n)>2||pl(kt)>3?"":" "}function J2(n,e){for(;--e&&On()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return tc(n,ku()+(e<6&&Li()==32&&On()==32))}function xp(n){for(;On();)switch(kt){case n:return Nn;case 34:case 39:n!==34&&n!==39&&xp(kt);break;case 40:n===41&&xp(n);break;case 92:On();break}return Nn}function Z2(n,e){for(;On()&&n+kt!==47+10;)if(n+kt===42+42&&Li()===47)break;return"/*"+tc(e,Nn-1)+"*"+Fd(n===47?n:On())}function K2(n){for(;!pl(Li());)On();return tc(n,Nn)}function Q2(n){return H_(Fu("",null,null,null,[""],n=G_(n),0,[0],n))}function Fu(n,e,t,i,r,s,o,a,l){for(var c=0,u=0,h=o,d=0,p=0,v=0,f=1,g=1,y=1,x=0,_="",w=r,b=s,E=i,T=_;g;)switch(v=x,x=On()){case 40:if(v!=108&&tn(T,h-1)==58){yp(T+=ot(Ou(x),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Ou(x);break;case 9:case 10:case 13:case 32:T+=Y2(v);break;case 92:T+=J2(ku()-1,7);continue;case 47:switch(Li()){case 42:case 47:Pc(e3(Z2(On(),ku()),e,t),l);break;default:T+="/"}break;case 123*f:a[c++]=Pi(T)*y;case 125*f:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+u:p>0&&Pi(T)-h&&Pc(p>32?cv(T+";",i,t,h-1):cv(ot(T," ","")+";",i,t,h-2),l);break;case 59:T+=";";default:if(Pc(E=lv(T,e,t,c,u,r,a,_,w=[],b=[],h),s),x===123)if(u===0)Fu(T,e,E,E,w,s,h,a,b);else switch(d===99&&tn(T,3)===110?100:d){case 100:case 109:case 115:Fu(n,E,E,i&&Pc(lv(n,E,E,0,0,r,a,_,r,w=[],h),b),r,b,h,a,i?w:b);break;default:Fu(T,E,E,E,[""],b,0,a,b)}}c=u=p=0,f=y=1,_=T="",h=o;break;case 58:h=1+Pi(T),p=v;default:if(f<1){if(x==123)--f;else if(x==125&&f++==0&&q2()==125)continue}switch(T+=Fd(x),x*f){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Pi(T)-1)*y,y=1;break;case 64:Li()===45&&(T+=Ou(On())),d=Li(),u=h=Pi(_=T+=K2(ku())),x++;break;case 45:v===45&&Pi(T)==2&&(f=0)}}return s}function lv(n,e,t,i,r,s,o,a,l,c,u){for(var h=r-1,d=r===0?s:[""],p=dg(d),v=0,f=0,g=0;v<i;++v)for(var y=0,x=fl(n,h+1,h=G2(f=o[v])),_=n;y<p;++y)(_=U_(f>0?d[y]+" "+x:ot(x,/&\f/g,d[y])))&&(l[g++]=_);return zd(n,e,t,r===0?cg:a,l,c,u)}function e3(n,e,t){return zd(n,e,t,B_,Fd(X2()),fl(n,2,-2),0)}function cv(n,e,t,i){return zd(n,e,t,ug,fl(n,0,i),fl(n,i+1,-1),i)}function Go(n,e){for(var t="",i=dg(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function t3(n,e,t,i){switch(n.type){case V2:case ug:return n.return=n.return||n.value;case B_:return"";case z_:return n.return=n.value+"{"+Go(n.children,i)+"}";case cg:n.value=n.props.join(",")}return Pi(t=Go(n.children,i))?n.return=n.value+"{"+t+"}":""}function n3(n){var e=dg(n);return function(t,i,r,s){for(var o="",a=0;a<e;a++)o+=n[a](t,i,r,s)||"";return o}}function i3(n){return function(e){e.root||(e=e.return)&&n(e)}}function r3(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var s3=function(e,t,i){for(var r=0,s=0;r=s,s=Li(),r===38&&s===12&&(t[i]=1),!pl(s);)On();return tc(e,Nn)},o3=function(e,t){var i=-1,r=44;do switch(pl(r)){case 0:r===38&&Li()===12&&(t[i]=1),e[i]+=s3(Nn-1,t,i);break;case 2:e[i]+=Ou(r);break;case 4:if(r===44){e[++i]=Li()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Fd(r)}while(r=On());return e},a3=function(e,t){return H_(o3(G_(e),t))},uv=new WeakMap,l3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!uv.get(i))&&!r){uv.set(e,!0);for(var s=[],o=a3(t,s),a=i.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},c3=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function W_(n,e){switch(W2(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+rd+n+un+n+n;case 6828:case 4268:return rt+n+un+n+n;case 6165:return rt+n+un+"flex-"+n+n;case 5187:return rt+n+ot(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+un+"flex-$1$2")+n;case 5443:return rt+n+un+"flex-item-"+ot(n,/flex-|-self/,"")+n;case 4675:return rt+n+un+"flex-line-pack"+ot(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+un+ot(n,"shrink","negative")+n;case 5292:return rt+n+un+ot(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+ot(n,"-grow","")+rt+n+un+ot(n,"grow","positive")+n;case 4554:return rt+ot(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return ot(ot(ot(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return ot(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return ot(ot(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return ot(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pi(n)-1-e>6)switch(tn(n,e+1)){case 109:if(tn(n,e+4)!==45)break;case 102:return ot(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+rd+(tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~yp(n,"stretch")?W_(ot(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(tn(n,e+1)!==115)break;case 6444:switch(tn(n,Pi(n)-3-(~yp(n,"!important")&&10))){case 107:return ot(n,":",":"+rt)+n;case 101:return ot(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(tn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+un+"$2box$3")+n}break;case 5936:switch(tn(n,e+11)){case 114:return rt+n+un+ot(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+un+ot(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+un+ot(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+un+n+n}return n}var u3=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case ug:e.return=W_(e.value,e.length);break;case z_:return Go([Ca(e,{value:ot(e.value,"@","@"+rt)})],r);case cg:if(e.length)return j2(e.props,function(s){switch($2(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Go([Ca(e,{props:[ot(s,/:(read-\w+)/,":"+rd+"$1")]})],r);case"::placeholder":return Go([Ca(e,{props:[ot(s,/:(plac\w+)/,":"+rt+"input-$1")]}),Ca(e,{props:[ot(s,/:(plac\w+)/,":"+rd+"$1")]}),Ca(e,{props:[ot(s,/:(plac\w+)/,un+"input-$1")]})],r)}return""})}},d3=[u3],h3=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(f){var g=f.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(f),f.setAttribute("data-s",""))})}var r=e.stylisPlugins||d3,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(f){for(var g=f.getAttribute("data-emotion").split(" "),y=1;y<g.length;y++)s[g[y]]=!0;a.push(f)});var l,c=[l3,c3];{var u,h=[t3,i3(function(f){u.insert(f)})],d=n3(c.concat(r,h)),p=function(g){return Go(Q2(g),d)};l=function(g,y,x,_){u=x,p(g?g+"{"+y.styles+"}":y.styles),_&&(v.inserted[y.name]=!0)}}var v={key:t,sheet:new U2({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},$_={exports:{}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zt=typeof Symbol=="function"&&Symbol.for,hg=Zt?Symbol.for("react.element"):60103,fg=Zt?Symbol.for("react.portal"):60106,Ud=Zt?Symbol.for("react.fragment"):60107,Vd=Zt?Symbol.for("react.strict_mode"):60108,Gd=Zt?Symbol.for("react.profiler"):60114,Hd=Zt?Symbol.for("react.provider"):60109,Wd=Zt?Symbol.for("react.context"):60110,pg=Zt?Symbol.for("react.async_mode"):60111,$d=Zt?Symbol.for("react.concurrent_mode"):60111,jd=Zt?Symbol.for("react.forward_ref"):60112,Xd=Zt?Symbol.for("react.suspense"):60113,f3=Zt?Symbol.for("react.suspense_list"):60120,qd=Zt?Symbol.for("react.memo"):60115,Yd=Zt?Symbol.for("react.lazy"):60116,p3=Zt?Symbol.for("react.block"):60121,m3=Zt?Symbol.for("react.fundamental"):60117,g3=Zt?Symbol.for("react.responder"):60118,v3=Zt?Symbol.for("react.scope"):60119;function Vn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case hg:switch(n=n.type,n){case pg:case $d:case Ud:case Gd:case Vd:case Xd:return n;default:switch(n=n&&n.$$typeof,n){case Wd:case jd:case Yd:case qd:case Hd:return n;default:return e}}case fg:return e}}}function j_(n){return Vn(n)===$d}ut.AsyncMode=pg;ut.ConcurrentMode=$d;ut.ContextConsumer=Wd;ut.ContextProvider=Hd;ut.Element=hg;ut.ForwardRef=jd;ut.Fragment=Ud;ut.Lazy=Yd;ut.Memo=qd;ut.Portal=fg;ut.Profiler=Gd;ut.StrictMode=Vd;ut.Suspense=Xd;ut.isAsyncMode=function(n){return j_(n)||Vn(n)===pg};ut.isConcurrentMode=j_;ut.isContextConsumer=function(n){return Vn(n)===Wd};ut.isContextProvider=function(n){return Vn(n)===Hd};ut.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===hg};ut.isForwardRef=function(n){return Vn(n)===jd};ut.isFragment=function(n){return Vn(n)===Ud};ut.isLazy=function(n){return Vn(n)===Yd};ut.isMemo=function(n){return Vn(n)===qd};ut.isPortal=function(n){return Vn(n)===fg};ut.isProfiler=function(n){return Vn(n)===Gd};ut.isStrictMode=function(n){return Vn(n)===Vd};ut.isSuspense=function(n){return Vn(n)===Xd};ut.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Ud||n===$d||n===Gd||n===Vd||n===Xd||n===f3||typeof n=="object"&&n!==null&&(n.$$typeof===Yd||n.$$typeof===qd||n.$$typeof===Hd||n.$$typeof===Wd||n.$$typeof===jd||n.$$typeof===m3||n.$$typeof===g3||n.$$typeof===v3||n.$$typeof===p3)};ut.typeOf=Vn;(function(n){n.exports=ut})($_);var X_=$_.exports,y3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},x3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q_={};q_[X_.ForwardRef]=y3;q_[X_.Memo]=x3;var _3=!0;function w3(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):i+=r+" "}),i}var Y_=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||_3===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},S3=function(e,t,i){Y_(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function b3(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var M3={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},E3=/[A-Z]|^ms/g,C3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,J_=function(e){return e.charCodeAt(1)===45},dv=function(e){return e!=null&&typeof e!="boolean"},ef=r3(function(n){return J_(n)?n:n.replace(E3,"-$&").toLowerCase()}),hv=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(C3,function(i,r,s){return Ni={name:r,styles:s,next:Ni},r})}return M3[e]!==1&&!J_(e)&&typeof t=="number"&&t!==0?t+"px":t};function ml(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Ni={name:t.name,styles:t.styles,next:Ni},t.name;if(t.styles!==void 0){var i=t.next;if(i!==void 0)for(;i!==void 0;)Ni={name:i.name,styles:i.styles,next:Ni},i=i.next;var r=t.styles+";";return r}return T3(n,e,t)}case"function":{if(n!==void 0){var s=Ni,o=t(n);return Ni=s,ml(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function T3(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=ml(n,e,t[r])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":dv(o)&&(i+=ef(s)+":"+hv(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)dv(o[a])&&(i+=ef(s)+":"+hv(s,o[a])+";");else{var l=ml(n,e,o);switch(s){case"animation":case"animationName":{i+=ef(s)+":"+l+";";break}default:i+=s+"{"+l+"}"}}}return i}var fv=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ni,Z_=function(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";Ni=void 0;var o=e[0];o==null||o.raw===void 0?(r=!1,s+=ml(i,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=ml(i,t,e[a]),r&&(s+=o[a]);fv.lastIndex=0;for(var l="",c;(c=fv.exec(s))!==null;)l+="-"+c[1];var u=b3(s)+l;return{name:u,styles:s,next:Ni}},A3=function(e){return e()},P3=hl["useInsertionEffect"]?hl["useInsertionEffect"]:!1,N3=P3||A3,Jd={}.hasOwnProperty,K_=F.exports.createContext(typeof HTMLElement<"u"?h3({key:"css"}):null);K_.Provider;var R3=function(e){return F.exports.forwardRef(function(t,i){var r=F.exports.useContext(K_);return e(t,r,i)})},L3=F.exports.createContext({}),_p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Q_=function(e,t){var i={};for(var r in t)Jd.call(t,r)&&(i[r]=t[r]);return i[_p]=e,i},I3=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return Y_(t,i,r),N3(function(){return S3(t,i,r)}),null},e1=R3(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[_p],s=[i],o="";typeof n.className=="string"?o=w3(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var a=Z_(s,void 0,F.exports.useContext(L3));o+=e.key+"-"+a.name;var l={};for(var c in n)Jd.call(n,c)&&c!=="css"&&c!==_p&&(l[c]=n[c]);return l.ref=t,l.className=o,F.exports.createElement(F.exports.Fragment,null,F.exports.createElement(I3,{cache:e,serialized:a,isStringTag:typeof r=="string"}),F.exports.createElement(r,l))}),Zd={exports:{}},Kd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D3=F.exports,k3=Symbol.for("react.element"),O3=Symbol.for("react.fragment"),F3=Object.prototype.hasOwnProperty,B3=D3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z3={key:!0,ref:!0,__self:!0,__source:!0};function t1(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)F3.call(e,i)&&!z3.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:k3,type:n,key:s,ref:o,props:r,_owner:B3.current}}Kd.Fragment=O3;Kd.jsx=t1;Kd.jsxs=t1;(function(n){n.exports=Kd})(Zd);const U3=Zd.exports.Fragment,pv=Zd.exports.jsx,mv=Zd.exports.jsxs;var je=U3;function m(n,e,t){return Jd.call(e,"css")?pv(e1,Q_(n,e),t):pv(n,e,t)}function M(n,e,t){return Jd.call(e,"css")?mv(e1,Q_(n,e),t):mv(n,e,t)}var wp={},mg={exports:{}},Gn={},n1={exports:{}},i1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,I){var B=D.length;D.push(I);e:for(;0<B;){var Y=B-1>>>1,ee=D[Y];if(0<r(ee,I))D[Y]=I,D[B]=ee,B=Y;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var I=D[0],B=D.pop();if(B!==I){D[0]=B;e:for(var Y=0,ee=D.length,X=ee>>>1;Y<X;){var he=2*(Y+1)-1,Ce=D[he],q=he+1,Fe=D[q];if(0>r(Ce,B))q<ee&&0>r(Fe,Ce)?(D[Y]=Fe,D[q]=B,Y=q):(D[Y]=Ce,D[he]=B,Y=he);else if(q<ee&&0>r(Fe,B))D[Y]=Fe,D[q]=B,Y=q;else break e}}return I}function r(D,I){var B=D.sortIndex-I.sortIndex;return B!==0?B:D.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,v=!1,f=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var I=t(c);I!==null;){if(I.callback===null)i(c);else if(I.startTime<=D)i(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=t(c)}}function w(D){if(f=!1,_(D),!v)if(t(l)!==null)v=!0,Z(b);else{var I=t(c);I!==null&&ce(w,I.startTime-D)}}function b(D,I){v=!1,f&&(f=!1,y(S),S=-1),p=!0;var B=d;try{for(_(I),h=t(l);h!==null&&(!(h.expirationTime>I)||D&&!H());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,d=h.priorityLevel;var ee=Y(h.expirationTime<=I);I=n.unstable_now(),typeof ee=="function"?h.callback=ee:h===t(l)&&i(l),_(I)}else i(l);h=t(l)}if(h!==null)var X=!0;else{var he=t(c);he!==null&&ce(w,he.startTime-I),X=!1}return X}finally{h=null,d=B,p=!1}}var E=!1,T=null,S=-1,A=5,L=-1;function H(){return!(n.unstable_now()-L<A)}function oe(){if(T!==null){var D=n.unstable_now();L=D;var I=!0;try{I=T(!0,D)}finally{I?G():(E=!1,T=null)}}else E=!1}var G;if(typeof x=="function")G=function(){x(oe)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,j=k.port2;k.port1.onmessage=oe,G=function(){j.postMessage(null)}}else G=function(){g(oe,0)};function Z(D){T=D,E||(E=!0,G())}function ce(D,I){S=g(function(){D(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,Z(b))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var B=d;d=I;try{return D()}finally{d=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=d;d=D;try{return I()}finally{d=B}},n.unstable_scheduleCallback=function(D,I,B){var Y=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,D){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,D={id:u++,callback:I,priorityLevel:D,startTime:B,expirationTime:ee,sortIndex:-1},B>Y?(D.sortIndex=B,e(c,D),t(l)===null&&D===t(c)&&(f?(y(S),S=-1):f=!0,ce(w,B-Y))):(D.sortIndex=ee,e(l,D),v||p||(v=!0,Z(b))),D},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(D){var I=d;return function(){var B=d;d=I;try{return D.apply(this,arguments)}finally{d=B}}}})(i1);(function(n){n.exports=i1})(n1);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=F.exports,Un=n1.exports;function fe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s1=new Set,gl={};function js(n,e){Ko(n,e),Ko(n+"Capture",e)}function Ko(n,e){for(gl[n]=e,n=0;n<e.length;n++)s1.add(e[n])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sp=Object.prototype.hasOwnProperty,V3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gv={},vv={};function G3(n){return Sp.call(vv,n)?!0:Sp.call(gv,n)?!1:V3.test(n)?vv[n]=!0:(gv[n]=!0,!1)}function H3(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function W3(n,e,t,i){if(e===null||typeof e>"u"||H3(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){on[n]=new wn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];on[e]=new wn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){on[n]=new wn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){on[n]=new wn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){on[n]=new wn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){on[n]=new wn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){on[n]=new wn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){on[n]=new wn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){on[n]=new wn(n,5,!1,n.toLowerCase(),null,!1,!1)});var gg=/[\-:]([a-z])/g;function vg(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(gg,vg);on[e]=new wn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(gg,vg);on[e]=new wn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(gg,vg);on[e]=new wn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){on[n]=new wn(n,1,!1,n.toLowerCase(),null,!1,!1)});on.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){on[n]=new wn(n,1,!1,n.toLowerCase(),null,!0,!0)});function yg(n,e,t,i){var r=on.hasOwnProperty(e)?on[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W3(e,t,r,i)&&(t=null),i||r===null?G3(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var cr=r1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),Mo=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),o1=Symbol.for("react.provider"),a1=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),wg=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),l1=Symbol.for("react.offscreen"),yv=Symbol.iterator;function Ta(n){return n===null||typeof n!="object"?null:(n=yv&&n[yv]||n["@@iterator"],typeof n=="function"?n:null)}var Et=Object.assign,tf;function ja(n){if(tf===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);tf=e&&e[1]||""}return`
`+tf+n}var nf=!1;function rf(n,e){if(!n||nf)return"";nf=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{nf=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ja(n):""}function $3(n){switch(n.tag){case 5:return ja(n.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 2:case 15:return n=rf(n.type,!1),n;case 11:return n=rf(n.type.render,!1),n;case 1:return n=rf(n.type,!0),n;default:return""}}function Cp(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Eo:return"Fragment";case Mo:return"Portal";case bp:return"Profiler";case xg:return"StrictMode";case Mp:return"Suspense";case Ep:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case a1:return(n.displayName||"Context")+".Consumer";case o1:return(n._context.displayName||"Context")+".Provider";case _g:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case wg:return e=n.displayName||null,e!==null?e:Cp(n.type)||"Memo";case Er:e=n._payload,n=n._init;try{return Cp(n(e))}catch{}}return null}function j3(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cp(e);case 8:return e===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function c1(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X3(n){var e=c1(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Rc(n){n._valueTracker||(n._valueTracker=X3(n))}function u1(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=c1(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function sd(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Tp(n,e){var t=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function xv(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Hr(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d1(n,e){e=e.checked,e!=null&&yg(n,"checked",e,!1)}function Ap(n,e){d1(n,e);var t=Hr(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Pp(n,e.type,t):e.hasOwnProperty("defaultValue")&&Pp(n,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function _v(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Pp(n,e,t){(e!=="number"||sd(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Xa=Array.isArray;function Ho(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Hr(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Np(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function wv(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(fe(92));if(Xa(t)){if(1<t.length)throw Error(fe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Hr(t)}}function h1(n,e){var t=Hr(e.value),i=Hr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function Sv(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function f1(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rp(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?f1(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Lc,p1=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Lc=Lc||document.createElement("div"),Lc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lc.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function vl(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q3=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(n){q3.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Qa[e]=Qa[n]})});function m1(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Qa.hasOwnProperty(n)&&Qa[n]?(""+e).trim():e+"px"}function g1(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=m1(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var Y3=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(n,e){if(e){if(Y3[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Ip(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dp=null;function Sg(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kp=null,Wo=null,$o=null;function bv(n){if(n=rc(n)){if(typeof kp!="function")throw Error(fe(280));var e=n.stateNode;e&&(e=ih(e),kp(n.stateNode,n.type,e))}}function v1(n){Wo?$o?$o.push(n):$o=[n]:Wo=n}function y1(){if(Wo){var n=Wo,e=$o;if($o=Wo=null,bv(n),e)for(n=0;n<e.length;n++)bv(e[n])}}function x1(n,e){return n(e)}function _1(){}var sf=!1;function w1(n,e,t){if(sf)return n(e,t);sf=!0;try{return x1(n,e,t)}finally{sf=!1,(Wo!==null||$o!==null)&&(_1(),y1())}}function yl(n,e){var t=n.stateNode;if(t===null)return null;var i=ih(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(fe(231,e,typeof t));return t}var Op=!1;if(rr)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){Op=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{Op=!1}function J3(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var el=!1,od=null,ad=!1,Fp=null,Z3={onError:function(n){el=!0,od=n}};function K3(n,e,t,i,r,s,o,a,l){el=!1,od=null,J3.apply(Z3,arguments)}function Q3(n,e,t,i,r,s,o,a,l){if(K3.apply(this,arguments),el){if(el){var c=od;el=!1,od=null}else throw Error(fe(198));ad||(ad=!0,Fp=c)}}function Xs(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function S1(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Mv(n){if(Xs(n)!==n)throw Error(fe(188))}function eE(n){var e=n.alternate;if(!e){if(e=Xs(n),e===null)throw Error(fe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return Mv(r),n;if(s===i)return Mv(r),e;s=s.sibling}throw Error(fe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(t.alternate!==i)throw Error(fe(190))}if(t.tag!==3)throw Error(fe(188));return t.stateNode.current===t?n:e}function b1(n){return n=eE(n),n!==null?M1(n):null}function M1(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=M1(n);if(e!==null)return e;n=n.sibling}return null}var E1=Un.unstable_scheduleCallback,Ev=Un.unstable_cancelCallback,tE=Un.unstable_shouldYield,nE=Un.unstable_requestPaint,Nt=Un.unstable_now,iE=Un.unstable_getCurrentPriorityLevel,bg=Un.unstable_ImmediatePriority,C1=Un.unstable_UserBlockingPriority,ld=Un.unstable_NormalPriority,rE=Un.unstable_LowPriority,T1=Un.unstable_IdlePriority,Qd=null,Ii=null;function sE(n){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Qd,n,void 0,(n.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:lE,oE=Math.log,aE=Math.LN2;function lE(n){return n>>>=0,n===0?32:31-(oE(n)/aE|0)|0}var Ic=64,Dc=4194304;function qa(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function cd(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=qa(a):(s&=o,s!==0&&(i=qa(s)))}else o=t&~r,o!==0?i=qa(o):s!==0&&(i=qa(s));if(i===0)return 0;if(e!==0&&e!==i&&(e&r)===0&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if((i&4)!==0&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-yi(e),r=1<<t,i|=n[t],e&=~r;return i}function cE(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uE(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-yi(s),a=1<<o,l=r[o];l===-1?((a&t)===0||(a&i)!==0)&&(r[o]=cE(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Bp(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function A1(){var n=Ic;return Ic<<=1,(Ic&4194240)===0&&(Ic=64),n}function of(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function nc(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-yi(e),n[e]=t}function dE(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-yi(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Mg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-yi(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var ct=0;function P1(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var N1,Eg,R1,L1,I1,zp=!1,kc=[],Dr=null,kr=null,Or=null,xl=new Map,_l=new Map,Ar=[],hE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cv(n,e){switch(n){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(e.pointerId)}}function Pa(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=rc(e),e!==null&&Eg(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function fE(n,e,t,i,r){switch(e){case"focusin":return Dr=Pa(Dr,n,e,t,i,r),!0;case"dragenter":return kr=Pa(kr,n,e,t,i,r),!0;case"mouseover":return Or=Pa(Or,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return xl.set(s,Pa(xl.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,_l.set(s,Pa(_l.get(s)||null,n,e,t,i,r)),!0}return!1}function D1(n){var e=_s(n.target);if(e!==null){var t=Xs(e);if(t!==null){if(e=t.tag,e===13){if(e=S1(t),e!==null){n.blockedOn=e,I1(n.priority,function(){R1(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bu(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Up(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Dp=i,t.target.dispatchEvent(i),Dp=null}else return e=rc(t),e!==null&&Eg(e),n.blockedOn=t,!1;e.shift()}return!0}function Tv(n,e,t){Bu(n)&&t.delete(e)}function pE(){zp=!1,Dr!==null&&Bu(Dr)&&(Dr=null),kr!==null&&Bu(kr)&&(kr=null),Or!==null&&Bu(Or)&&(Or=null),xl.forEach(Tv),_l.forEach(Tv)}function Na(n,e){n.blockedOn===e&&(n.blockedOn=null,zp||(zp=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,pE)))}function wl(n){function e(r){return Na(r,n)}if(0<kc.length){Na(kc[0],n);for(var t=1;t<kc.length;t++){var i=kc[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Dr!==null&&Na(Dr,n),kr!==null&&Na(kr,n),Or!==null&&Na(Or,n),xl.forEach(e),_l.forEach(e),t=0;t<Ar.length;t++)i=Ar[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ar.length&&(t=Ar[0],t.blockedOn===null);)D1(t),t.blockedOn===null&&Ar.shift()}var jo=cr.ReactCurrentBatchConfig,ud=!0;function mE(n,e,t,i){var r=ct,s=jo.transition;jo.transition=null;try{ct=1,Cg(n,e,t,i)}finally{ct=r,jo.transition=s}}function gE(n,e,t,i){var r=ct,s=jo.transition;jo.transition=null;try{ct=4,Cg(n,e,t,i)}finally{ct=r,jo.transition=s}}function Cg(n,e,t,i){if(ud){var r=Up(n,e,t,i);if(r===null)gf(n,e,i,dd,t),Cv(n,i);else if(fE(r,n,e,t,i))i.stopPropagation();else if(Cv(n,i),e&4&&-1<hE.indexOf(n)){for(;r!==null;){var s=rc(r);if(s!==null&&N1(s),s=Up(n,e,t,i),s===null&&gf(n,e,i,dd,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else gf(n,e,i,null,t)}}var dd=null;function Up(n,e,t,i){if(dd=null,n=Sg(i),n=_s(n),n!==null)if(e=Xs(n),e===null)n=null;else if(t=e.tag,t===13){if(n=S1(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return dd=n,null}function k1(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iE()){case bg:return 1;case C1:return 4;case ld:case rE:return 16;case T1:return 536870912;default:return 16}default:return 16}}var Nr=null,Tg=null,zu=null;function O1(){if(zu)return zu;var n,e=Tg,t=e.length,i,r="value"in Nr?Nr.value:Nr.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return zu=r.slice(n,1<i?1-i:void 0)}function Uu(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Oc(){return!0}function Av(){return!1}function Hn(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oc:Av,this.isPropagationStopped=Av,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ag=Hn(da),ic=Et({},da,{view:0,detail:0}),vE=Hn(ic),af,lf,Ra,eh=Et({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ra&&(Ra&&n.type==="mousemove"?(af=n.screenX-Ra.screenX,lf=n.screenY-Ra.screenY):lf=af=0,Ra=n),af)},movementY:function(n){return"movementY"in n?n.movementY:lf}}),Pv=Hn(eh),yE=Et({},eh,{dataTransfer:0}),xE=Hn(yE),_E=Et({},ic,{relatedTarget:0}),cf=Hn(_E),wE=Et({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),SE=Hn(wE),bE=Et({},da,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ME=Hn(bE),EE=Et({},da,{data:0}),Nv=Hn(EE),CE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PE(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=AE[n])?!!e[n]:!1}function Pg(){return PE}var NE=Et({},ic,{key:function(n){if(n.key){var e=CE[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Uu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?TE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(n){return n.type==="keypress"?Uu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Uu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),RE=Hn(NE),LE=Et({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rv=Hn(LE),IE=Et({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),DE=Hn(IE),kE=Et({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),OE=Hn(kE),FE=Et({},eh,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),BE=Hn(FE),zE=[9,13,27,32],Ng=rr&&"CompositionEvent"in window,tl=null;rr&&"documentMode"in document&&(tl=document.documentMode);var UE=rr&&"TextEvent"in window&&!tl,F1=rr&&(!Ng||tl&&8<tl&&11>=tl),Lv=String.fromCharCode(32),Iv=!1;function B1(n,e){switch(n){case"keyup":return zE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Co=!1;function VE(n,e){switch(n){case"compositionend":return z1(e);case"keypress":return e.which!==32?null:(Iv=!0,Lv);case"textInput":return n=e.data,n===Lv&&Iv?null:n;default:return null}}function GE(n,e){if(Co)return n==="compositionend"||!Ng&&B1(n,e)?(n=O1(),zu=Tg=Nr=null,Co=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F1&&e.locale!=="ko"?null:e.data;default:return null}}var HE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!HE[n.type]:e==="textarea"}function U1(n,e,t,i){v1(i),e=hd(e,"onChange"),0<e.length&&(t=new Ag("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var nl=null,Sl=null;function WE(n){Z1(n,0)}function th(n){var e=Po(n);if(u1(e))return n}function $E(n,e){if(n==="change")return e}var V1=!1;if(rr){var uf;if(rr){var df="oninput"in document;if(!df){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),df=typeof kv.oninput=="function"}uf=df}else uf=!1;V1=uf&&(!document.documentMode||9<document.documentMode)}function Ov(){nl&&(nl.detachEvent("onpropertychange",G1),Sl=nl=null)}function G1(n){if(n.propertyName==="value"&&th(Sl)){var e=[];U1(e,Sl,n,Sg(n)),w1(WE,e)}}function jE(n,e,t){n==="focusin"?(Ov(),nl=e,Sl=t,nl.attachEvent("onpropertychange",G1)):n==="focusout"&&Ov()}function XE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return th(Sl)}function qE(n,e){if(n==="click")return th(e)}function YE(n,e){if(n==="input"||n==="change")return th(e)}function JE(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var _i=typeof Object.is=="function"?Object.is:JE;function bl(n,e){if(_i(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Sp.call(e,r)||!_i(n[r],e[r]))return!1}return!0}function Fv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bv(n,e){var t=Fv(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Fv(t)}}function H1(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?H1(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function W1(){for(var n=window,e=sd();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=sd(n.document)}return e}function Rg(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function ZE(n){var e=W1(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&H1(t.ownerDocument.documentElement,t)){if(i!==null&&Rg(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Bv(t,s);var o=Bv(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var KE=rr&&"documentMode"in document&&11>=document.documentMode,To=null,Vp=null,il=null,Gp=!1;function zv(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Gp||To==null||To!==sd(i)||(i=To,"selectionStart"in i&&Rg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),il&&bl(il,i)||(il=i,i=hd(Vp,"onSelect"),0<i.length&&(e=new Ag("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=To)))}function Fc(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ao={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},hf={},$1={};rr&&($1=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function nh(n){if(hf[n])return hf[n];if(!Ao[n])return n;var e=Ao[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in $1)return hf[n]=e[t];return n}var j1=nh("animationend"),X1=nh("animationiteration"),q1=nh("animationstart"),Y1=nh("transitionend"),J1=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,e){J1.set(n,e),js(e,[n])}for(var ff=0;ff<Uv.length;ff++){var pf=Uv[ff],QE=pf.toLowerCase(),eC=pf[0].toUpperCase()+pf.slice(1);Kr(QE,"on"+eC)}Kr(j1,"onAnimationEnd");Kr(X1,"onAnimationIteration");Kr(q1,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(Y1,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function Vv(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,Q3(i,e,void 0,n),n.currentTarget=null}function Z1(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Vv(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Vv(r,a,c),s=l}}}if(ad)throw n=Fp,ad=!1,Fp=null,n}function vt(n,e){var t=e[Xp];t===void 0&&(t=e[Xp]=new Set);var i=n+"__bubble";t.has(i)||(K1(e,n,2,!1),t.add(i))}function mf(n,e,t){var i=0;e&&(i|=4),K1(t,n,i,e)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Ml(n){if(!n[Bc]){n[Bc]=!0,s1.forEach(function(t){t!=="selectionchange"&&(tC.has(t)||mf(t,!1,n),mf(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Bc]||(e[Bc]=!0,mf("selectionchange",!1,e))}}function K1(n,e,t,i){switch(k1(e)){case 1:var r=mE;break;case 4:r=gE;break;default:r=Cg}t=r.bind(null,e,t,n),r=void 0,!Op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function gf(n,e,t,i,r){var s=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=_s(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}w1(function(){var c=s,u=Sg(t),h=[];e:{var d=J1.get(n);if(d!==void 0){var p=Ag,v=n;switch(n){case"keypress":if(Uu(t)===0)break e;case"keydown":case"keyup":p=RE;break;case"focusin":v="focus",p=cf;break;case"focusout":v="blur",p=cf;break;case"beforeblur":case"afterblur":p=cf;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DE;break;case j1:case X1:case q1:p=SE;break;case Y1:p=OE;break;case"scroll":p=vE;break;case"wheel":p=BE;break;case"copy":case"cut":case"paste":p=ME;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rv}var f=(e&4)!==0,g=!f&&n==="scroll",y=f?d!==null?d+"Capture":null:d;f=[];for(var x=c,_;x!==null;){_=x;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,y!==null&&(w=yl(x,y),w!=null&&f.push(El(x,w,_)))),g)break;x=x.return}0<f.length&&(d=new p(d,v,null,t,u),h.push({event:d,listeners:f}))}}if((e&7)===0){e:{if(d=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",d&&t!==Dp&&(v=t.relatedTarget||t.fromElement)&&(_s(v)||v[sr]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=c,v=v?_s(v):null,v!==null&&(g=Xs(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(f=Pv,w="onMouseLeave",y="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(f=Rv,w="onPointerLeave",y="onPointerEnter",x="pointer"),g=p==null?d:Po(p),_=v==null?d:Po(v),d=new f(w,x+"leave",p,t,u),d.target=g,d.relatedTarget=_,w=null,_s(u)===c&&(f=new f(y,x+"enter",v,t,u),f.target=_,f.relatedTarget=g,w=f),g=w,p&&v)t:{for(f=p,y=v,x=0,_=f;_;_=ro(_))x++;for(_=0,w=y;w;w=ro(w))_++;for(;0<x-_;)f=ro(f),x--;for(;0<_-x;)y=ro(y),_--;for(;x--;){if(f===y||y!==null&&f===y.alternate)break t;f=ro(f),y=ro(y)}f=null}else f=null;p!==null&&Gv(h,d,p,f,!1),v!==null&&g!==null&&Gv(h,g,v,f,!0)}}e:{if(d=c?Po(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var b=$E;else if(Dv(d))if(V1)b=YE;else{b=XE;var E=jE}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=qE);if(b&&(b=b(n,c))){U1(h,b,t,u);break e}E&&E(n,d,c),n==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Pp(d,"number",d.value)}switch(E=c?Po(c):window,n){case"focusin":(Dv(E)||E.contentEditable==="true")&&(To=E,Vp=c,il=null);break;case"focusout":il=Vp=To=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,zv(h,t,u);break;case"selectionchange":if(KE)break;case"keydown":case"keyup":zv(h,t,u)}var T;if(Ng)e:{switch(n){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Co?B1(n,t)&&(S="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(S="onCompositionStart");S&&(F1&&t.locale!=="ko"&&(Co||S!=="onCompositionStart"?S==="onCompositionEnd"&&Co&&(T=O1()):(Nr=u,Tg="value"in Nr?Nr.value:Nr.textContent,Co=!0)),E=hd(c,S),0<E.length&&(S=new Nv(S,n,null,t,u),h.push({event:S,listeners:E}),T?S.data=T:(T=z1(t),T!==null&&(S.data=T)))),(T=UE?VE(n,t):GE(n,t))&&(c=hd(c,"onBeforeInput"),0<c.length&&(u=new Nv("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=T))}Z1(h,e)})}function El(n,e,t){return{instance:n,listener:e,currentTarget:t}}function hd(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=yl(n,t),s!=null&&i.unshift(El(n,s,r)),s=yl(n,e),s!=null&&i.push(El(n,s,r))),n=n.return}return i}function ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Gv(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=yl(t,s),l!=null&&o.unshift(El(t,l,a))):r||(l=yl(t,s),l!=null&&o.push(El(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var nC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function Hv(n){return(typeof n=="string"?n:""+n).replace(nC,`
`).replace(iC,"")}function zc(n,e,t){if(e=Hv(e),Hv(n)!==e&&t)throw Error(fe(425))}function fd(){}var Hp=null,Wp=null;function $p(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,rC=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,sC=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(n){return Wv.resolve(null).then(n).catch(oC)}:jp;function oC(n){setTimeout(function(){throw n})}function vf(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),wl(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);wl(e)}function Fr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function $v(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ha=Math.random().toString(36).slice(2),Ri="__reactFiber$"+ha,Cl="__reactProps$"+ha,sr="__reactContainer$"+ha,Xp="__reactEvents$"+ha,aC="__reactListeners$"+ha,lC="__reactHandles$"+ha;function _s(n){var e=n[Ri];if(e)return e;for(var t=n.parentNode;t;){if(e=t[sr]||t[Ri]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=$v(n);n!==null;){if(t=n[Ri])return t;n=$v(n)}return e}n=t,t=n.parentNode}return null}function rc(n){return n=n[Ri]||n[sr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Po(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(fe(33))}function ih(n){return n[Cl]||null}var qp=[],No=-1;function Qr(n){return{current:n}}function yt(n){0>No||(n.current=qp[No],qp[No]=null,No--)}function mt(n,e){No++,qp[No]=n.current,n.current=e}var Wr={},fn=Qr(Wr),Cn=Qr(!1),Fs=Wr;function Qo(n,e){var t=n.type.contextTypes;if(!t)return Wr;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Tn(n){return n=n.childContextTypes,n!=null}function pd(){yt(Cn),yt(fn)}function jv(n,e,t){if(fn.current!==Wr)throw Error(fe(168));mt(fn,e),mt(Cn,t)}function Q1(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(fe(108,j3(n)||"Unknown",r));return Et({},t,i)}function md(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wr,Fs=fn.current,mt(fn,n),mt(Cn,Cn.current),!0}function Xv(n,e,t){var i=n.stateNode;if(!i)throw Error(fe(169));t?(n=Q1(n,e,Fs),i.__reactInternalMemoizedMergedChildContext=n,yt(Cn),yt(fn),mt(fn,n)):yt(Cn),mt(Cn,t)}var ji=null,rh=!1,yf=!1;function ew(n){ji===null?ji=[n]:ji.push(n)}function cC(n){rh=!0,ew(n)}function es(){if(!yf&&ji!==null){yf=!0;var n=0,e=ct;try{var t=ji;for(ct=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}ji=null,rh=!1}catch(r){throw ji!==null&&(ji=ji.slice(n+1)),E1(bg,es),r}finally{ct=e,yf=!1}}return null}var Ro=[],Lo=0,gd=null,vd=0,Jn=[],Zn=0,Bs=null,qi=1,Yi="";function ms(n,e){Ro[Lo++]=vd,Ro[Lo++]=gd,gd=n,vd=e}function tw(n,e,t){Jn[Zn++]=qi,Jn[Zn++]=Yi,Jn[Zn++]=Bs,Bs=n;var i=qi;n=Yi;var r=32-yi(i)-1;i&=~(1<<r),t+=1;var s=32-yi(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,qi=1<<32-yi(e)+r|t<<r|i,Yi=s+n}else qi=1<<s|t<<r|i,Yi=n}function Lg(n){n.return!==null&&(ms(n,1),tw(n,1,0))}function Ig(n){for(;n===gd;)gd=Ro[--Lo],Ro[Lo]=null,vd=Ro[--Lo],Ro[Lo]=null;for(;n===Bs;)Bs=Jn[--Zn],Jn[Zn]=null,Yi=Jn[--Zn],Jn[Zn]=null,qi=Jn[--Zn],Jn[Zn]=null}var Fn=null,kn=null,xt=!1,gi=null;function nw(n,e){var t=Qn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function qv(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Fn=n,kn=Fr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Fn=n,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Bs!==null?{id:qi,overflow:Yi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Fn=n,kn=null,!0):!1;default:return!1}}function Yp(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Jp(n){if(xt){var e=kn;if(e){var t=e;if(!qv(n,e)){if(Yp(n))throw Error(fe(418));e=Fr(t.nextSibling);var i=Fn;e&&qv(n,e)?nw(i,t):(n.flags=n.flags&-4097|2,xt=!1,Fn=n)}}else{if(Yp(n))throw Error(fe(418));n.flags=n.flags&-4097|2,xt=!1,Fn=n}}}function Yv(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Fn=n}function Uc(n){if(n!==Fn)return!1;if(!xt)return Yv(n),xt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!$p(n.type,n.memoizedProps)),e&&(e=kn)){if(Yp(n))throw iw(),Error(fe(418));for(;e;)nw(n,e),e=Fr(e.nextSibling)}if(Yv(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(fe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){kn=Fr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}kn=null}}else kn=Fn?Fr(n.stateNode.nextSibling):null;return!0}function iw(){for(var n=kn;n;)n=Fr(n.nextSibling)}function ea(){kn=Fn=null,xt=!1}function Dg(n){gi===null?gi=[n]:gi.push(n)}var uC=cr.ReactCurrentBatchConfig;function pi(n,e){if(n&&n.defaultProps){e=Et({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var yd=Qr(null),xd=null,Io=null,kg=null;function Og(){kg=Io=xd=null}function Fg(n){var e=yd.current;yt(yd),n._currentValue=e}function Zp(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Xo(n,e){xd=n,kg=Io=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(Mn=!0),n.firstContext=null)}function ri(n){var e=n._currentValue;if(kg!==n)if(n={context:n,memoizedValue:e,next:null},Io===null){if(xd===null)throw Error(fe(308));Io=n,xd.dependencies={lanes:0,firstContext:n}}else Io=Io.next=n;return e}var ws=null;function Bg(n){ws===null?ws=[n]:ws.push(n)}function rw(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Bg(e)):(t.next=r.next,r.next=t),e.interleaved=t,or(n,i)}function or(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Cr=!1;function zg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sw(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function er(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,(tt&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,or(n,t)}return r=i.interleaved,r===null?(e.next=e,Bg(i)):(e.next=r.next,r.next=e),i.interleaved=e,or(n,t)}function Vu(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Mg(n,t)}}function Jv(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function _d(n,e,t,i){var r=n.updateQueue;Cr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,f=a;switch(d=e,p=t,f.tag){case 1:if(v=f.payload,typeof v=="function"){h=v.call(p,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=f.payload,d=typeof v=="function"?v.call(p,h,d):v,d==null)break e;h=Et({},h,d);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Us|=o,n.lanes=o,n.memoizedState=h}}function Zv(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(fe(191,r));r.call(i)}}}var ow=new r1.Component().refs;function Kp(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Et({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var sh={isMounted:function(n){return(n=n._reactInternals)?Xs(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=xn(),r=Ur(n),s=er(i,r);s.payload=e,t!=null&&(s.callback=t),e=Br(n,s,r),e!==null&&(xi(e,n,r,i),Vu(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=xn(),r=Ur(n),s=er(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Br(n,s,r),e!==null&&(xi(e,n,r,i),Vu(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=xn(),i=Ur(n),r=er(t,i);r.tag=2,e!=null&&(r.callback=e),e=Br(n,r,i),e!==null&&(xi(e,n,i,t),Vu(e,n,i))}};function Kv(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!bl(t,i)||!bl(r,s):!0}function aw(n,e,t){var i=!1,r=Wr,s=e.contextType;return typeof s=="object"&&s!==null?s=ri(s):(r=Tn(e)?Fs:fn.current,i=e.contextTypes,s=(i=i!=null)?Qo(n,r):Wr),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sh,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Qv(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&sh.enqueueReplaceState(e,e.state,null)}function Qp(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=ow,zg(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ri(s):(s=Tn(e)?Fs:fn.current,r.context=Qo(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kp(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&sh.enqueueReplaceState(r,r.state,null),_d(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function La(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(fe(309));var i=t.stateNode}if(!i)throw Error(fe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===ow&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(fe(284));if(!t._owner)throw Error(fe(290,n))}return n}function Vc(n,e){throw n=Object.prototype.toString.call(e),Error(fe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function ey(n){var e=n._init;return e(n._payload)}function lw(n){function e(y,x){if(n){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function t(y,x){if(!n)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function i(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function r(y,x){return y=Vr(y,x),y.index=0,y.sibling=null,y}function s(y,x,_){return y.index=_,n?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,x,_,w){return x===null||x.tag!==6?(x=Ef(_,y.mode,w),x.return=y,x):(x=r(x,_),x.return=y,x)}function l(y,x,_,w){var b=_.type;return b===Eo?u(y,x,_.props.children,w,_.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Er&&ey(b)===x.type)?(w=r(x,_.props),w.ref=La(y,x,_),w.return=y,w):(w=Xu(_.type,_.key,_.props,null,y.mode,w),w.ref=La(y,x,_),w.return=y,w)}function c(y,x,_,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Cf(_,y.mode,w),x.return=y,x):(x=r(x,_.children||[]),x.return=y,x)}function u(y,x,_,w,b){return x===null||x.tag!==7?(x=Ps(_,y.mode,w,b),x.return=y,x):(x=r(x,_),x.return=y,x)}function h(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ef(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Nc:return _=Xu(x.type,x.key,x.props,null,y.mode,_),_.ref=La(y,null,x),_.return=y,_;case Mo:return x=Cf(x,y.mode,_),x.return=y,x;case Er:var w=x._init;return h(y,w(x._payload),_)}if(Xa(x)||Ta(x))return x=Ps(x,y.mode,_,null),x.return=y,x;Vc(y,x)}return null}function d(y,x,_,w){var b=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(y,x,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:return _.key===b?l(y,x,_,w):null;case Mo:return _.key===b?c(y,x,_,w):null;case Er:return b=_._init,d(y,x,b(_._payload),w)}if(Xa(_)||Ta(_))return b!==null?null:u(y,x,_,w,null);Vc(y,_)}return null}function p(y,x,_,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(_)||null,a(x,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nc:return y=y.get(w.key===null?_:w.key)||null,l(x,y,w,b);case Mo:return y=y.get(w.key===null?_:w.key)||null,c(x,y,w,b);case Er:var E=w._init;return p(y,x,_,E(w._payload),b)}if(Xa(w)||Ta(w))return y=y.get(_)||null,u(x,y,w,b,null);Vc(x,w)}return null}function v(y,x,_,w){for(var b=null,E=null,T=x,S=x=0,A=null;T!==null&&S<_.length;S++){T.index>S?(A=T,T=null):A=T.sibling;var L=d(y,T,_[S],w);if(L===null){T===null&&(T=A);break}n&&T&&L.alternate===null&&e(y,T),x=s(L,x,S),E===null?b=L:E.sibling=L,E=L,T=A}if(S===_.length)return t(y,T),xt&&ms(y,S),b;if(T===null){for(;S<_.length;S++)T=h(y,_[S],w),T!==null&&(x=s(T,x,S),E===null?b=T:E.sibling=T,E=T);return xt&&ms(y,S),b}for(T=i(y,T);S<_.length;S++)A=p(T,y,S,_[S],w),A!==null&&(n&&A.alternate!==null&&T.delete(A.key===null?S:A.key),x=s(A,x,S),E===null?b=A:E.sibling=A,E=A);return n&&T.forEach(function(H){return e(y,H)}),xt&&ms(y,S),b}function f(y,x,_,w){var b=Ta(_);if(typeof b!="function")throw Error(fe(150));if(_=b.call(_),_==null)throw Error(fe(151));for(var E=b=null,T=x,S=x=0,A=null,L=_.next();T!==null&&!L.done;S++,L=_.next()){T.index>S?(A=T,T=null):A=T.sibling;var H=d(y,T,L.value,w);if(H===null){T===null&&(T=A);break}n&&T&&H.alternate===null&&e(y,T),x=s(H,x,S),E===null?b=H:E.sibling=H,E=H,T=A}if(L.done)return t(y,T),xt&&ms(y,S),b;if(T===null){for(;!L.done;S++,L=_.next())L=h(y,L.value,w),L!==null&&(x=s(L,x,S),E===null?b=L:E.sibling=L,E=L);return xt&&ms(y,S),b}for(T=i(y,T);!L.done;S++,L=_.next())L=p(T,y,S,L.value,w),L!==null&&(n&&L.alternate!==null&&T.delete(L.key===null?S:L.key),x=s(L,x,S),E===null?b=L:E.sibling=L,E=L);return n&&T.forEach(function(oe){return e(y,oe)}),xt&&ms(y,S),b}function g(y,x,_,w){if(typeof _=="object"&&_!==null&&_.type===Eo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:e:{for(var b=_.key,E=x;E!==null;){if(E.key===b){if(b=_.type,b===Eo){if(E.tag===7){t(y,E.sibling),x=r(E,_.props.children),x.return=y,y=x;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Er&&ey(b)===E.type){t(y,E.sibling),x=r(E,_.props),x.ref=La(y,E,_),x.return=y,y=x;break e}t(y,E);break}else e(y,E);E=E.sibling}_.type===Eo?(x=Ps(_.props.children,y.mode,w,_.key),x.return=y,y=x):(w=Xu(_.type,_.key,_.props,null,y.mode,w),w.ref=La(y,x,_),w.return=y,y=w)}return o(y);case Mo:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){t(y,x.sibling),x=r(x,_.children||[]),x.return=y,y=x;break e}else{t(y,x);break}else e(y,x);x=x.sibling}x=Cf(_,y.mode,w),x.return=y,y=x}return o(y);case Er:return E=_._init,g(y,x,E(_._payload),w)}if(Xa(_))return v(y,x,_,w);if(Ta(_))return f(y,x,_,w);Vc(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(t(y,x.sibling),x=r(x,_),x.return=y,y=x):(t(y,x),x=Ef(_,y.mode,w),x.return=y,y=x),o(y)):t(y,x)}return g}var ta=lw(!0),cw=lw(!1),sc={},Di=Qr(sc),Tl=Qr(sc),Al=Qr(sc);function Ss(n){if(n===sc)throw Error(fe(174));return n}function Ug(n,e){switch(mt(Al,e),mt(Tl,n),mt(Di,sc),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rp(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Rp(e,n)}yt(Di),mt(Di,e)}function na(){yt(Di),yt(Tl),yt(Al)}function uw(n){Ss(Al.current);var e=Ss(Di.current),t=Rp(e,n.type);e!==t&&(mt(Tl,n),mt(Di,t))}function Vg(n){Tl.current===n&&(yt(Di),yt(Tl))}var St=Qr(0);function wd(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xf=[];function Gg(){for(var n=0;n<xf.length;n++)xf[n]._workInProgressVersionPrimary=null;xf.length=0}var Gu=cr.ReactCurrentDispatcher,_f=cr.ReactCurrentBatchConfig,zs=0,Mt=null,Ut=null,qt=null,Sd=!1,rl=!1,Pl=0,dC=0;function an(){throw Error(fe(321))}function Hg(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!_i(n[t],e[t]))return!1;return!0}function Wg(n,e,t,i,r,s){if(zs=s,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gu.current=n===null||n.memoizedState===null?mC:gC,n=t(i,r),rl){s=0;do{if(rl=!1,Pl=0,25<=s)throw Error(fe(301));s+=1,qt=Ut=null,e.updateQueue=null,Gu.current=vC,n=t(i,r)}while(rl)}if(Gu.current=bd,e=Ut!==null&&Ut.next!==null,zs=0,qt=Ut=Mt=null,Sd=!1,e)throw Error(fe(300));return n}function $g(){var n=Pl!==0;return Pl=0,n}function Ci(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Mt.memoizedState=qt=n:qt=qt.next=n,qt}function si(){if(Ut===null){var n=Mt.alternate;n=n!==null?n.memoizedState:null}else n=Ut.next;var e=qt===null?Mt.memoizedState:qt.next;if(e!==null)qt=e,Ut=n;else{if(n===null)throw Error(fe(310));Ut=n,n={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},qt===null?Mt.memoizedState=qt=n:qt=qt.next=n}return qt}function Nl(n,e){return typeof e=="function"?e(n):e}function wf(n){var e=si(),t=e.queue;if(t===null)throw Error(fe(311));t.lastRenderedReducer=n;var i=Ut,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((zs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Mt.lanes|=u,Us|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,_i(i,e.memoizedState)||(Mn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Mt.lanes|=s,Us|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Sf(n){var e=si(),t=e.queue;if(t===null)throw Error(fe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);_i(s,e.memoizedState)||(Mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function dw(){}function hw(n,e){var t=Mt,i=si(),r=e(),s=!_i(i.memoizedState,r);if(s&&(i.memoizedState=r,Mn=!0),i=i.queue,jg(mw.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(t.flags|=2048,Rl(9,pw.bind(null,t,i,r,e),void 0,null),Yt===null)throw Error(fe(349));(zs&30)!==0||fw(t,e,r)}return r}function fw(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function pw(n,e,t,i){e.value=t,e.getSnapshot=i,gw(e)&&vw(n)}function mw(n,e,t){return t(function(){gw(e)&&vw(n)})}function gw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!_i(n,t)}catch{return!0}}function vw(n){var e=or(n,1);e!==null&&xi(e,n,1,-1)}function ty(n){var e=Ci();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:n},e.queue=n,n=n.dispatch=pC.bind(null,Mt,n),[e.memoizedState,n]}function Rl(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function yw(){return si().memoizedState}function Hu(n,e,t,i){var r=Ci();Mt.flags|=n,r.memoizedState=Rl(1|e,t,void 0,i===void 0?null:i)}function oh(n,e,t,i){var r=si();i=i===void 0?null:i;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,i!==null&&Hg(i,o.deps)){r.memoizedState=Rl(e,t,s,i);return}}Mt.flags|=n,r.memoizedState=Rl(1|e,t,s,i)}function ny(n,e){return Hu(8390656,8,n,e)}function jg(n,e){return oh(2048,8,n,e)}function xw(n,e){return oh(4,2,n,e)}function _w(n,e){return oh(4,4,n,e)}function ww(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Sw(n,e,t){return t=t!=null?t.concat([n]):null,oh(4,4,ww.bind(null,e,n),t)}function Xg(){}function bw(n,e){var t=si();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Hg(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Mw(n,e){var t=si();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Hg(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Ew(n,e,t){return(zs&21)===0?(n.baseState&&(n.baseState=!1,Mn=!0),n.memoizedState=t):(_i(t,e)||(t=A1(),Mt.lanes|=t,Us|=t,n.baseState=!0),e)}function hC(n,e){var t=ct;ct=t!==0&&4>t?t:4,n(!0);var i=_f.transition;_f.transition={};try{n(!1),e()}finally{ct=t,_f.transition=i}}function Cw(){return si().memoizedState}function fC(n,e,t){var i=Ur(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Tw(n))Aw(e,t);else if(t=rw(n,e,t,i),t!==null){var r=xn();xi(t,n,i,r),Pw(t,e,i)}}function pC(n,e,t){var i=Ur(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Tw(n))Aw(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,_i(a,o)){var l=e.interleaved;l===null?(r.next=r,Bg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=rw(n,e,r,i),t!==null&&(r=xn(),xi(t,n,i,r),Pw(t,e,i))}}function Tw(n){var e=n.alternate;return n===Mt||e!==null&&e===Mt}function Aw(n,e){rl=Sd=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Pw(n,e,t){if((t&4194240)!==0){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Mg(n,t)}}var bd={readContext:ri,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},mC={readContext:ri,useCallback:function(n,e){return Ci().memoizedState=[n,e===void 0?null:e],n},useContext:ri,useEffect:ny,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Hu(4194308,4,ww.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Hu(4194308,4,n,e)},useInsertionEffect:function(n,e){return Hu(4,2,n,e)},useMemo:function(n,e){var t=Ci();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ci();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=fC.bind(null,Mt,n),[i.memoizedState,n]},useRef:function(n){var e=Ci();return n={current:n},e.memoizedState=n},useState:ty,useDebugValue:Xg,useDeferredValue:function(n){return Ci().memoizedState=n},useTransition:function(){var n=ty(!1),e=n[0];return n=hC.bind(null,n[1]),Ci().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Mt,r=Ci();if(xt){if(t===void 0)throw Error(fe(407));t=t()}else{if(t=e(),Yt===null)throw Error(fe(349));(zs&30)!==0||fw(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,ny(mw.bind(null,i,s,n),[n]),i.flags|=2048,Rl(9,pw.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Ci(),e=Yt.identifierPrefix;if(xt){var t=Yi,i=qi;t=(i&~(1<<32-yi(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Pl++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=dC++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},gC={readContext:ri,useCallback:bw,useContext:ri,useEffect:jg,useImperativeHandle:Sw,useInsertionEffect:xw,useLayoutEffect:_w,useMemo:Mw,useReducer:wf,useRef:yw,useState:function(){return wf(Nl)},useDebugValue:Xg,useDeferredValue:function(n){var e=si();return Ew(e,Ut.memoizedState,n)},useTransition:function(){var n=wf(Nl)[0],e=si().memoizedState;return[n,e]},useMutableSource:dw,useSyncExternalStore:hw,useId:Cw,unstable_isNewReconciler:!1},vC={readContext:ri,useCallback:bw,useContext:ri,useEffect:jg,useImperativeHandle:Sw,useInsertionEffect:xw,useLayoutEffect:_w,useMemo:Mw,useReducer:Sf,useRef:yw,useState:function(){return Sf(Nl)},useDebugValue:Xg,useDeferredValue:function(n){var e=si();return Ut===null?e.memoizedState=n:Ew(e,Ut.memoizedState,n)},useTransition:function(){var n=Sf(Nl)[0],e=si().memoizedState;return[n,e]},useMutableSource:dw,useSyncExternalStore:hw,useId:Cw,unstable_isNewReconciler:!1};function ia(n,e){try{var t="",i=e;do t+=$3(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function bf(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function em(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var yC=typeof WeakMap=="function"?WeakMap:Map;function Nw(n,e,t){t=er(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Ed||(Ed=!0,um=i),em(n,e)},t}function Rw(n,e,t){t=er(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){em(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){em(n,e),typeof i!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function iy(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new yC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=LC.bind(null,n,e,t),e.then(n,n))}function ry(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function sy(n,e,t,i,r){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=er(-1,1),e.tag=2,Br(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=r,n)}var xC=cr.ReactCurrentOwner,Mn=!1;function vn(n,e,t,i){e.child=n===null?cw(e,null,t,i):ta(e,n.child,t,i)}function oy(n,e,t,i,r){t=t.render;var s=e.ref;return Xo(e,r),i=Wg(n,e,t,i,s,r),t=$g(),n!==null&&!Mn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ar(n,e,r)):(xt&&t&&Lg(e),e.flags|=1,vn(n,e,i,r),e.child)}function ay(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!t0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Lw(n,e,s,i,r)):(n=Xu(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&r)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:bl,t(o,i)&&n.ref===e.ref)return ar(n,e,r)}return e.flags|=1,n=Vr(s,i),n.ref=e.ref,n.return=e,e.child=n}function Lw(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(bl(s,i)&&n.ref===e.ref)if(Mn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)(n.flags&131072)!==0&&(Mn=!0);else return e.lanes=n.lanes,ar(n,e,r)}return tm(n,e,t,i,r)}function Iw(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(ko,Dn),Dn|=t;else{if((t&1073741824)===0)return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,mt(ko,Dn),Dn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,mt(ko,Dn),Dn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,mt(ko,Dn),Dn|=i;return vn(n,e,r,t),e.child}function Dw(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function tm(n,e,t,i,r){var s=Tn(t)?Fs:fn.current;return s=Qo(e,s),Xo(e,r),t=Wg(n,e,t,i,s,r),i=$g(),n!==null&&!Mn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ar(n,e,r)):(xt&&i&&Lg(e),e.flags|=1,vn(n,e,t,r),e.child)}function ly(n,e,t,i,r){if(Tn(t)){var s=!0;md(e)}else s=!1;if(Xo(e,r),e.stateNode===null)Wu(n,e),aw(e,t,i),Qp(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ri(c):(c=Tn(t)?Fs:fn.current,c=Qo(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Qv(e,o,i,c),Cr=!1;var d=e.memoizedState;o.state=d,_d(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Cn.current||Cr?(typeof u=="function"&&(Kp(e,t,u,i),l=e.memoizedState),(a=Cr||Kv(e,t,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,sw(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:pi(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ri(l):(l=Tn(t)?Fs:fn.current,l=Qo(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Qv(e,o,i,l),Cr=!1,d=e.memoizedState,o.state=d,_d(e,i,o,r);var v=e.memoizedState;a!==h||d!==v||Cn.current||Cr?(typeof p=="function"&&(Kp(e,t,p,i),v=e.memoizedState),(c=Cr||Kv(e,t,c,i,d,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),i=!1)}return nm(n,e,t,i,s,r)}function nm(n,e,t,i,r,s){Dw(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Xv(e,t,!1),ar(n,e,s);i=e.stateNode,xC.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=ta(e,n.child,null,s),e.child=ta(e,null,a,s)):vn(n,e,a,s),e.memoizedState=i.state,r&&Xv(e,t,!0),e.child}function kw(n){var e=n.stateNode;e.pendingContext?jv(n,e.pendingContext,e.pendingContext!==e.context):e.context&&jv(n,e.context,!1),Ug(n,e.containerInfo)}function cy(n,e,t,i,r){return ea(),Dg(r),e.flags|=256,vn(n,e,t,i),e.child}var im={dehydrated:null,treeContext:null,retryLane:0};function rm(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ow(n,e,t){var i=e.pendingProps,r=St.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),mt(St,r&1),n===null)return Jp(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},(i&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ch(o,i,0,null),n=Ps(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=rm(t),e.memoizedState=im,n):qg(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return _C(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return(o&1)===0&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Vr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Vr(a,s):(s=Ps(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?rm(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=im,i}return s=n.child,n=s.sibling,i=Vr(s,{mode:"visible",children:i.children}),(e.mode&1)===0&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function qg(n,e){return e=ch({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Gc(n,e,t,i){return i!==null&&Dg(i),ta(e,n.child,null,t),n=qg(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function _C(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=bf(Error(fe(422))),Gc(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=ch({mode:"visible",children:i.children},r,0,null),s=Ps(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,(e.mode&1)!==0&&ta(e,n.child,null,o),e.child.memoizedState=rm(o),e.memoizedState=im,s);if((e.mode&1)===0)return Gc(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(fe(419)),i=bf(s,i,void 0),Gc(n,e,o,i)}if(a=(o&n.childLanes)!==0,Mn||a){if(i=Yt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=(r&(i.suspendedLanes|o))!==0?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,or(n,r),xi(i,n,r,-1))}return e0(),i=bf(Error(fe(421))),Gc(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=IC.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,kn=Fr(r.nextSibling),Fn=e,xt=!0,gi=null,n!==null&&(Jn[Zn++]=qi,Jn[Zn++]=Yi,Jn[Zn++]=Bs,qi=n.id,Yi=n.overflow,Bs=e),e=qg(e,i.children),e.flags|=4096,e)}function uy(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Zp(n.return,e,t)}function Mf(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function Fw(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(vn(n,e,i.children,t),i=St.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&uy(n,t,e);else if(n.tag===19)uy(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(mt(St,i),(e.mode&1)===0)e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&wd(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Mf(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&wd(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Mf(e,!0,t,null,s);break;case"together":Mf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wu(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ar(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Us|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(fe(153));if(e.child!==null){for(n=e.child,t=Vr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Vr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function wC(n,e,t){switch(e.tag){case 3:kw(e),ea();break;case 5:uw(e);break;case 1:Tn(e.type)&&md(e);break;case 4:Ug(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;mt(yd,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(mt(St,St.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?Ow(n,e,t):(mt(St,St.current&1),n=ar(n,e,t),n!==null?n.sibling:null);mt(St,St.current&1);break;case 19:if(i=(t&e.childLanes)!==0,(n.flags&128)!==0){if(i)return Fw(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),mt(St,St.current),i)break;return null;case 22:case 23:return e.lanes=0,Iw(n,e,t)}return ar(n,e,t)}var Bw,sm,zw,Uw;Bw=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};sm=function(){};zw=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ss(Di.current);var s=null;switch(t){case"input":r=Tp(n,r),i=Tp(n,i),s=[];break;case"select":r=Et({},r,{value:void 0}),i=Et({},i,{value:void 0}),s=[];break;case"textarea":r=Np(n,r),i=Np(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=fd)}Lp(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Uw=function(n,e,t,i){t!==i&&(e.flags|=4)};function Ia(n,e){if(!xt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ln(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function SC(n,e,t){var i=e.pendingProps;switch(Ig(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Tn(e.type)&&pd(),ln(e),null;case 3:return i=e.stateNode,na(),yt(Cn),yt(fn),Gg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Uc(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,gi!==null&&(fm(gi),gi=null))),sm(n,e),ln(e),null;case 5:Vg(e);var r=Ss(Al.current);if(t=e.type,n!==null&&e.stateNode!=null)zw(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(fe(166));return ln(e),null}if(n=Ss(Di.current),Uc(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Ri]=e,i[Cl]=s,n=(e.mode&1)!==0,t){case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":case"embed":vt("load",i);break;case"video":case"audio":for(r=0;r<Ya.length;r++)vt(Ya[r],i);break;case"source":vt("error",i);break;case"img":case"image":case"link":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"input":xv(i,s),vt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},vt("invalid",i);break;case"textarea":wv(i,s),vt("invalid",i)}Lp(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&zc(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zc(i.textContent,a,n),r=["children",""+a]):gl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vt("scroll",i)}switch(t){case"input":Rc(i),_v(i,s,!0);break;case"textarea":Rc(i),Sv(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=fd)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=f1(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Ri]=e,n[Cl]=i,Bw(n,e,!1,!1),e.stateNode=n;e:{switch(o=Ip(t,i),t){case"dialog":vt("cancel",n),vt("close",n),r=i;break;case"iframe":case"object":case"embed":vt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Ya.length;r++)vt(Ya[r],n);r=i;break;case"source":vt("error",n),r=i;break;case"img":case"image":case"link":vt("error",n),vt("load",n),r=i;break;case"details":vt("toggle",n),r=i;break;case"input":xv(n,i),r=Tp(n,i),vt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Et({},i,{value:void 0}),vt("invalid",n);break;case"textarea":wv(n,i),r=Np(n,i),vt("invalid",n);break;default:r=i}Lp(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?g1(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&p1(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&vl(n,l):typeof l=="number"&&vl(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vt("scroll",n):l!=null&&yg(n,s,l,o))}switch(t){case"input":Rc(n),_v(n,i,!1);break;case"textarea":Rc(n),Sv(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Hr(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Ho(n,!!i.multiple,s,!1):i.defaultValue!=null&&Ho(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=fd)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(n&&e.stateNode!=null)Uw(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(fe(166));if(t=Ss(Al.current),Ss(Di.current),Uc(e)){if(i=e.stateNode,t=e.memoizedProps,i[Ri]=e,(s=i.nodeValue!==t)&&(n=Fn,n!==null))switch(n.tag){case 3:zc(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zc(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Ri]=e,e.stateNode=i}return ln(e),null;case 13:if(yt(St),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(xt&&kn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)iw(),ea(),e.flags|=98560,s=!1;else if(s=Uc(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Ri]=e}else ea(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ln(e),s=!1}else gi!==null&&(fm(gi),gi=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(St.current&1)!==0?Gt===0&&(Gt=3):e0())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return na(),sm(n,e),n===null&&Ml(e.stateNode.containerInfo),ln(e),null;case 10:return Fg(e.type._context),ln(e),null;case 17:return Tn(e.type)&&pd(),ln(e),null;case 19:if(yt(St),s=e.memoizedState,s===null)return ln(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ia(s,!1);else{if(Gt!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=wd(n),o!==null){for(e.flags|=128,Ia(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return mt(St,St.current&1|2),e.child}n=n.sibling}s.tail!==null&&Nt()>ra&&(e.flags|=128,i=!0,Ia(s,!1),e.lanes=4194304)}else{if(!i)if(n=wd(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ia(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xt)return ln(e),null}else 2*Nt()-s.renderingStartTime>ra&&t!==1073741824&&(e.flags|=128,i=!0,Ia(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,t=St.current,mt(St,i?t&1|2:t&1),e):(ln(e),null);case 22:case 23:return Qg(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&(e.mode&1)!==0?(Dn&1073741824)!==0&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function bC(n,e){switch(Ig(e),e.tag){case 1:return Tn(e.type)&&pd(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return na(),yt(Cn),yt(fn),Gg(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return Vg(e),null;case 13:if(yt(St),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));ea()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return yt(St),null;case 4:return na(),null;case 10:return Fg(e.type._context),null;case 22:case 23:return Qg(),null;case 24:return null;default:return null}}var Hc=!1,hn=!1,MC=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Do(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){At(n,e,i)}else t.current=null}function om(n,e,t){try{t()}catch(i){At(n,e,i)}}var dy=!1;function EC(n,e){if(Hp=ud,n=W1(),Rg(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var p;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===n)break t;if(d===t&&++c===r&&(a=o),d===s&&++u===i&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Wp={focusedElem:n,selectionRange:t},ud=!1,Me=e;Me!==null;)if(e=Me,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Me=n;else for(;Me!==null;){e=Me;try{var v=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var f=v.memoizedProps,g=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?f:pi(e.type,f),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(w){At(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}return v=dy,dy=!1,v}function sl(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&om(e,t,s)}r=r.next}while(r!==i)}}function ah(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function am(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Vw(n){var e=n.alternate;e!==null&&(n.alternate=null,Vw(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ri],delete e[Cl],delete e[Xp],delete e[aC],delete e[lC])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Gw(n){return n.tag===5||n.tag===3||n.tag===4}function hy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Gw(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lm(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=fd));else if(i!==4&&(n=n.child,n!==null))for(lm(n,e,t),n=n.sibling;n!==null;)lm(n,e,t),n=n.sibling}function cm(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(cm(n,e,t),n=n.sibling;n!==null;)cm(n,e,t),n=n.sibling}var Kt=null,mi=!1;function mr(n,e,t){for(t=t.child;t!==null;)Hw(n,e,t),t=t.sibling}function Hw(n,e,t){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Qd,t)}catch{}switch(t.tag){case 5:hn||Do(t,e);case 6:var i=Kt,r=mi;Kt=null,mr(n,e,t),Kt=i,mi=r,Kt!==null&&(mi?(n=Kt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Kt.removeChild(t.stateNode));break;case 18:Kt!==null&&(mi?(n=Kt,t=t.stateNode,n.nodeType===8?vf(n.parentNode,t):n.nodeType===1&&vf(n,t),wl(n)):vf(Kt,t.stateNode));break;case 4:i=Kt,r=mi,Kt=t.stateNode.containerInfo,mi=!0,mr(n,e,t),Kt=i,mi=r;break;case 0:case 11:case 14:case 15:if(!hn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&om(t,e,o),r=r.next}while(r!==i)}mr(n,e,t);break;case 1:if(!hn&&(Do(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){At(t,e,a)}mr(n,e,t);break;case 21:mr(n,e,t);break;case 22:t.mode&1?(hn=(i=hn)||t.memoizedState!==null,mr(n,e,t),hn=i):mr(n,e,t);break;default:mr(n,e,t)}}function fy(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new MC),e.forEach(function(i){var r=DC.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ci(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,mi=!1;break e;case 3:Kt=a.stateNode.containerInfo,mi=!0;break e;case 4:Kt=a.stateNode.containerInfo,mi=!0;break e}a=a.return}if(Kt===null)throw Error(fe(160));Hw(s,o,r),Kt=null,mi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){At(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ww(e,n),e=e.sibling}function Ww(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ci(e,n),Ei(n),i&4){try{sl(3,n,n.return),ah(3,n)}catch(f){At(n,n.return,f)}try{sl(5,n,n.return)}catch(f){At(n,n.return,f)}}break;case 1:ci(e,n),Ei(n),i&512&&t!==null&&Do(t,t.return);break;case 5:if(ci(e,n),Ei(n),i&512&&t!==null&&Do(t,t.return),n.flags&32){var r=n.stateNode;try{vl(r,"")}catch(f){At(n,n.return,f)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&d1(r,s),Ip(a,o);var c=Ip(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?g1(r,h):u==="dangerouslySetInnerHTML"?p1(r,h):u==="children"?vl(r,h):yg(r,u,h,c)}switch(a){case"input":Ap(r,s);break;case"textarea":h1(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ho(r,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ho(r,!!s.multiple,s.defaultValue,!0):Ho(r,!!s.multiple,s.multiple?[]:"",!1))}r[Cl]=s}catch(f){At(n,n.return,f)}}break;case 6:if(ci(e,n),Ei(n),i&4){if(n.stateNode===null)throw Error(fe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(f){At(n,n.return,f)}}break;case 3:if(ci(e,n),Ei(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{wl(e.containerInfo)}catch(f){At(n,n.return,f)}break;case 4:ci(e,n),Ei(n);break;case 13:ci(e,n),Ei(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Zg=Nt())),i&4&&fy(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(hn=(c=hn)||u,ci(e,n),hn=c):ci(e,n),Ei(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&(n.mode&1)!==0)for(Me=n,u=n.child;u!==null;){for(h=Me=u;Me!==null;){switch(d=Me,p=d.child,d.tag){case 0:case 11:case 14:case 15:sl(4,d,d.return);break;case 1:Do(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){i=d,t=d.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(f){At(i,t,f)}}break;case 5:Do(d,d.return);break;case 22:if(d.memoizedState!==null){my(h);continue}}p!==null?(p.return=d,Me=p):my(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=m1("display",o))}catch(f){At(n,n.return,f)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(f){At(n,n.return,f)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ci(e,n),Ei(n),i&4&&fy(n);break;case 21:break;default:ci(e,n),Ei(n)}}function Ei(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Gw(t)){var i=t;break e}t=t.return}throw Error(fe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(vl(r,""),i.flags&=-33);var s=hy(n);cm(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=hy(n);lm(n,a,o);break;default:throw Error(fe(161))}}catch(l){At(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function CC(n,e,t){Me=n,$w(n)}function $w(n,e,t){for(var i=(n.mode&1)!==0;Me!==null;){var r=Me,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Hc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Hc;var c=hn;if(Hc=o,(hn=l)&&!c)for(Me=r;Me!==null;)o=Me,l=o.child,o.tag===22&&o.memoizedState!==null?gy(r):l!==null?(l.return=o,Me=l):gy(r);for(;s!==null;)Me=s,$w(s),s=s.sibling;Me=r,Hc=a,hn=c}py(n)}else(r.subtreeFlags&8772)!==0&&s!==null?(s.return=r,Me=s):py(n)}}function py(n){for(;Me!==null;){var e=Me;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:hn||ah(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!hn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:pi(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zv(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Zv(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}hn||e.flags&512&&am(e)}catch(d){At(e,e.return,d)}}if(e===n){Me=null;break}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}}function my(n){for(;Me!==null;){var e=Me;if(e===n){Me=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Me=t;break}Me=e.return}}function gy(n){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ah(4,e)}catch(l){At(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){At(e,r,l)}}var s=e.return;try{am(e)}catch(l){At(e,s,l)}break;case 5:var o=e.return;try{am(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===n){Me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Me=a;break}Me=e.return}}var TC=Math.ceil,Md=cr.ReactCurrentDispatcher,Yg=cr.ReactCurrentOwner,ti=cr.ReactCurrentBatchConfig,tt=0,Yt=null,Ft=null,sn=0,Dn=0,ko=Qr(0),Gt=0,Ll=null,Us=0,lh=0,Jg=0,ol=null,bn=null,Zg=0,ra=1/0,$i=null,Ed=!1,um=null,zr=null,Wc=!1,Rr=null,Cd=0,al=0,dm=null,$u=-1,ju=0;function xn(){return(tt&6)!==0?Nt():$u!==-1?$u:$u=Nt()}function Ur(n){return(n.mode&1)===0?1:(tt&2)!==0&&sn!==0?sn&-sn:uC.transition!==null?(ju===0&&(ju=A1()),ju):(n=ct,n!==0||(n=window.event,n=n===void 0?16:k1(n.type)),n)}function xi(n,e,t,i){if(50<al)throw al=0,dm=null,Error(fe(185));nc(n,t,i),((tt&2)===0||n!==Yt)&&(n===Yt&&((tt&2)===0&&(lh|=t),Gt===4&&Pr(n,sn)),An(n,i),t===1&&tt===0&&(e.mode&1)===0&&(ra=Nt()+500,rh&&es()))}function An(n,e){var t=n.callbackNode;uE(n,e);var i=cd(n,n===Yt?sn:0);if(i===0)t!==null&&Ev(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Ev(t),e===1)n.tag===0?cC(vy.bind(null,n)):ew(vy.bind(null,n)),sC(function(){(tt&6)===0&&es()}),t=null;else{switch(P1(i)){case 1:t=bg;break;case 4:t=C1;break;case 16:t=ld;break;case 536870912:t=T1;break;default:t=ld}t=Qw(t,jw.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function jw(n,e){if($u=-1,ju=0,(tt&6)!==0)throw Error(fe(327));var t=n.callbackNode;if(qo()&&n.callbackNode!==t)return null;var i=cd(n,n===Yt?sn:0);if(i===0)return null;if((i&30)!==0||(i&n.expiredLanes)!==0||e)e=Td(n,i);else{e=i;var r=tt;tt|=2;var s=qw();(Yt!==n||sn!==e)&&($i=null,ra=Nt()+500,As(n,e));do try{NC();break}catch(a){Xw(n,a)}while(1);Og(),Md.current=s,tt=r,Ft!==null?e=0:(Yt=null,sn=0,e=Gt)}if(e!==0){if(e===2&&(r=Bp(n),r!==0&&(i=r,e=hm(n,r))),e===1)throw t=Ll,As(n,0),Pr(n,i),An(n,Nt()),t;if(e===6)Pr(n,i);else{if(r=n.current.alternate,(i&30)===0&&!AC(r)&&(e=Td(n,i),e===2&&(s=Bp(n),s!==0&&(i=s,e=hm(n,s))),e===1))throw t=Ll,As(n,0),Pr(n,i),An(n,Nt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(fe(345));case 2:gs(n,bn,$i);break;case 3:if(Pr(n,i),(i&130023424)===i&&(e=Zg+500-Nt(),10<e)){if(cd(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){xn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=jp(gs.bind(null,n,bn,$i),e);break}gs(n,bn,$i);break;case 4:if(Pr(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-yi(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*TC(i/1960))-i,10<i){n.timeoutHandle=jp(gs.bind(null,n,bn,$i),i);break}gs(n,bn,$i);break;case 5:gs(n,bn,$i);break;default:throw Error(fe(329))}}}return An(n,Nt()),n.callbackNode===t?jw.bind(null,n):null}function hm(n,e){var t=ol;return n.current.memoizedState.isDehydrated&&(As(n,e).flags|=256),n=Td(n,e),n!==2&&(e=bn,bn=t,e!==null&&fm(e)),n}function fm(n){bn===null?bn=n:bn.push.apply(bn,n)}function AC(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!_i(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pr(n,e){for(e&=~Jg,e&=~lh,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-yi(e),i=1<<t;n[t]=-1,e&=~i}}function vy(n){if((tt&6)!==0)throw Error(fe(327));qo();var e=cd(n,0);if((e&1)===0)return An(n,Nt()),null;var t=Td(n,e);if(n.tag!==0&&t===2){var i=Bp(n);i!==0&&(e=i,t=hm(n,i))}if(t===1)throw t=Ll,As(n,0),Pr(n,e),An(n,Nt()),t;if(t===6)throw Error(fe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,gs(n,bn,$i),An(n,Nt()),null}function Kg(n,e){var t=tt;tt|=1;try{return n(e)}finally{tt=t,tt===0&&(ra=Nt()+500,rh&&es())}}function Vs(n){Rr!==null&&Rr.tag===0&&(tt&6)===0&&qo();var e=tt;tt|=1;var t=ti.transition,i=ct;try{if(ti.transition=null,ct=1,n)return n()}finally{ct=i,ti.transition=t,tt=e,(tt&6)===0&&es()}}function Qg(){Dn=ko.current,yt(ko)}function As(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,rC(t)),Ft!==null)for(t=Ft.return;t!==null;){var i=t;switch(Ig(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&pd();break;case 3:na(),yt(Cn),yt(fn),Gg();break;case 5:Vg(i);break;case 4:na();break;case 13:yt(St);break;case 19:yt(St);break;case 10:Fg(i.type._context);break;case 22:case 23:Qg()}t=t.return}if(Yt=n,Ft=n=Vr(n.current,null),sn=Dn=e,Gt=0,Ll=null,Jg=lh=Us=0,bn=ol=null,ws!==null){for(e=0;e<ws.length;e++)if(t=ws[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}ws=null}return n}function Xw(n,e){do{var t=Ft;try{if(Og(),Gu.current=bd,Sd){for(var i=Mt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Sd=!1}if(zs=0,qt=Ut=Mt=null,rl=!1,Pl=0,Yg.current=null,t===null||t.return===null){Gt=1,Ll=e,Ft=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if((u.mode&1)===0&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ry(o);if(p!==null){p.flags&=-257,sy(p,o,a,s,e),p.mode&1&&iy(s,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var f=new Set;f.add(l),e.updateQueue=f}else v.add(l);break e}else{if((e&1)===0){iy(s,c,e),e0();break e}l=Error(fe(426))}}else if(xt&&a.mode&1){var g=ry(o);if(g!==null){(g.flags&65536)===0&&(g.flags|=256),sy(g,o,a,s,e),Dg(ia(l,a));break e}}s=l=ia(l,a),Gt!==4&&(Gt=2),ol===null?ol=[s]:ol.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Nw(s,l,e);Jv(s,y);break e;case 1:a=l;var x=s.type,_=s.stateNode;if((s.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(zr===null||!zr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Rw(s,a,e);Jv(s,w);break e}}s=s.return}while(s!==null)}Jw(t)}catch(b){e=b,Ft===t&&t!==null&&(Ft=t=t.return);continue}break}while(1)}function qw(){var n=Md.current;return Md.current=bd,n===null?bd:n}function e0(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Yt===null||(Us&268435455)===0&&(lh&268435455)===0||Pr(Yt,sn)}function Td(n,e){var t=tt;tt|=2;var i=qw();(Yt!==n||sn!==e)&&($i=null,As(n,e));do try{PC();break}catch(r){Xw(n,r)}while(1);if(Og(),tt=t,Md.current=i,Ft!==null)throw Error(fe(261));return Yt=null,sn=0,Gt}function PC(){for(;Ft!==null;)Yw(Ft)}function NC(){for(;Ft!==null&&!tE();)Yw(Ft)}function Yw(n){var e=Kw(n.alternate,n,Dn);n.memoizedProps=n.pendingProps,e===null?Jw(n):Ft=e,Yg.current=null}function Jw(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=SC(t,e,Dn),t!==null){Ft=t;return}}else{if(t=bC(t,e),t!==null){t.flags&=32767,Ft=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Gt=6,Ft=null;return}}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=n}while(e!==null);Gt===0&&(Gt=5)}function gs(n,e,t){var i=ct,r=ti.transition;try{ti.transition=null,ct=1,RC(n,e,t,i)}finally{ti.transition=r,ct=i}return null}function RC(n,e,t,i){do qo();while(Rr!==null);if((tt&6)!==0)throw Error(fe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(fe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(dE(n,s),n===Yt&&(Ft=Yt=null,sn=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||Wc||(Wc=!0,Qw(ld,function(){return qo(),null})),s=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||s){s=ti.transition,ti.transition=null;var o=ct;ct=1;var a=tt;tt|=4,Yg.current=null,EC(n,t),Ww(t,n),ZE(Wp),ud=!!Hp,Wp=Hp=null,n.current=t,CC(t),nE(),tt=a,ct=o,ti.transition=s}else n.current=t;if(Wc&&(Wc=!1,Rr=n,Cd=r),s=n.pendingLanes,s===0&&(zr=null),sE(t.stateNode),An(n,Nt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ed)throw Ed=!1,n=um,um=null,n;return(Cd&1)!==0&&n.tag!==0&&qo(),s=n.pendingLanes,(s&1)!==0?n===dm?al++:(al=0,dm=n):al=0,es(),null}function qo(){if(Rr!==null){var n=P1(Cd),e=ti.transition,t=ct;try{if(ti.transition=null,ct=16>n?16:n,Rr===null)var i=!1;else{if(n=Rr,Rr=null,Cd=0,(tt&6)!==0)throw Error(fe(331));var r=tt;for(tt|=4,Me=n.current;Me!==null;){var s=Me,o=s.child;if((Me.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Me=c;Me!==null;){var u=Me;switch(u.tag){case 0:case 11:case 15:sl(8,u,s)}var h=u.child;if(h!==null)h.return=u,Me=h;else for(;Me!==null;){u=Me;var d=u.sibling,p=u.return;if(Vw(u),u===c){Me=null;break}if(d!==null){d.return=p,Me=d;break}Me=p}}}var v=s.alternate;if(v!==null){var f=v.child;if(f!==null){v.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(f!==null)}}Me=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,Me=o;else e:for(;Me!==null;){if(s=Me,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:sl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Me=y;break e}Me=s.return}}var x=n.current;for(Me=x;Me!==null;){o=Me;var _=o.child;if((o.subtreeFlags&2064)!==0&&_!==null)_.return=o,Me=_;else e:for(o=x;Me!==null;){if(a=Me,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:ah(9,a)}}catch(b){At(a,a.return,b)}if(a===o){Me=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Me=w;break e}Me=a.return}}if(tt=r,es(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Qd,n)}catch{}i=!0}return i}finally{ct=t,ti.transition=e}}return!1}function yy(n,e,t){e=ia(t,e),e=Nw(n,e,1),n=Br(n,e,1),e=xn(),n!==null&&(nc(n,1,e),An(n,e))}function At(n,e,t){if(n.tag===3)yy(n,n,t);else for(;e!==null;){if(e.tag===3){yy(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zr===null||!zr.has(i))){n=ia(t,n),n=Rw(e,n,1),e=Br(e,n,1),n=xn(),e!==null&&(nc(e,1,n),An(e,n));break}}e=e.return}}function LC(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=xn(),n.pingedLanes|=n.suspendedLanes&t,Yt===n&&(sn&t)===t&&(Gt===4||Gt===3&&(sn&130023424)===sn&&500>Nt()-Zg?As(n,0):Jg|=t),An(n,e)}function Zw(n,e){e===0&&((n.mode&1)===0?e=1:(e=Dc,Dc<<=1,(Dc&130023424)===0&&(Dc=4194304)));var t=xn();n=or(n,e),n!==null&&(nc(n,e,t),An(n,t))}function IC(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Zw(n,t)}function DC(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(fe(314))}i!==null&&i.delete(e),Zw(n,t)}var Kw;Kw=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Cn.current)Mn=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return Mn=!1,wC(n,e,t);Mn=(n.flags&131072)!==0}else Mn=!1,xt&&(e.flags&1048576)!==0&&tw(e,vd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wu(n,e),n=e.pendingProps;var r=Qo(e,fn.current);Xo(e,t),r=Wg(null,e,i,n,r,t);var s=$g();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(i)?(s=!0,md(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,zg(e),r.updater=sh,e.stateNode=r,r._reactInternals=e,Qp(e,i,n,t),e=nm(null,e,i,!0,s,t)):(e.tag=0,xt&&s&&Lg(e),vn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Wu(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=OC(i),n=pi(i,n),r){case 0:e=tm(null,e,i,n,t);break e;case 1:e=ly(null,e,i,n,t);break e;case 11:e=oy(null,e,i,n,t);break e;case 14:e=ay(null,e,i,pi(i.type,n),t);break e}throw Error(fe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pi(i,r),tm(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pi(i,r),ly(n,e,i,r,t);case 3:e:{if(kw(e),n===null)throw Error(fe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,sw(n,e),_d(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ia(Error(fe(423)),e),e=cy(n,e,i,t,r);break e}else if(i!==r){r=ia(Error(fe(424)),e),e=cy(n,e,i,t,r);break e}else for(kn=Fr(e.stateNode.containerInfo.firstChild),Fn=e,xt=!0,gi=null,t=cw(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ea(),i===r){e=ar(n,e,t);break e}vn(n,e,i,t)}e=e.child}return e;case 5:return uw(e),n===null&&Jp(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,$p(i,r)?o=null:s!==null&&$p(i,s)&&(e.flags|=32),Dw(n,e),vn(n,e,o,t),e.child;case 6:return n===null&&Jp(e),null;case 13:return Ow(n,e,t);case 4:return Ug(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ta(e,null,i,t):vn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pi(i,r),oy(n,e,i,r,t);case 7:return vn(n,e,e.pendingProps,t),e.child;case 8:return vn(n,e,e.pendingProps.children,t),e.child;case 12:return vn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,mt(yd,i._currentValue),i._currentValue=o,s!==null)if(_i(s.value,o)){if(s.children===r.children&&!Cn.current){e=ar(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=er(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Zp(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Zp(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Xo(e,t),r=ri(r),i=i(r),e.flags|=1,vn(n,e,i,t),e.child;case 14:return i=e.type,r=pi(i,e.pendingProps),r=pi(i.type,r),ay(n,e,i,r,t);case 15:return Lw(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pi(i,r),Wu(n,e),e.tag=1,Tn(i)?(n=!0,md(e)):n=!1,Xo(e,t),aw(e,i,r),Qp(e,i,r,t),nm(null,e,i,!0,n,t);case 19:return Fw(n,e,t);case 22:return Iw(n,e,t)}throw Error(fe(156,e.tag))};function Qw(n,e){return E1(n,e)}function kC(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(n,e,t,i){return new kC(n,e,t,i)}function t0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function OC(n){if(typeof n=="function")return t0(n)?1:0;if(n!=null){if(n=n.$$typeof,n===_g)return 11;if(n===wg)return 14}return 2}function Vr(n,e){var t=n.alternate;return t===null?(t=Qn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Xu(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")t0(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Eo:return Ps(t.children,r,s,e);case xg:o=8,r|=8;break;case bp:return n=Qn(12,t,e,r|2),n.elementType=bp,n.lanes=s,n;case Mp:return n=Qn(13,t,e,r),n.elementType=Mp,n.lanes=s,n;case Ep:return n=Qn(19,t,e,r),n.elementType=Ep,n.lanes=s,n;case l1:return ch(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case o1:o=10;break e;case a1:o=9;break e;case _g:o=11;break e;case wg:o=14;break e;case Er:o=16,i=null;break e}throw Error(fe(130,n==null?n:typeof n,""))}return e=Qn(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ps(n,e,t,i){return n=Qn(7,n,i,e),n.lanes=t,n}function ch(n,e,t,i){return n=Qn(22,n,i,e),n.elementType=l1,n.lanes=t,n.stateNode={isHidden:!1},n}function Ef(n,e,t){return n=Qn(6,n,null,e),n.lanes=t,n}function Cf(n,e,t){return e=Qn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function FC(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function n0(n,e,t,i,r,s,o,a,l){return n=new FC(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(s),n}function BC(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mo,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function eS(n){if(!n)return Wr;n=n._reactInternals;e:{if(Xs(n)!==n||n.tag!==1)throw Error(fe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(n.tag===1){var t=n.type;if(Tn(t))return Q1(n,t,e)}return e}function tS(n,e,t,i,r,s,o,a,l){return n=n0(t,i,!0,n,r,s,o,a,l),n.context=eS(null),t=n.current,i=xn(),r=Ur(t),s=er(i,r),s.callback=e!=null?e:null,Br(t,s,r),n.current.lanes=r,nc(n,r,i),An(n,i),n}function uh(n,e,t,i){var r=e.current,s=xn(),o=Ur(r);return t=eS(t),e.context===null?e.context=t:e.pendingContext=t,e=er(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Br(r,e,o),n!==null&&(xi(n,r,o,s),Vu(n,r,o)),o}function Ad(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function xy(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function i0(n,e){xy(n,e),(n=n.alternate)&&xy(n,e)}function zC(){return null}var nS=typeof reportError=="function"?reportError:function(n){console.error(n)};function r0(n){this._internalRoot=n}dh.prototype.render=r0.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(fe(409));uh(n,e,null,null)};dh.prototype.unmount=r0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Vs(function(){uh(null,n,null,null)}),e[sr]=null}};function dh(n){this._internalRoot=n}dh.prototype.unstable_scheduleHydration=function(n){if(n){var e=L1();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ar.length&&e!==0&&e<Ar[t].priority;t++);Ar.splice(t,0,n),t===0&&D1(n)}};function s0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function _y(){}function UC(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Ad(o);s.call(c)}}var o=tS(e,i,n,0,null,!1,!1,"",_y);return n._reactRootContainer=o,n[sr]=o.current,Ml(n.nodeType===8?n.parentNode:n),Vs(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Ad(l);a.call(c)}}var l=n0(n,0,!1,null,null,!1,!1,"",_y);return n._reactRootContainer=l,n[sr]=l.current,Ml(n.nodeType===8?n.parentNode:n),Vs(function(){uh(e,l,t,i)}),l}function fh(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Ad(o);a.call(l)}}uh(e,o,n,r)}else o=UC(t,e,n,r,i);return Ad(o)}N1=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=qa(e.pendingLanes);t!==0&&(Mg(e,t|1),An(e,Nt()),(tt&6)===0&&(ra=Nt()+500,es()))}break;case 13:Vs(function(){var i=or(n,1);if(i!==null){var r=xn();xi(i,n,1,r)}}),i0(n,1)}};Eg=function(n){if(n.tag===13){var e=or(n,134217728);if(e!==null){var t=xn();xi(e,n,134217728,t)}i0(n,134217728)}};R1=function(n){if(n.tag===13){var e=Ur(n),t=or(n,e);if(t!==null){var i=xn();xi(t,n,e,i)}i0(n,e)}};L1=function(){return ct};I1=function(n,e){var t=ct;try{return ct=n,e()}finally{ct=t}};kp=function(n,e,t){switch(e){case"input":if(Ap(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=ih(i);if(!r)throw Error(fe(90));u1(i),Ap(i,r)}}}break;case"textarea":h1(n,t);break;case"select":e=t.value,e!=null&&Ho(n,!!t.multiple,e,!1)}};x1=Kg;_1=Vs;var VC={usingClientEntryPoint:!1,Events:[rc,Po,ih,v1,y1,Kg]},Da={findFiberByHostInstance:_s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},GC={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=b1(n),n===null?null:n.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||zC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Qd=$c.inject(GC),Ii=$c}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC;Gn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s0(e))throw Error(fe(200));return BC(n,e,null,t)};Gn.createRoot=function(n,e){if(!s0(n))throw Error(fe(299));var t=!1,i="",r=nS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=n0(n,1,!1,null,null,t,!1,i,r),n[sr]=e.current,Ml(n.nodeType===8?n.parentNode:n),new r0(e)};Gn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(fe(188)):(n=Object.keys(n).join(","),Error(fe(268,n)));return n=b1(e),n=n===null?null:n.stateNode,n};Gn.flushSync=function(n){return Vs(n)};Gn.hydrate=function(n,e,t){if(!hh(e))throw Error(fe(200));return fh(null,n,e,!0,t)};Gn.hydrateRoot=function(n,e,t){if(!s0(n))throw Error(fe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=nS;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=tS(e,null,n,1,t!=null?t:null,r,!1,s,o),n[sr]=e.current,Ml(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new dh(e)};Gn.render=function(n,e,t){if(!hh(e))throw Error(fe(200));return fh(null,n,e,!1,t)};Gn.unmountComponentAtNode=function(n){if(!hh(n))throw Error(fe(40));return n._reactRootContainer?(Vs(function(){fh(null,null,n,!1,function(){n._reactRootContainer=null,n[sr]=null})}),!0):!1};Gn.unstable_batchedUpdates=Kg;Gn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!hh(t))throw Error(fe(200));if(n==null||n._reactInternals===void 0)throw Error(fe(38));return fh(n,e,t,!1,i)};Gn.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Gn})(mg);var wy=mg.exports;wp.createRoot=wy.createRoot,wp.hydrateRoot=wy.hydrateRoot;var iS={exports:{}},rS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=F.exports;function HC(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var WC=typeof Object.is=="function"?Object.is:HC,$C=sa.useState,jC=sa.useEffect,XC=sa.useLayoutEffect,qC=sa.useDebugValue;function YC(n,e){var t=e(),i=$C({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return XC(function(){r.value=t,r.getSnapshot=e,Tf(r)&&s({inst:r})},[n,t,e]),jC(function(){return Tf(r)&&s({inst:r}),n(function(){Tf(r)&&s({inst:r})})},[n]),qC(t),t}function Tf(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!WC(n,t)}catch{return!0}}function JC(n,e){return e()}var ZC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JC:YC;rS.useSyncExternalStore=sa.useSyncExternalStore!==void 0?sa.useSyncExternalStore:ZC;(function(n){n.exports=rS})(iS);var sS={exports:{}},oS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=F.exports,KC=iS.exports;function QC(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var eT=typeof Object.is=="function"?Object.is:QC,tT=KC.useSyncExternalStore,nT=ph.useRef,iT=ph.useEffect,rT=ph.useMemo,sT=ph.useDebugValue;oS.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=nT(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=rT(function(){function l(p){if(!c){if(c=!0,u=p,p=i(p),r!==void 0&&o.hasValue){var v=o.value;if(r(v,p))return h=v}return h=p}if(v=h,eT(u,p))return v;var f=i(p);return r!==void 0&&r(v,f)?v:(u=p,h=f)}var c=!1,u,h,d=t===void 0?null:t;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,t,i,r]);var a=tT(n,s[0],s[1]);return iT(function(){o.hasValue=!0,o.value=a},[a]),sT(a),a};(function(n){n.exports=oS})(sS);function oT(n){n()}let aS=oT;const aT=n=>aS=n,lT=()=>aS,$r=F.exports.createContext(null);function lS(){return F.exports.useContext($r)}const cT=()=>{throw new Error("uSES not initialized!")};let cS=cT;const uT=n=>{cS=n},dT=(n,e)=>n===e;function hT(n=$r){const e=n===$r?lS:()=>F.exports.useContext(n);return function(i,r=dT){const{store:s,subscription:o,getServerState:a}=e(),l=cS(o.addNestedSub,s.getState,a||s.getState,i,r);return F.exports.useDebugValue(l),l}}const o0=hT();var fT={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=Symbol.for("react.element"),l0=Symbol.for("react.portal"),mh=Symbol.for("react.fragment"),gh=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),xh=Symbol.for("react.context"),pT=Symbol.for("react.server_context"),_h=Symbol.for("react.forward_ref"),wh=Symbol.for("react.suspense"),Sh=Symbol.for("react.suspense_list"),bh=Symbol.for("react.memo"),Mh=Symbol.for("react.lazy"),mT=Symbol.for("react.offscreen"),uS;uS=Symbol.for("react.module.reference");function ai(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case a0:switch(n=n.type,n){case mh:case vh:case gh:case wh:case Sh:return n;default:switch(n=n&&n.$$typeof,n){case pT:case xh:case _h:case Mh:case bh:case yh:return n;default:return e}}case l0:return e}}}dt.ContextConsumer=xh;dt.ContextProvider=yh;dt.Element=a0;dt.ForwardRef=_h;dt.Fragment=mh;dt.Lazy=Mh;dt.Memo=bh;dt.Portal=l0;dt.Profiler=vh;dt.StrictMode=gh;dt.Suspense=wh;dt.SuspenseList=Sh;dt.isAsyncMode=function(){return!1};dt.isConcurrentMode=function(){return!1};dt.isContextConsumer=function(n){return ai(n)===xh};dt.isContextProvider=function(n){return ai(n)===yh};dt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===a0};dt.isForwardRef=function(n){return ai(n)===_h};dt.isFragment=function(n){return ai(n)===mh};dt.isLazy=function(n){return ai(n)===Mh};dt.isMemo=function(n){return ai(n)===bh};dt.isPortal=function(n){return ai(n)===l0};dt.isProfiler=function(n){return ai(n)===vh};dt.isStrictMode=function(n){return ai(n)===gh};dt.isSuspense=function(n){return ai(n)===wh};dt.isSuspenseList=function(n){return ai(n)===Sh};dt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===mh||n===vh||n===gh||n===wh||n===Sh||n===mT||typeof n=="object"&&n!==null&&(n.$$typeof===Mh||n.$$typeof===bh||n.$$typeof===yh||n.$$typeof===xh||n.$$typeof===_h||n.$$typeof===uS||n.getModuleId!==void 0)};dt.typeOf=ai;(function(n){n.exports=dt})(fT);function gT(){const n=lT();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=e;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,s=t={callback:i,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Sy={notify(){},get:()=>[]};function vT(n,e){let t,i=Sy;function r(h){return l(),i.subscribe(h)}function s(){i.notify()}function o(){u.onStateChange&&u.onStateChange()}function a(){return Boolean(t)}function l(){t||(t=e?e.addNestedSub(o):n.subscribe(o),i=gT())}function c(){t&&(t(),t=void 0,i.clear(),i=Sy)}const u={addNestedSub:r,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>i};return u}const yT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xT=yT?F.exports.useLayoutEffect:F.exports.useEffect;function _T({store:n,context:e,children:t,serverState:i}){const r=F.exports.useMemo(()=>{const a=vT(n);return{store:n,subscription:a,getServerState:i?()=>i:void 0}},[n,i]),s=F.exports.useMemo(()=>n.getState(),[n]);xT(()=>{const{subscription:a}=r;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==n.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[r,s]);const o=e||$r;return Qi.createElement(o.Provider,{value:r},t)}function dS(n=$r){const e=n===$r?lS:()=>F.exports.useContext(n);return function(){const{store:i}=e();return i}}const wT=dS();function ST(n=$r){const e=n===$r?wT:dS(n);return function(){return e().dispatch}}const c0=ST();uT(sS.exports.useSyncExternalStoreWithSelector);aT(mg.exports.unstable_batchedUpdates);function bT(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function by(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function My(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?by(Object(t),!0).forEach(function(i){bT(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):by(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Qt(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Ey=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Af=function(){return Math.random().toString(36).substring(7).split("").join(".")},Il={INIT:"@@redux/INIT"+Af(),REPLACE:"@@redux/REPLACE"+Af(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Af()}};function MT(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function Eh(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Qt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Qt(1));return t(Eh)(n,e)}if(typeof n!="function")throw new Error(Qt(2));var r=n,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(Qt(3));return s}function h(f){if(typeof f!="function")throw new Error(Qt(4));if(l)throw new Error(Qt(5));var g=!0;return c(),a.push(f),function(){if(!!g){if(l)throw new Error(Qt(6));g=!1,c();var x=a.indexOf(f);a.splice(x,1),o=null}}}function d(f){if(!MT(f))throw new Error(Qt(7));if(typeof f.type>"u")throw new Error(Qt(8));if(l)throw new Error(Qt(9));try{l=!0,s=r(s,f)}finally{l=!1}for(var g=o=a,y=0;y<g.length;y++){var x=g[y];x()}return f}function p(f){if(typeof f!="function")throw new Error(Qt(10));r=f,d({type:Il.REPLACE})}function v(){var f,g=h;return f={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Qt(11));function _(){x.next&&x.next(u())}_();var w=g(_);return{unsubscribe:w}}},f[Ey]=function(){return this},f}return d({type:Il.INIT}),i={dispatch:d,subscribe:h,getState:u,replaceReducer:p},i[Ey]=v,i}var ET=Eh;function CT(n){Object.keys(n).forEach(function(e){var t=n[e],i=t(void 0,{type:Il.INIT});if(typeof i>"u")throw new Error(Qt(12));if(typeof t(void 0,{type:Il.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qt(13))})}function hS(n){for(var e=Object.keys(n),t={},i=0;i<e.length;i++){var r=e[i];typeof n[r]=="function"&&(t[r]=n[r])}var s=Object.keys(t),o;try{CT(t)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,h={},d=0;d<s.length;d++){var p=s[d],v=t[p],f=l[p],g=v(f,c);if(typeof g>"u")throw c&&c.type,new Error(Qt(14));h[p]=g,u=u||g!==f}return u=u||s.length!==Object.keys(l).length,u?h:l}}function Cy(n,e){return function(){return e(n.apply(this,arguments))}}function TT(n,e){if(typeof n=="function")return Cy(n,e);if(typeof n!="object"||n===null)throw new Error(Qt(16));var t={};for(var i in n){var r=n[i];typeof r=="function"&&(t[i]=Cy(r,e))}return t}function fS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,r){return function(){return i(r.apply(void 0,arguments))}})}function pS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return function(){var r=i.apply(void 0,arguments),s=function(){throw new Error(Qt(15))},o={getState:r.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=fS.apply(void 0,a)(r.dispatch),My(My({},r),{},{dispatch:s})}}}const AT=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:Il,applyMiddleware:pS,bindActionCreators:TT,combineReducers:hS,compose:fS,createStore:Eh,legacy_createStore:ET},Symbol.toStringTag,{value:"Module"})),PT=S2(AT);var Ty=PT.compose,NT=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ty:Ty.apply(null,arguments)};const RT=()=>{const n=localStorage.getItem("tabState");return n===null?{tabName:"tab1"}:{tabName:n}};var mS=(n=>(n[n.INIT=0]="INIT",n[n.CHANGE=1]="CHANGE",n))(mS||{});const LT=(n=RT(),e)=>{switch(e.type){case 0:return n;case 1:return{...n,...e.payload};default:return n}},IT={bannerDotValue:0};var gS=(n=>(n[n.INIT=0]="INIT",n[n.CHANGE=1]="CHANGE",n))(gS||{});const DT=(n=IT,e)=>{switch(e.type){case 0:return n;case 1:return{...n,...e.payload};default:return n}},kT={inspireNavState:1};var vS=(n=>(n[n.INIT=0]="INIT",n[n.CHANGE=1]="CHANGE",n))(vS||{});const OT=(n=kT,e)=>{switch(e.type){case 0:return n;case 1:return{...n,...e.payload};default:return n}},FT=hS({tabs:LT,bannerDots:DT,inspireNavState:OT}),yS=Eh(FT,NT(pS())),BT=n=>{localStorage.setItem("tabState",n)};window.onbeforeunload=()=>{BT(yS.getState().tabs.tabName)};const qs=F.exports.createContext({cursorType:"",cursorChangeHandler:()=>{}}),zT=({children:n})=>{const[e,t]=F.exports.useState(""),r={cursorType:e,cursorChangeHandler:s=>{t(s)}};return m(qs.Provider,{value:r,children:n})};/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wt(){return wt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wt.apply(this,arguments)}var zt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(zt||(zt={}));const Ay="popstate";function UT(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Ns("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:wi(r)}return GT(e,t,null,n)}function VT(){return Math.random().toString(36).substr(2,8)}function Py(n){return{usr:n.state,key:n.key}}function Ns(n,e,t,i){return t===void 0&&(t=null),wt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ur(e):e,{state:t,key:e&&e.key||i||VT()})}function wi(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ur(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Dl(n){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",t=typeof n=="string"?n:wi(n);return new URL(t,e)}function GT(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=zt.Pop,l=null;function c(){a=zt.Pop,l&&l({action:a,location:d.location})}function u(p,v){a=zt.Push;let f=Ns(d.location,p,v);t&&t(f,p);let g=Py(f),y=d.createHref(f);try{o.pushState(g,"",y)}catch{r.location.assign(y)}s&&l&&l({action:a,location:d.location})}function h(p,v){a=zt.Replace;let f=Ns(d.location,p,v);t&&t(f,p);let g=Py(f),y=d.createHref(f);o.replaceState(g,"",y),s&&l&&l({action:a,location:d.location})}let d={get action(){return a},get location(){return n(r,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Ay,c),l=p,()=>{r.removeEventListener(Ay,c),l=null}},createHref(p){return e(r,p)},encodeLocation(p){let v=Dl(wi(p));return wt({},p,{pathname:v.pathname,search:v.search,hash:v.hash})},push:u,replace:h,go(p){return o.go(p)}};return d}var en;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(en||(en={}));function HT(n){return n.index===!0}function xS(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((i,r)=>{let s=[...e,r],o=typeof i.id=="string"?i.id:s.join("-");return Ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ye(!t.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),t.add(o),HT(i)?wt({},i,{id:o}):wt({},i,{id:o,children:i.children?xS(i.children,s,t):void 0})})}function Ja(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?ur(e):e,r=wS(i.pathname||"/",t);if(r==null)return null;let s=_S(n);WT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=QT(s[a],nA(r));return o}function _S(n,e,t,i){return e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i=""),n.forEach((r,s)=>{let o={relativePath:r.path||"",caseSensitive:r.caseSensitive===!0,childrenIndex:s,route:r};o.relativePath.startsWith("/")&&(Ye(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(i.length));let a=tr([i,o.relativePath]),l=t.concat(o);r.children&&r.children.length>0&&(Ye(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),_S(r.children,e,l,a)),!(r.path==null&&!r.index)&&e.push({path:a,score:ZT(a,r.index),routesMeta:l})}),e}function WT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const $T=/^:\w+$/,jT=3,XT=2,qT=1,YT=10,JT=-2,Ny=n=>n==="*";function ZT(n,e){let t=n.split("/"),i=t.length;return t.some(Ny)&&(i+=JT),e&&(i+=XT),t.filter(r=>!Ny(r)).reduce((r,s)=>r+($T.test(s)?jT:s===""?qT:YT),i)}function KT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function QT(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=eA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let h=a.route;s.push({params:i,pathname:tr([r,u.pathname]),pathnameBase:oA(tr([r,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(r=tr([r,u.pathnameBase]))}return s}function eA(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=tA(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=iA(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:n}}function tA(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),u0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(i.push(a),"([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function nA(n){try{return decodeURI(n)}catch(e){return u0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function iA(n,e){try{return decodeURIComponent(n)}catch(t){return u0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function wS(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Ye(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function u0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rA(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ur(n):n;return{pathname:t?t.startsWith("/")?t:sA(t,e):e,search:aA(i),hash:lA(r)}}function sA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Pf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ch(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function d0(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=ur(n):(r=wt({},n),Ye(!r.pathname||!r.pathname.includes("?"),Pf("?","pathname","search",r)),Ye(!r.pathname||!r.pathname.includes("#"),Pf("#","pathname","hash",r)),Ye(!r.search||!r.search.includes("#"),Pf("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=rA(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const tr=n=>n.join("/").replace(/\/\/+/g,"/"),oA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Ry extends Error{}class cA{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,Ye(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let t;this.abortPromise=new Promise((r,s)=>t=s),this.controller=new AbortController;let i=()=>t(new Ry("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((r,s)=>{let[o,a]=s;return Object.assign(r,{[o]:this.trackPromise(o,a)})},{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let i=Promise.race([t,this.abortPromise]).then(r=>this.onSettle(i,e,null,r),r=>this.onSettle(i,e,r));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,r){if(this.controller.signal.aborted&&i instanceof Ry)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();const s=this.subscriber;return i?(Object.defineProperty(e,"_error",{get:()=>i}),s&&s(!1),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>r}),s&&s(!1),r)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((t,i)=>this.pendingKeys.delete(i));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(r=>{this.subscribe(s=>{e.removeEventListener("abort",i),(s||this.done)&&r(s)})})}return t}get done(){return this.pendingKeys.size===0}get unwrappedData(){return Ye(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,r]=t;return Object.assign(e,{[i]:dA(r)})},{})}}function uA(n){return n instanceof Promise&&n._tracked===!0}function dA(n){if(!uA(n))return n;if(n._error)throw n._error;return n._data}class fa{constructor(e,t,i){this.status=e,this.statusText=t||"",this.data=i}}function SS(n){return n instanceof fa}const Nf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},hA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pA=!fA;function mA(n){Ye(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=xS(n.routes),t=null,i=new Set,r=null,s=null,o=null,a=!1,l=Ja(e,n.history.location,n.basename),c=null;if(l==null){let{matches:V,route:$,error:ue}=Oy(e);l=V,c={[$.id]:ue}}let u=!l.some(V=>V.route.loader)||n.hydrationData!=null,h,d={historyAction:n.history.action,location:n.history.location,matches:l,initialized:u,navigation:Nf,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||c,fetchers:new Map},p=zt.Pop,v=!1,f,g=!1,y=!1,x=[],_=[],w=new Map,b=0,E=-1,T=new Map,S=new Set,A=new Map,L=new Map;function H(){return t=n.history.listen(V=>{let{action:$,location:ue}=V;return D($,ue)}),d.initialized||D(zt.Pop,d.location),h}function oe(){t&&t(),i.clear(),f&&f.abort(),d.fetchers.forEach((V,$)=>ke($))}function G(V){return i.add(V),()=>i.delete(V)}function k(V){d=wt({},d,V),i.forEach($=>$(d))}function j(V,$){var ue;let we=d.actionData!=null&&d.navigation.formMethod!=null&&d.navigation.state==="loading"&&((ue=d.navigation.formAction)==null?void 0:ue.split("?")[0])===V.pathname,P=$.loaderData?{loaderData:Lf(d.loaderData,$.loaderData,$.matches||[])}:{};k(wt({},we?{}:{actionData:null},$,P,{historyAction:p,location:V,initialized:!0,navigation:Nf,revalidation:"idle",restoreScrollPosition:d.navigation.formData?!1:Ue(V,$.matches||d.matches),preventScrollReset:v})),g||p===zt.Pop||(p===zt.Push?n.history.push(V,V.state):p===zt.Replace&&n.history.replace(V,V.state)),p=zt.Pop,v=!1,g=!1,y=!1,x=[],_=[]}async function Z(V,$){if(typeof V=="number"){n.history.go(V);return}let{path:ue,submission:we,error:P}=Ly(V,$),C=Ns(d.location,ue,$&&$.state);C=n.history.encodeLocation(C);let z=($&&$.replace)===!0||we!=null?zt.Replace:zt.Push,K=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0;return await D(z,C,{submission:we,pendingError:P,preventScrollReset:K,replace:$&&$.replace})}function ce(){if(Fe(),k({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){D(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}D(p||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function D(V,$,ue){f&&f.abort(),f=null,p=V,g=(ue&&ue.startUninterruptedRevalidation)===!0,_e(d.location,d.matches),v=(ue&&ue.preventScrollReset)===!0;let we=ue&&ue.overrideNavigation,P=Ja(e,$,n.basename);if(!P){let{matches:pe,route:te,error:Te}=Oy(e);me(),j($,{matches:pe,loaderData:{},errors:{[te.id]:Te}});return}if(wA(d.location,$)){j($,{matches:P});return}f=new AbortController;let C=Oa($,f.signal,ue&&ue.submission),z,K;if(ue&&ue.pendingError)K={[Oo(P).route.id]:ue.pendingError};else if(ue&&ue.submission){let pe=await I(C,$,ue.submission,P,{replace:ue.replace});if(pe.shortCircuited)return;z=pe.pendingActionData,K=pe.pendingActionError,we=wt({state:"loading",location:$},ue.submission)}let{shortCircuited:ae,loaderData:de,errors:Se}=await B(C,$,P,we,ue&&ue.submission,ue&&ue.replace,z,K);ae||(f=null,j($,{matches:P,loaderData:de,errors:Se}))}async function I(V,$,ue,we,P){Fe();let C=wt({state:"submitting",location:$},ue);k({navigation:C});let z,K=Vy(we,$);if(!K.route.action)z=Fy($);else if(z=await ka("action",V,K,we,h.basename),V.signal.aborted)return{shortCircuited:!0};if(Yo(z)){let ae=wt({state:"loading",location:Ns(d.location,z.location)},ue);return await Ce(z,ae,P&&P.replace),{shortCircuited:!0}}if(ll(z)){let ae=Oo(we,K.route.id);return(P&&P.replace)!==!0&&(p=zt.Push),{pendingActionError:{[ae.route.id]:z.error}}}if(bs(z))throw new Error("defer() is not supported in actions");return{pendingActionData:{[K.route.id]:z.data}}}async function B(V,$,ue,we,P,C,z,K){let ae=we;ae||(ae={state:"loading",location:$,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[de,Se]=Iy(d,ue,P,$,y,x,_,z,K,A);if(me(ze=>!(ue&&ue.some(O=>O.route.id===ze))||de&&de.some(O=>O.route.id===ze)),de.length===0&&Se.length===0)return j($,{matches:ue,loaderData:Lf(d.loaderData,{},ue),errors:K||null,actionData:z||null}),{shortCircuited:!0};g||(Se.forEach(ze=>{let[O]=ze,be=d.fetchers.get(O),ge={state:"loading",data:be&&be.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(O,ge)}),k(wt({navigation:ae,actionData:z||d.actionData||null},Se.length>0?{fetchers:new Map(d.fetchers)}:{}))),E=++b,Se.forEach(ze=>{let[O]=ze;return w.set(O,f)});let{results:pe,loaderResults:te,fetcherResults:Te}=await q(d.matches,ue,de,Se,V);if(V.signal.aborted)return{shortCircuited:!0};Se.forEach(ze=>{let[O]=ze;return w.delete(O)});let Le=By(pe);if(Le){let ze=Rf(d,Le);return await Ce(Le,ze,C),{shortCircuited:!0}}let{loaderData:Ne,errors:Ie}=ky(d,ue,de,te,K,Se,Te,L);L.forEach((ze,O)=>{ze.subscribe(be=>{(be||ze.done)&&L.delete(O)})}),re();let Be=Q(E);return wt({loaderData:Ne,errors:Ie},Be||Se.length>0?{fetchers:new Map(d.fetchers)}:{})}function Y(V){return d.fetchers.get(V)||hA}function ee(V,$,ue,we){if(pA)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");w.has(V)&&xe(V);let P=Ja(e,ue,n.basename);if(!P){Re(V,$,new fa(404,"Not Found",null));return}let{path:C,submission:z}=Ly(ue,we,!0),K=Vy(P,C);if(z){X(V,$,C,K,P,z);return}A.set(V,[C,K,P]),he(V,$,C,K,P)}async function X(V,$,ue,we,P,C){if(Fe(),A.delete(V),!we.route.action){let{error:Ze}=Fy(ue);Re(V,$,Ze);return}let z=d.fetchers.get(V),K=wt({state:"submitting"},C,{data:z&&z.data});d.fetchers.set(V,K),k({fetchers:new Map(d.fetchers)});let ae=new AbortController,de=Oa(ue,ae.signal,C);w.set(V,ae);let Se=await ka("action",de,we,P,h.basename);if(de.signal.aborted){w.get(V)===ae&&w.delete(V);return}if(Yo(Se)){w.delete(V),S.add(V);let Ze=wt({state:"loading"},C,{data:void 0});d.fetchers.set(V,Ze),k({fetchers:new Map(d.fetchers)});let jt=wt({state:"loading",location:Ns(d.location,Se.location)},C);await Ce(Se,jt);return}if(ll(Se)){Re(V,$,Se.error);return}bs(Se)&&Ye(!1,"defer() is not supported in actions");let pe=d.navigation.location||d.location,te=Oa(pe,ae.signal),Te=d.navigation.state!=="idle"?Ja(e,d.navigation.location,n.basename):d.matches;Ye(Te,"Didn't find any matches after fetcher action");let Le=++b;T.set(V,Le);let Ne=wt({state:"loading",data:Se.data},C);d.fetchers.set(V,Ne);let[Ie,Be]=Iy(d,Te,C,pe,y,x,_,{[we.route.id]:Se.data},void 0,A);Be.filter(Ze=>{let[jt]=Ze;return jt!==V}).forEach(Ze=>{let[jt]=Ze,gt=d.fetchers.get(jt),li={state:"loading",data:gt&&gt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(jt,li),w.set(jt,ae)}),k({fetchers:new Map(d.fetchers)});let{results:ze,loaderResults:O,fetcherResults:be}=await q(d.matches,Te,Ie,Be,te);if(ae.signal.aborted)return;T.delete(V),w.delete(V),Be.forEach(Ze=>{let[jt]=Ze;return w.delete(jt)});let ge=By(ze);if(ge){let Ze=Rf(d,ge);await Ce(ge,Ze);return}let{loaderData:ie,errors:ve}=ky(d,d.matches,Ie,O,void 0,Be,be,L),Oe={state:"idle",data:Se.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(V,Oe);let ht=Q(Le);d.navigation.state==="loading"&&Le>E?(Ye(p,"Expected pending action"),f&&f.abort(),j(d.navigation.location,{matches:Te,loaderData:ie,errors:ve,fetchers:new Map(d.fetchers)})):(k(wt({errors:ve,loaderData:Lf(d.loaderData,ie,Te)},ht?{fetchers:new Map(d.fetchers)}:{})),y=!1)}async function he(V,$,ue,we,P){let C=d.fetchers.get(V),z={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:C&&C.data};d.fetchers.set(V,z),k({fetchers:new Map(d.fetchers)});let K=new AbortController,ae=Oa(ue,K.signal);w.set(V,K);let de=await ka("loader",ae,we,P,h.basename);if(bs(de)&&(de=await CS(de,ae.signal,!0)||de),w.get(V)===K&&w.delete(V),ae.signal.aborted)return;if(Yo(de)){let pe=Rf(d,de);await Ce(de,pe);return}if(ll(de)){let pe=Oo(d.matches,$);d.fetchers.delete(V),k({fetchers:new Map(d.fetchers),errors:{[pe.route.id]:de.error}});return}Ye(!bs(de),"Unhandled fetcher deferred data");let Se={state:"idle",data:de.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(V,Se),k({fetchers:new Map(d.fetchers)})}async function Ce(V,$,ue){V.revalidate&&(y=!0),Ye($.location,"Expected a location on the redirect navigation"),f=null;let we=ue===!0?zt.Replace:zt.Push;await D(we,$.location,{overrideNavigation:$})}async function q(V,$,ue,we,P){let C=await Promise.all([...ue.map(ae=>ka("loader",P,ae,$,h.basename)),...we.map(ae=>{let[,de,Se,pe]=ae;return ka("loader",Oa(de,P.signal),Se,pe,h.basename)})]),z=C.slice(0,ue.length),K=C.slice(ue.length);return await Promise.all([zy(V,ue,z,P.signal,!1,d.loaderData),zy(V,we.map(ae=>{let[,,de]=ae;return de}),K,P.signal,!0)]),{results:C,loaderResults:z,fetcherResults:K}}function Fe(){y=!0,x.push(...me()),A.forEach((V,$)=>{w.has($)&&(_.push($),xe($))})}function Re(V,$,ue){let we=Oo(d.matches,$);ke(V),k({errors:{[we.route.id]:ue},fetchers:new Map(d.fetchers)})}function ke(V){w.has(V)&&xe(V),A.delete(V),T.delete(V),S.delete(V),d.fetchers.delete(V)}function xe(V){let $=w.get(V);Ye($,"Expected fetch controller: "+V),$.abort(),w.delete(V)}function We(V){for(let $ of V){let ue=Y($),we={state:"idle",data:ue.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set($,we)}}function re(){let V=[];for(let $ of S){let ue=d.fetchers.get($);Ye(ue,"Expected fetcher: "+$),ue.state==="loading"&&(S.delete($),V.push($))}We(V)}function Q(V){let $=[];for(let[ue,we]of T)if(we<V){let P=d.fetchers.get(ue);Ye(P,"Expected fetcher: "+ue),P.state==="loading"&&(xe(ue),T.delete(ue),$.push(ue))}return We($),$.length>0}function me(V){let $=[];return L.forEach((ue,we)=>{(!V||V(we))&&(ue.cancel(),$.push(we),L.delete(we))}),$}function Pe(V,$,ue){if(r=V,o=$,s=ue||(we=>we.key),!a&&d.navigation===Nf){a=!0;let we=Ue(d.location,d.matches);we!=null&&k({restoreScrollPosition:we})}return()=>{r=null,o=null,s=null}}function _e(V,$){if(r&&s&&o){let ue=$.map(P=>Uy(P,d.loaderData)),we=s(V,ue)||V.key;r[we]=o()}}function Ue(V,$){if(r&&s&&o){let ue=$.map(C=>Uy(C,d.loaderData)),we=s(V,ue)||V.key,P=r[we];if(typeof P=="number")return P}return null}return h={get basename(){return n.basename},get state(){return d},get routes(){return e},initialize:H,subscribe:G,enableScrollRestoration:Pe,navigate:Z,fetch:ee,revalidate:ce,createHref:V=>n.history.createHref(V),getFetcher:Y,deleteFetcher:ke,dispose:oe,_internalFetchControllers:w,_internalActiveDeferreds:L},h}const gA=new Set(["POST","PUT","PATCH","DELETE"]);[...gA];function Ly(n,e,t){t===void 0&&(t=!1);let i=typeof n=="string"?n:wi(n);if(!e||!("formMethod"in e)&&!("formData"in e))return{path:i};if(e.formMethod!=null&&e.formMethod!=="get")return{path:i,submission:{formMethod:e.formMethod,formAction:ES(i),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};if(!e.formData)return{path:i};let r=ur(i);try{let s=MS(e.formData);t&&r.search&&TS(r.search)&&s.append("index",""),r.search="?"+s}catch{return{path:i,error:new fa(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:wi(r)}}function Rf(n,e){let{formMethod:t,formAction:i,formEncType:r,formData:s}=n.navigation;return{state:"loading",location:Ns(n.location,e.location),formMethod:t||void 0,formAction:i||void 0,formEncType:r||void 0,formData:s||void 0}}function vA(n,e){let t=n;if(e){let i=n.findIndex(r=>r.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function Iy(n,e,t,i,r,s,o,a,l,c){let u=l?Object.values(l)[0]:a?Object.values(a)[0]:null,h=l?Object.keys(l)[0]:void 0,p=vA(e,h).filter((f,g)=>f.route.loader!=null&&(yA(n.loaderData,n.matches[g],f)||s.some(y=>y===f.route.id)||Dy(n.location,n.matches[g],t,i,f,r,u))),v=[];return c&&c.forEach((f,g)=>{let[y,x,_]=f;o.includes(g)?v.push([g,y,x,_]):r&&Dy(y,x,t,y,x,r,u)&&v.push([g,y,x,_])}),[p,v]}function yA(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function bS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Dy(n,e,t,i,r,s,o){let a=Dl(n),l=e.params,c=Dl(i),u=r.params,h=bS(e,r)||a.toString()===c.toString()||a.search!==c.search||s;if(r.route.shouldRevalidate){let d=r.route.shouldRevalidate(wt({currentUrl:a,currentParams:l,nextUrl:c,nextParams:u},t,{actionResult:o,defaultShouldRevalidate:h}));if(typeof d=="boolean")return d}return h}async function ka(n,e,t,i,r,s,o){s===void 0&&(s=!1),o===void 0&&(o=!1);let a,l,c,u=new Promise((d,p)=>c=p),h=()=>c();e.signal.addEventListener("abort",h);try{let d=t.route[n];Ye(d,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),l=await Promise.race([d({request:e,params:t.params}),u])}catch(d){a=en.error,l=d}finally{e.signal.removeEventListener("abort",h)}if(l instanceof Response){let d=l.status;if(d>=300&&d<=399){let f=l.headers.get("Location");Ye(f,"Redirects returned/thrown from loaders/actions must have a Location header");let g=i.slice(0,i.indexOf(t)+1),y=Ch(g).map(w=>w.pathnameBase),x=Dl(e.url).pathname,_=d0(f,y,x);if(Ye(wi(_),"Unable to resolve redirect location: "+l.headers.get("Location")),r){let w=_.pathname;_.pathname=w==="/"?r:tr([r,w])}if(f=wi(_),s)throw l.headers.set("Location",f),l;return{type:en.redirect,status:d,location:f,revalidate:l.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:a||en.data,response:l};let p,v=l.headers.get("Content-Type");return v&&v.startsWith("application/json")?p=await l.json():p=await l.text(),a===en.error?{type:a,error:new fa(d,l.statusText,p),headers:l.headers}:{type:en.data,data:p,statusCode:l.status,headers:l.headers}}return a===en.error?{type:a,error:l}:l instanceof cA?{type:en.deferred,deferredData:l}:{type:en.data,data:l}}function Oa(n,e,t){let i=Dl(ES(n)).toString(),r={signal:e};if(t){let{formMethod:s,formEncType:o,formData:a}=t;r.method=s.toUpperCase(),r.body=o==="application/x-www-form-urlencoded"?MS(a):a}return new Request(i,r)}function MS(n){let e=new URLSearchParams;for(let[t,i]of n.entries())Ye(typeof i=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,i);return e}function xA(n,e,t,i,r){let s={},o=null,a,l=!1,c={};return t.forEach((u,h)=>{let d=e[h].route.id;if(Ye(!Yo(u),"Cannot handle redirect results in processLoaderData"),ll(u)){let p=Oo(n,d),v=u.error;i&&(v=Object.values(i)[0],i=void 0),o=Object.assign(o||{},{[p.route.id]:v}),l||(l=!0,a=SS(u.error)?u.error.status:500),u.headers&&(c[d]=u.headers)}else bs(u)?(r&&r.set(d,u.deferredData),s[d]=u.deferredData.data):(s[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[d]=u.headers))}),i&&(o=i),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function ky(n,e,t,i,r,s,o,a){let{loaderData:l,errors:c}=xA(e,t,i,r,a);for(let u=0;u<s.length;u++){let[h,,d]=s[u];Ye(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let p=o[u];if(ll(p)){let v=Oo(n.matches,d.route.id);c&&c[v.route.id]||(c=wt({},c,{[v.route.id]:p.error})),n.fetchers.delete(h)}else{if(Yo(p))throw new Error("Unhandled fetcher revalidation redirect");if(bs(p))throw new Error("Unhandled fetcher deferred data");{let v={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};n.fetchers.set(h,v)}}}return{loaderData:l,errors:c}}function Lf(n,e,t){let i=wt({},e);return t.forEach(r=>{let s=r.route.id;e[s]===void 0&&n[s]!==void 0&&(i[s]=n[s])}),i}function Oo(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function _A(n,e,t){let i=n.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-"+e+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:i}],route:i,error:new fa(e,t,null)}}function Oy(n){return _A(n,404,"Not Found")}function Fy(n){let e=typeof n=="string"?n:wi(n);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+e+"]")),{type:en.error,error:new fa(405,"Method Not Allowed","")}}function By(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Yo(t))return t}}function ES(n){let e=typeof n=="string"?ur(n):n;return wi(wt({},e,{hash:""}))}function wA(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function bs(n){return n.type===en.deferred}function ll(n){return n.type===en.error}function Yo(n){return(n&&n.type)===en.redirect}async function zy(n,e,t,i,r,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o],c=n.find(h=>h.route.id===l.route.id),u=c!=null&&!bS(c,l)&&(s&&s[l.route.id])!==void 0;bs(a)&&(r||u)&&await CS(a,i,r).then(h=>{h&&(t[o]=h||t[o])})}}async function CS(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:en.data,data:n.deferredData.unwrappedData}}catch(r){return{type:en.error,error:r}}return{type:en.data,data:n.deferredData.data}}}function TS(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Uy(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function Vy(n,e){let t=typeof e=="string"?ur(e).search:e.search;if(n[n.length-1].route.index&&TS(t||""))return n[n.length-1];let i=Ch(n);return i[i.length-1]}/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pd.apply(this,arguments)}function SA(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const bA=typeof Object.is=="function"?Object.is:SA,{useState:MA,useEffect:EA,useLayoutEffect:CA,useDebugValue:TA}=hl;function AA(n,e,t){const i=e(),[{inst:r},s]=MA({inst:{value:i,getSnapshot:e}});return CA(()=>{r.value=i,r.getSnapshot=e,If(r)&&s({inst:r})},[n,i,e]),EA(()=>(If(r)&&s({inst:r}),n(()=>{If(r)&&s({inst:r})})),[n]),TA(i),i}function If(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!bA(t,i)}catch{return!0}}function PA(n,e,t){return e()}const NA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RA=!NA,LA=RA?PA:AA,IA="useSyncExternalStore"in hl?(n=>n.useSyncExternalStore)(hl):LA,DA=F.exports.createContext(null),AS=F.exports.createContext(null),h0=F.exports.createContext(null),f0=F.exports.createContext(null),Th=F.exports.createContext(null),oc=F.exports.createContext({outlet:null,matches:[]}),PS=F.exports.createContext(null);function kA(n,e){let{relative:t}=e===void 0?{}:e;ac()||Ye(!1);let{basename:i,navigator:r}=F.exports.useContext(f0),{hash:s,pathname:o,search:a}=NS(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:tr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function ac(){return F.exports.useContext(Th)!=null}function Ah(){return ac()||Ye(!1),F.exports.useContext(Th).location}function pa(){ac()||Ye(!1);let{basename:n,navigator:e}=F.exports.useContext(f0),{matches:t}=F.exports.useContext(oc),{pathname:i}=Ah(),r=JSON.stringify(Ch(t).map(a=>a.pathnameBase)),s=F.exports.useRef(!1);return F.exports.useEffect(()=>{s.current=!0}),F.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=d0(a,JSON.parse(r),i,l.relative==="path");n!=="/"&&(c.pathname=c.pathname==="/"?n:tr([n,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[n,e,r,i])}function NS(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=F.exports.useContext(oc),{pathname:r}=Ah(),s=JSON.stringify(Ch(i).map(o=>o.pathnameBase));return F.exports.useMemo(()=>d0(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function OA(n,e){ac()||Ye(!1);let t=F.exports.useContext(h0),{matches:i}=F.exports.useContext(oc),r=i[i.length-1],s=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let a=Ah(),l;if(e){var c;let v=typeof e=="string"?ur(e):e;o==="/"||((c=v.pathname)==null?void 0:c.startsWith(o))||Ye(!1),l=v}else l=a;let u=l.pathname||"/",h=o==="/"?u:u.slice(o.length)||"/",d=Ja(n,{pathname:h}),p=UA(d&&d.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:tr([o,v.pathname]),pathnameBase:v.pathnameBase==="/"?o:tr([o,v.pathnameBase])})),i,t||void 0);return e&&p?F.exports.createElement(Th.Provider,{value:{location:Pd({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:zt.Pop}},p):p}function FA(){let n=GA(),e=SS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i};return F.exports.createElement(F.exports.Fragment,null,F.exports.createElement("h2",null,"Unhandled Thrown Error!"),F.exports.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.exports.createElement("pre",{style:r},t):null,F.exports.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),F.exports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xA0",F.exports.createElement("code",{style:s},"errorElement")," props on\xA0",F.exports.createElement("code",{style:s},"<Route>")))}class BA extends F.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?F.exports.createElement(PS.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function zA(n){let{routeContext:e,match:t,children:i}=n,r=F.exports.useContext(DA);return r&&t.route.errorElement&&(r._deepestRenderedBoundaryId=t.route.id),F.exports.createElement(oc.Provider,{value:e},i)}function UA(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let i=n,r=t==null?void 0:t.errors;if(r!=null){let s=i.findIndex(o=>o.route.id&&(r==null?void 0:r[o.route.id]));s>=0||Ye(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,o,a)=>{let l=o.route.id?r==null?void 0:r[o.route.id]:null,c=t?o.route.errorElement||F.exports.createElement(FA,null):null,u=()=>F.exports.createElement(zA,{match:o,routeContext:{outlet:s,matches:e.concat(i.slice(0,a+1))}},l?c:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?F.exports.createElement(BA,{location:t.location,component:c,error:l,children:u()}):u()},null)}var Gy;(function(n){n.UseRevalidator="useRevalidator"})(Gy||(Gy={}));var pm;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(pm||(pm={}));function VA(n){let e=F.exports.useContext(h0);return e||Ye(!1),e}function GA(){var n;let e=F.exports.useContext(PS),t=VA(pm.UseRouteError),i=F.exports.useContext(oc),r=i.matches[i.matches.length-1];return e||(i||Ye(!1),r.route.id||Ye(!1),(n=t.errors)==null?void 0:n[r.route.id])}function HA(n){let{fallbackElement:e,router:t}=n,i=IA(t.subscribe,()=>t.state,()=>t.state),r=F.exports.useMemo(()=>({createHref:t.createHref,go:o=>t.navigate(o),push:(o,a,l)=>t.navigate(o,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,a,l)=>t.navigate(o,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[t]),s=t.basename||"/";return F.exports.createElement(AS.Provider,{value:{router:t,navigator:r,static:!1,basename:s}},F.exports.createElement(h0.Provider,{value:i},F.exports.createElement($A,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:r},t.state.initialized?F.exports.createElement(jA,null):e)))}function WA(n){Ye(!1)}function $A(n){let{basename:e="/",children:t=null,location:i,navigationType:r=zt.Pop,navigator:s,static:o=!1}=n;ac()&&Ye(!1);let a=e.replace(/^\/*/,"/"),l=F.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=ur(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:p="default"}=i,v=F.exports.useMemo(()=>{let f=wS(c,a);return f==null?null:{pathname:f,search:u,hash:h,state:d,key:p}},[a,c,u,h,d,p]);return v==null?null:F.exports.createElement(f0.Provider,{value:l},F.exports.createElement(Th.Provider,{children:t,value:{location:v,navigationType:r}}))}function jA(n){let{children:e,location:t}=n,i=F.exports.useContext(AS),r=i&&!e?i.router.routes:mm(e);return OA(r,t)}var Hy;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(Hy||(Hy={}));new Promise(()=>{});function mm(n,e){e===void 0&&(e=[]);let t=[];return F.exports.Children.forEach(n,(i,r)=>{if(!F.exports.isValidElement(i))return;if(i.type===F.exports.Fragment){t.push.apply(t,mm(i.props.children,e));return}i.type!==WA&&Ye(!1),!i.props.index||!i.props.children||Ye(!1);let s=[...e,r],o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(o.children=mm(i.props.children,s)),t.push(o)}),t}function RS(n){return n.map(e=>{let t=Pd({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=RS(t.children)),t})}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gm.apply(this,arguments)}function XA(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function qA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YA(n,e){return n.button===0&&(!e||e==="_self")&&!qA(n)}const JA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function ZA(n,e){var t;return mA({basename:e==null?void 0:e.basename,history:UT({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||((t=window)==null?void 0:t.__staticRouterHydrationData),routes:RS(n)}).initialize()}const Df=F.exports.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=XA(e,JA),d=kA(c,{relative:r}),p=KA(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r});function v(f){i&&i(f),f.defaultPrevented||p(f)}return F.exports.createElement("a",gm({},h,{href:d,onClick:s?i:v,ref:t,target:l}))});var Wy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(Wy||(Wy={}));var $y;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})($y||($y={}));function KA(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=pa(),l=Ah(),c=NS(n,{relative:o});return F.exports.useCallback(u=>{if(YA(u,t)){u.preventDefault();let h=i!==void 0?i:wi(l)===wi(c);a(n,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,c,i,r,t,n,s,o])}var LS={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(typeof self<"u"?self:w2,()=>(()=>{var t={d:(f,g)=>{for(var y in g)t.o(g,y)&&!t.o(f,y)&&Object.defineProperty(f,y,{enumerable:!0,get:g[y]})},o:(f,g)=>Object.prototype.hasOwnProperty.call(f,g),r:f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})}},i={};t.r(i),t.d(i,{default:()=>v}),Number.prototype.clamp=function(f,g){return Math.min(Math.max(this,f),g)};function r(f){for(;f.children&&f.children.length>0;)r(f.children[0]),f.remove(f.children[0]);f.geometry&&f.geometry.dispose(),f.material&&(Object.keys(f.material).forEach(g=>{f.material[g]&&f.material[g]!==null&&typeof f.material[g].dispose=="function"&&f.material[g].dispose()}),f.material.dispose())}const s=typeof window=="object";let o=s&&window.THREE||{};s&&!window.VANTA&&(window.VANTA={});const a=s&&window.VANTA||{};a.register=(f,g)=>a[f]=y=>new g(y),a.version="0.5.24";const l=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};a.VantaBase=class{constructor(f={}){if(!s)return!1;a.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const g=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},g),(f instanceof HTMLElement||typeof f=="string")&&(f={el:f}),Object.assign(this.options,f),this.options.THREE&&(o=this.options.THREE),this.el=this.options.el,this.el==null)l('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const w=this.el;if(this.el=(y=w,document.querySelector(y)),!this.el)return void l("Cannot find element",w)}var y,x;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(w){return l("Init error",w),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(x=this.options.backgroundColor,typeof x=="number"?"#"+("00000"+x.toString(16)).slice(-6):x)))}this.initMouse(),this.resize(),this.animationLoop();const _=window.addEventListener;_("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(_("scroll",this.windowMouseMoveWrapper),_("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(_("touchstart",this.windowTouchWrapper),_("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&_("deviceorientation",this.windowGyroWrapper)}setOptions(f={}){Object.assign(this.options,f),this.triggerMouseMove()}prepareEl(){let f,g;if(typeof Node<"u"&&Node.TEXT_NODE)for(f=0;f<this.el.childNodes.length;f++){const y=this.el.childNodes[f];if(y.nodeType===Node.TEXT_NODE){const x=document.createElement("span");x.textContent=y.textContent,y.parentElement.insertBefore(x,y),y.remove()}}for(f=0;f<this.el.children.length;f++)g=this.el.children[f],getComputedStyle(g).position==="static"&&(g.style.position="relative"),getComputedStyle(g).zIndex==="auto"&&(g.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(f,g={}){Object.assign(f.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(f.style,g),f.classList.add("vanta-canvas")}initThree(){o.WebGLRenderer?(this.renderer=new o.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new o.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const f=this.getCanvasElement();return!!f&&f.getBoundingClientRect()}windowMouseMoveWrapper(f){const g=this.getCanvasRect();if(!g)return!1;const y=f.clientX-g.left,x=f.clientY-g.top;y>=0&&x>=0&&y<=g.width&&x<=g.height&&(this.mouseX=y,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(y,x))}windowTouchWrapper(f){const g=this.getCanvasRect();if(!g)return!1;if(f.touches.length===1){const y=f.touches[0].clientX-g.left,x=f.touches[0].clientY-g.top;y>=0&&x>=0&&y<=g.width&&x<=g.height&&(this.mouseX=y,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(y,x))}}windowGyroWrapper(f){const g=this.getCanvasRect();if(!g)return!1;const y=Math.round(2*f.alpha)-g.left,x=Math.round(2*f.beta)-g.top;y>=0&&x>=0&&y<=g.width&&x<=g.height&&(this.mouseX=y,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(y,x))}triggerMouseMove(f,g){f===void 0&&g===void 0&&(this.options.mouseEase?(f=this.mouseEaseX,g=this.mouseEaseY):(f=this.mouseX,g=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=f/this.scale,this.uniforms.iMouse.value.y=g/this.scale);const y=f/this.width,x=g/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(y,x)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const f=this.el.offsetHeight,g=this.el.getBoundingClientRect(),y=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,x=g.top+y;return x-window.innerHeight<=y&&y<=x+f}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const f=performance.now();if(this.prevNow){let g=(f-this.prevNow)/16.666666666666668;g=Math.max(.2,Math.min(g,5)),this.t+=g,this.t2+=(this.options.speed||1)*g,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=f,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const f=window.removeEventListener;f("touchstart",this.windowTouchWrapper),f("touchmove",this.windowTouchWrapper),f("scroll",this.windowMouseMoveWrapper),f("mousemove",this.windowMouseMoveWrapper),f("deviceorientation",this.windowGyroWrapper),f("resize",this.resize),window.cancelAnimationFrame(this.req);const g=this.scene;g&&g.children&&r(g),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),a.current===this&&(a.current=null)}};const c=a.VantaBase;let u=typeof window=="object"&&window.THREE;class h extends c{constructor(g){u=g.THREE||u,u.Color.prototype.toVector=function(){return new u.Vector3(this.r,this.g,this.b)},super(g),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new u.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new u.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(g){super.setOptions(g),this.updateUniforms()}initBasicShader(g=this.fragmentShader,y=this.vertexShader){y||(y=`uniform float uTime;
uniform vec2 uResolution;
void main() {
  gl_Position = vec4( position, 1.0 );
}`),this.updateUniforms(),typeof this.valuesChanger=="function"&&this.valuesChanger();const x=new u.ShaderMaterial({uniforms:this.uniforms,vertexShader:y,fragmentShader:g}),_=this.options.texturePath;_&&(this.uniforms.iTex={type:"t",value:new u.TextureLoader().load(_)});const w=new u.Mesh(new u.PlaneGeometry(2,2),x);this.scene.add(w),this.camera=new u.Camera,this.camera.position.z=1}updateUniforms(){const g={};let y,x;for(y in this.options)x=this.options[y],y.toLowerCase().indexOf("color")!==-1?g[y]={type:"v3",value:new u.Color(x).toVector()}:typeof x=="number"&&(g[y]={type:"f",value:x});return Object.assign(this.uniforms,g)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}let d=typeof window=="object"&&window.THREE;class p extends h{constructor(g){d=g.THREE||d,super(g)}getDefaultOptions(){return{baseColor:6745,color2:15918901,backgroundColor:1251907,amplitudeFactor:1,ringFactor:1,rotationFactor:1,xOffset:0,yOffset:0,size:1,speed:1,mouseEase:!0,scaleMobile:1,scale:1}}onInit(){const g={minFilter:d.LinearFilter,magFilter:d.LinearFilter,format:d.RGBFormat},y=this.width*window.devicePixelRatio/this.scale,x=this.height*window.devicePixelRatio/this.scale;this.bufferTarget=new d.WebGLRenderTarget(y,x,g),this.bufferFeedback=new d.WebGLRenderTarget(y,x,g)}initBasicShader(g,y){super.initBasicShader(g,y),this.uniforms.iBuffer={type:"t",value:this.bufferTarget.texture}}onUpdate(){this.uniforms.iBuffer.value=this.bufferFeedback.texture;const g=this.renderer;g.setRenderTarget(this.bufferTarget),g.render(this.scene,this.camera),g.setRenderTarget(null),g.clear();let y=this.bufferTarget;this.bufferTarget=this.bufferFeedback,this.bufferFeedback=y}onResize(){if(this.bufferTarget){const g=this.width*window.devicePixelRatio/this.scale,y=this.height*window.devicePixelRatio/this.scale;this.bufferTarget.setSize(g,y),this.bufferFeedback.setSize(g,y)}}onDestroy(){this.bufferTarget=null,this.bufferFeedback=null}}const v=a.register("HALO",p);return p.prototype.fragmentShader=`uniform vec2 iResolution;
uniform float iDpr;
uniform vec2 iMouse;
uniform float iTime;

uniform float xOffset;
uniform float yOffset;
uniform vec3 baseColor;
uniform vec3 color2;
uniform vec3 backgroundColor;
uniform float size;
uniform float shape;
uniform float ringFactor;
uniform float rotationFactor;
uniform float amplitudeFactor;

uniform sampler2D iBuffer;
uniform sampler2D iTex;
const float PI = 3.14159265359;

// float length2(vec2 p) { return dot(p, p); }

// float noise(vec2 p){
//   return fract(sin(fract(sin(p.x) * (43.13311)) + p.y) * 31.0011);
// }

// float worley(vec2 p) {
//     float d = 1e30;
//     for (int xo = -1; xo <= 1; ++xo) {
//         for (int yo = -1; yo <= 1; ++yo) {
//             vec2 tp = floor(p) + vec2(xo, yo);
//             d = min(d, length2(p - tp - vec2(noise(tp))));
//         }
//     }
//     vec2 uv = gl_FragCoord.xy / iResolution.xy;
//     float timeOffset =  0.15 * sin(iTime * 2.0 + 10.0*(uv.x - uv.y));
//     return 3.0*exp(-4.0*abs(2.0*d - 1.0 + timeOffset));
// }

// float fworley(vec2 p) {
//     return sqrt(
//     1.1 * // light
//     worley(p*10. + .3 + iTime*.0525) *
//     sqrt(worley(p * 50. / size + 0.1 + iTime * -0.75)) *
//     4.1 *
//     sqrt(sqrt(worley(p * -1. + 9.3))));
// }

vec4 j2hue(float c) {
  return .5+.5*cos(6.28*c+vec4(0,-2.1,2.1,0));
}

vec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }

float snoise(vec2 v){
  const vec4 C = vec4(0.211324865405187, 0.366025403784439,
           -0.577350269189626, 0.024390243902439);
  vec2 i  = floor(v + dot(v, C.yy) );
  vec2 x0 = v -   i + dot(i, C.xx);
  vec2 i1;
  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);
  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))
  + i.x + vec3(0.0, i1.x, 1.0 ));
  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),
    dot(x12.zw,x12.zw)), 0.0);
  m = m*m ;
  m = m*m ;
  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );
  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

vec2 sincos( float x ){return vec2(sin(x), cos(x));}
vec2 rotate2d(vec2 uv, float phi){vec2 t = sincos(phi); return vec2(uv.x*t.y-uv.y*t.x, uv.x*t.x+uv.y*t.y);}
vec3 rotate3d(vec3 p, vec3 v, float phi){ v = normalize(v); vec2 t = sincos(-phi); float s = t.x, c = t.y, x =-v.x, y =-v.y, z =-v.z; mat4 M = mat4(x*x*(1.-c)+c,x*y*(1.-c)-z*s,x*z*(1.-c)+y*s,0.,y*x*(1.-c)+z*s,y*y*(1.-c)+c,y*z*(1.-c)-x*s,0.,z*x*(1.-c)-y*s,z*y*(1.-c)+x*s,z*z*(1.-c)+c,0.,0.,0.,0.,1.);return (vec4(p,1.)*M).xyz;}

// Classic Perlin 3D Noise
// by Stefan Gustavson
vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}
float p3d(vec3 P){
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return 2.2 * n_xyz;
}


void main() {
  vec2 res2 = iResolution.xy * iDpr;
  vec2 pixel = vec2(gl_FragCoord.xy - 0.5 * res2) / res2.y; // center-origin pixel coord
  pixel.x -= xOffset * res2.x / res2.y;
  pixel.y -= yOffset;

  vec2 uv = gl_FragCoord.xy / res2; // 0 to 1

  // float nn1 = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01) * 0.1;
  // float nn2 = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01 + 1000.) * 0.1;
  // uv += vec2(nn1, nn2);

  // PERLIN DISTORTION
  // float noiseScale = 10.;
  // float timeScale = 0.5;
  // uv += vec2( p3d(vec3(uv * noiseScale, iTime * timeScale)), p3d(vec3(1000. + uv * noiseScale , iTime * timeScale)) ) * 0.001;

  // uv = rotate2d(uv, 0.001);
  // pixel = rotate2d(pixel, 0.001);

  vec2 mouse2 = (iMouse * iDpr / res2 - 0.5) * vec2(1.,-1.);
  vec2 uvBig = (uv - 0.5) * 0.996 + 0.5;

  vec4 oldImage = texture2D(iBuffer, uv);
  vec3 mixedColor = oldImage.rgb - backgroundColor;

  // float spinDist = 0.002 + 0.002 * sin(iTime * 0.4);
  float cropDist = 0.01;
  float cropXOffset = 0.2;
  float cropYOffset = 0.2;
  // float cropXOffset = 0.4 + 0.1 * sin(iTime * 0.4);
  // float cropYOffset = 0.4 + 0.1 * cos(iTime * 0.6);

  vec2 offset = uv + vec2((mixedColor.g - cropXOffset) * cropDist, (mixedColor.r - cropYOffset) * cropDist);

  // float nn = snoise(uv * 10.) * 0.001;
  // offset += nn;

  float spinDist = 0.001;
  float spinSpeed = 0.2 + 0.15 * cos(iTime * 0.5);
  float timeFrac = mod(iTime, 6.5);
  vec2 offset2 = uvBig + vec2(cos(timeFrac * spinSpeed) * spinDist, sin(timeFrac * spinSpeed) * spinDist);

  mixedColor = texture2D(iBuffer, offset).rgb * 0.4
    + texture2D(iBuffer, offset2).rgb * 0.6
    - backgroundColor;


  // mixedColor *= .875;
  float fadeAmt = 0.0015; // fade this amount each frame // 0.002
  mixedColor = (mixedColor - fadeAmt) * .995;

  // float nn = snoise(uvBig * 10.) * 20.;
  // mixedColor *= clamp(nn, 0.98, 1.0);

  vec4 spectrum = abs( abs( .95*atan(uv.x, uv.y) -vec4(0,2,4,0) ) -3. )-1.;
  float angle = atan(pixel.x, pixel.y);
  float dist = length(pixel - mouse2*0.15) * 8. + sin(iTime) * .01;

  // mixedColor *= pow(1.-dist*0.002, 2.);


  // Flowery shapes
  // float edge = abs(dist * 0.5);
  float flowerPeaks = .05 * amplitudeFactor * size;
  float flowerPetals = 7.;
  float edge = abs((dist + sin(angle * flowerPetals + iTime * 0.5) * sin(iTime * 1.5) * flowerPeaks) * 0.65 / size);
  // float edge = abs((dist + sin(angle * 4. + iTime * 2.) * sin(iTime * 3.) * 0.75) * 1.);

  // vec4 rainbow = abs( abs( .95*mod(iTime * 1., 2. * PI) - vec4(0,2,4,0) ) -3. )-1.;
  // vec4 rainbow = vec4(0,2,4,0);

  float colorChangeSpeed = 0.75 + 0.05 * sin(iTime) * 1.5;
  float rainbowInput = timeFrac * colorChangeSpeed;
  // NOISE!
  // float nn = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01) * 20.;
  // rainbowInput += nn;

  float brightness = 0.7;
  vec4 rainbow = sqrt(j2hue(cos(rainbowInput))) + vec4(baseColor,0) - 1.0 + brightness;
  float factor = smoothstep(1., .9, edge) * pow(edge, 2.);
  vec3 color = rainbow.rgb * smoothstep(1., .9, edge) * pow(edge, 20.);
  vec4 ring = vec4(
    backgroundColor + clamp( mixedColor + color, 0., 1.)
    , 1.0);

  // float t = fworley(uv * u_resolution.xy / 1500.0);
  // t *= exp(-length2(abs(0.7*uv - 1.0)));
  // float tExp = pow(t, 2. - t);
  // vec3 c1 = color1 * (1.0 - t);
  // vec3 c2 = color2 * tExp;
  // vec4 cells = vec4(mixedColor * 0.25, 1.) + vec4(pow(t, 1.0 - t) * (c1 + c2), 1.0);
  // gl_FragColor = clamp(ring + cells * 0.5, 0.0, 1.0);

  // float nn = snoise(uv * 10.) * 0.01; // creepy!
  gl_FragColor = ring;
}
`,i})())})(LS);const QA=N_(LS.exports);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ph="145",eP={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},tP={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},IS=0,vm=1,DS=2,nP=3,iP=0,p0=1,kS=2,Fo=3,Gs=0,Bn=1,Ji=2,nr=0,Rs=1,ym=2,xm=3,_m=4,OS=5,ys=100,FS=101,BS=102,wm=103,Sm=104,zS=200,US=201,VS=202,GS=203,m0=204,g0=205,HS=206,WS=207,$S=208,jS=209,XS=210,qS=0,YS=1,JS=2,Nd=3,ZS=4,KS=5,QS=6,eb=7,lc=0,tb=1,nb=2,ki=0,ib=1,rb=2,sb=3,ob=4,ab=5,Nh=300,jr=301,Xr=302,kl=303,Ol=304,ma=306,Fl=1e3,yn=1001,Bl=1002,Ot=1003,Rd=1004,rP=1004,Ld=1005,sP=1005,Rt=1006,v0=1007,oP=1007,Ys=1008,aP=1008,qr=1009,lb=1010,cb=1011,y0=1012,ub=1013,Lr=1014,Zi=1015,oa=1016,db=1017,hb=1018,Ls=1020,fb=1021,pb=1022,ei=1023,mb=1024,gb=1025,Gr=1026,Hs=1027,vb=1028,yb=1029,xb=1030,_b=1031,wb=1033,qu=33776,Yu=33777,Ju=33778,Zu=33779,bm=35840,Mm=35841,Em=35842,Cm=35843,Sb=36196,Tm=37492,Am=37496,Pm=37808,Nm=37809,Rm=37810,Lm=37811,Im=37812,Dm=37813,km=37814,Om=37815,Fm=37816,Bm=37817,zm=37818,Um=37819,Vm=37820,Gm=37821,Hm=36492,bb=2200,Mb=2201,Eb=2202,zl=2300,Ul=2301,Ku=2302,Ms=2400,Es=2401,Vl=2402,Rh=2500,x0=2501,lP=0,cP=1,uP=2,Yr=3e3,_t=3001,Cb=3200,Tb=3201,ts=0,Ab=1,dP="",Ai="srgb",Ir="srgb-linear",hP=0,Qu=7680,fP=7681,pP=7682,mP=7683,gP=34055,vP=34056,yP=5386,xP=512,_P=513,wP=514,SP=515,bP=516,MP=517,EP=518,Pb=519,Gl=35044,CP=35048,TP=35040,AP=35045,PP=35049,NP=35041,RP=35046,LP=35050,IP=35042,DP="100",Wm="300 es",Id=1035;class dr{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const cn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let jy=1234567;const Is=Math.PI/180,Hl=180/Math.PI;function zn(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(cn[n&255]+cn[n>>8&255]+cn[n>>16&255]+cn[n>>24&255]+"-"+cn[e&255]+cn[e>>8&255]+"-"+cn[e>>16&15|64]+cn[e>>24&255]+"-"+cn[t&63|128]+cn[t>>8&255]+"-"+cn[t>>16&255]+cn[t>>24&255]+cn[i&255]+cn[i>>8&255]+cn[i>>16&255]+cn[i>>24&255]).toLowerCase()}function Lt(n,e,t){return Math.max(e,Math.min(t,n))}function _0(n,e){return(n%e+e)%e}function kP(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function OP(n,e,t){return n!==e?(t-n)/(e-n):0}function cl(n,e,t){return(1-t)*n+t*e}function FP(n,e,t,i){return cl(n,e,1-Math.exp(-t*i))}function BP(n,e=1){return e-Math.abs(_0(n,e*2)-e)}function zP(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function UP(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function VP(n,e){return n+Math.floor(Math.random()*(e-n+1))}function GP(n,e){return n+Math.random()*(e-n)}function HP(n){return n*(.5-Math.random())}function WP(n){n!==void 0&&(jy=n);let e=jy+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function $P(n){return n*Is}function jP(n){return n*Hl}function $m(n){return(n&n-1)===0&&n!==0}function Nb(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Dd(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function XP(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),h=s((e-i)/2),d=o((e-i)/2),p=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*h,l*d,a*c);break;case"YZY":n.set(l*d,a*u,l*h,a*c);break;case"ZXZ":n.set(l*h,l*d,a*u,a*c);break;case"XZX":n.set(a*u,l*v,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*v,a*c);break;case"ZYZ":n.set(l*v,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ki(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ft(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var qP=Object.freeze({__proto__:null,DEG2RAD:Is,RAD2DEG:Hl,generateUUID:zn,clamp:Lt,euclideanModulo:_0,mapLinear:kP,inverseLerp:OP,lerp:cl,damp:FP,pingpong:BP,smoothstep:zP,smootherstep:UP,randInt:VP,randFloat:GP,randFloatSpread:HP,seededRandom:WP,degToRad:$P,radToDeg:jP,isPowerOfTwo:$m,ceilPowerOfTwo:Nb,floorPowerOfTwo:Dd,setQuaternionFromProperEuler:XP,normalize:ft,denormalize:Ki});class le{constructor(e=0,t=0){le.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class En{constructor(){En.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],h=i[7],d=i[2],p=i[5],v=i[8],f=r[0],g=r[3],y=r[6],x=r[1],_=r[4],w=r[7],b=r[2],E=r[5],T=r[8];return s[0]=o*f+a*x+l*b,s[3]=o*g+a*_+l*E,s[6]=o*y+a*w+l*T,s[1]=c*f+u*x+h*b,s[4]=c*g+u*_+h*E,s[7]=c*y+u*w+h*T,s[2]=d*f+p*x+v*b,s[5]=d*g+p*_+v*E,s[8]=d*y+p*w+v*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,d=a*l-u*s,p=c*s-o*l,v=t*h+i*d+r*p;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const f=1/v;return e[0]=h*f,e[1]=(r*c-u*i)*f,e[2]=(a*i-r*o)*f,e[3]=d*f,e[4]=(u*t-r*l)*f,e[5]=(r*s-a*t)*f,e[6]=p*f,e[7]=(i*l-c*t)*f,e[8]=(o*t-i*s)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=t*s+i*l,r[3]=t*o+i*c,r[6]=t*a+i*u,r[1]=-i*s+t*l,r[4]=-i*o+t*c,r[7]=-i*a+t*u,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function Rb(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const YP={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Bo(n,e){return new YP[n](e)}function Wl(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ds(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ed(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const kf={[Ai]:{[Ir]:Ds},[Ir]:{[Ai]:ed}},qn={legacyMode:!0,get workingColorSpace(){return Ir},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(kf[e]&&kf[e][t]!==void 0){const i=kf[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},Lb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bt={r:0,g:0,b:0},ui={h:0,s:0,l:0},jc={h:0,s:0,l:0};function Of(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Xc(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Ee{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ai){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Ir){return this.r=e,this.g=t,this.b=i,qn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Ir){if(e=_0(e,1),t=Lt(t,0,1),i=Lt(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Of(o,s,e+1/3),this.g=Of(o,s,e),this.b=Of(o,s,e-1/3)}return qn.toWorkingColorSpace(this,r),this}setStyle(e,t=Ai){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,qn.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,qn.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,c,u,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,qn.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,qn.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Ai){const i=Lb[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ds(e.r),this.g=Ds(e.g),this.b=Ds(e.b),this}copyLinearToSRGB(e){return this.r=ed(e.r),this.g=ed(e.g),this.b=ed(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ai){return qn.fromWorkingColorSpace(Xc(this,Bt),e),Lt(Bt.r*255,0,255)<<16^Lt(Bt.g*255,0,255)<<8^Lt(Bt.b*255,0,255)<<0}getHexString(e=Ai){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ir){qn.fromWorkingColorSpace(Xc(this,Bt),t);const i=Bt.r,r=Bt.g,s=Bt.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Ir){return qn.fromWorkingColorSpace(Xc(this,Bt),t),e.r=Bt.r,e.g=Bt.g,e.b=Bt.b,e}getStyle(e=Ai){return qn.fromWorkingColorSpace(Xc(this,Bt),e),e!==Ai?`color(${e} ${Bt.r} ${Bt.g} ${Bt.b})`:`rgb(${Bt.r*255|0},${Bt.g*255|0},${Bt.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(ui),ui.h+=e,ui.s+=t,ui.l+=i,this.setHSL(ui.h,ui.s,ui.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ui),e.getHSL(jc);const i=cl(ui.h,jc.h,t),r=cl(ui.s,jc.s,t),s=cl(ui.l,jc.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Ee.NAMES=Lb;let so;class w0{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{so===void 0&&(so=Wl("canvas")),so.width=e.width,so.height=e.height;const i=so.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=so}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Wl("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Ds(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ds(t[i]/255)*255):t[i]=Ds(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Cs{constructor(e=null){this.isSource=!0,this.uuid=zn(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Ff(r[o].image)):s.push(Ff(r[o]))}else s=Ff(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Ff(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?w0.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let JP=0;class Ht extends dr{constructor(e=Ht.DEFAULT_IMAGE,t=Ht.DEFAULT_MAPPING,i=yn,r=yn,s=Rt,o=Ys,a=ei,l=qr,c=1,u=Yr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:JP++}),this.uuid=zn(),this.name="",this.source=new Cs(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new le(0,0),this.repeat=new le(1,1),this.center=new le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new En,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Nh)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fl:e.x=e.x-Math.floor(e.x);break;case yn:e.x=e.x<0?0:1;break;case Bl:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fl:e.y=e.y-Math.floor(e.y);break;case yn:e.y=e.y<0?0:1;break;case Bl:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Ht.DEFAULT_IMAGE=null;Ht.DEFAULT_MAPPING=Nh;class lt{constructor(e=0,t=0,i=0,r=1){lt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],p=l[5],v=l[9],f=l[2],g=l[6],y=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-f)<.01&&Math.abs(v-g)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+f)<.1&&Math.abs(v+g)<.1&&Math.abs(c+p+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,w=(p+1)/2,b=(y+1)/2,E=(u+d)/4,T=(h+f)/4,S=(v+g)/4;return _>w&&_>b?_<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(_),r=E/i,s=T/i):w>b?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=E/r,s=S/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=T/s,r=S/s),this.set(i,r,s,t),this}let x=Math.sqrt((g-v)*(g-v)+(h-f)*(h-f)+(d-u)*(d-u));return Math.abs(x)<.001&&(x=1),this.x=(g-v)/x,this.y=(h-f)/x,this.z=(d-u)/x,this.w=Math.acos((c+p+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class oi extends dr{constructor(e,t,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new lt(0,0,e,t),this.scissorTest=!1,this.viewport=new lt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Ht(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Rt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Cs(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cc extends Ht{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ot,this.minFilter=Ot,this.wrapR=yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ZP extends oi{constructor(e,t,i){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new cc(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Lh extends Ht{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ot,this.minFilter=Ot,this.wrapR=yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class KP extends oi{constructor(e,t,i){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Lh(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class QP extends oi{constructor(e,t,i,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Pn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3];const d=s[o+0],p=s[o+1],v=s[o+2],f=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=v,e[t+3]=f;return}if(h!==f||l!==d||c!==p||u!==v){let g=1-a;const y=l*d+c*p+u*v+h*f,x=y>=0?1:-1,_=1-y*y;if(_>Number.EPSILON){const b=Math.sqrt(_),E=Math.atan2(b,y*x);g=Math.sin(g*E)/b,a=Math.sin(a*E)/b}const w=a*x;if(l=l*g+d*w,c=c*g+p*w,u=u*g+v*w,h=h*g+f*w,g===1-a){const b=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=b,c*=b,u*=b,h*=b}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],h=s[o],d=s[o+1],p=s[o+2],v=s[o+3];return e[t]=a*v+u*h+l*p-c*d,e[t+1]=l*v+u*d+c*h-a*p,e[t+2]=c*v+u*p+a*d-l*h,e[t+3]=u*v-a*h-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),h=a(s/2),d=l(i/2),p=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=d*u*h+c*p*v,this._y=c*p*h-d*u*v,this._z=c*u*v+d*p*h,this._w=c*u*h-d*p*v;break;case"YXZ":this._x=d*u*h+c*p*v,this._y=c*p*h-d*u*v,this._z=c*u*v-d*p*h,this._w=c*u*h+d*p*v;break;case"ZXY":this._x=d*u*h-c*p*v,this._y=c*p*h+d*u*v,this._z=c*u*v+d*p*h,this._w=c*u*h-d*p*v;break;case"ZYX":this._x=d*u*h-c*p*v,this._y=c*p*h+d*u*v,this._z=c*u*v-d*p*h,this._w=c*u*h+d*p*v;break;case"YZX":this._x=d*u*h+c*p*v,this._y=c*p*h+d*u*v,this._z=c*u*v-d*p*h,this._w=c*u*h-d*p*v;break;case"XZY":this._x=d*u*h-c*p*v,this._y=c*p*h-d*u*v,this._z=c*u*v+d*p*h,this._w=c*u*h+d*p*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=i+a+h;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-r)*p}else if(i>a&&i>h){const p=2*Math.sqrt(1+i-a-h);this._w=(u-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(s+c)/p}else if(a>h){const p=2*Math.sqrt(1+a-i-h);this._w=(s-c)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+h-i-a);this._w=(o-r)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Lt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*i+t*this._x,this._y=p*r+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*h+this._w*d,this._x=i*h+this._x*d,this._y=r*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Xy.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Xy.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,h=l*r+s*i-o*t,d=-s*t-o*i-a*r;return this.x=c*l+d*-s+u*-a-h*-o,this.y=u*l+d*-o+h*-s-c*-a,this.z=h*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Bf.copy(this).projectOnVector(e),this.sub(Bf)}reflect(e){return this.sub(Bf.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Lt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Bf=new N,Xy=new Pn;class Js{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],h=e[l+1],d=e[l+2];u<t&&(t=u),h<i&&(i=h),d<r&&(r=d),u>s&&(s=u),h>o&&(o=h),d>a&&(a=d)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),h=e.getY(l),d=e.getZ(l);u<t&&(t=u),h<i&&(i=h),d<r&&(r=d),u>s&&(s=u),h>o&&(o=h),d>a&&(a=d)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=as.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)as.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(as)}else i.boundingBox===null&&i.computeBoundingBox(),zf.copy(i.boundingBox),zf.applyMatrix4(e.matrixWorld),this.union(zf);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,as),as.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Fa),qc.subVectors(this.max,Fa),oo.subVectors(e.a,Fa),ao.subVectors(e.b,Fa),lo.subVectors(e.c,Fa),gr.subVectors(ao,oo),vr.subVectors(lo,ao),ls.subVectors(oo,lo);let t=[0,-gr.z,gr.y,0,-vr.z,vr.y,0,-ls.z,ls.y,gr.z,0,-gr.x,vr.z,0,-vr.x,ls.z,0,-ls.x,-gr.y,gr.x,0,-vr.y,vr.x,0,-ls.y,ls.x,0];return!Uf(t,oo,ao,lo,qc)||(t=[1,0,0,0,1,0,0,0,1],!Uf(t,oo,ao,lo,qc))?!1:(Yc.crossVectors(gr,vr),t=[Yc.x,Yc.y,Yc.z],Uf(t,oo,ao,lo,qc))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return as.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(as).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zi=[new N,new N,new N,new N,new N,new N,new N,new N],as=new N,zf=new Js,oo=new N,ao=new N,lo=new N,gr=new N,vr=new N,ls=new N,Fa=new N,qc=new N,Yc=new N,cs=new N;function Uf(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){cs.fromArray(n,s);const a=r.x*Math.abs(cs.x)+r.y*Math.abs(cs.y)+r.z*Math.abs(cs.z),l=e.dot(cs),c=t.dot(cs),u=i.dot(cs);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const eN=new Js,qy=new N,Jc=new N,Vf=new N;class Zs{constructor(e=new N,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):eN.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vf.subVectors(e,this.center);const t=Vf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(Vf.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?Jc.set(0,0,1).multiplyScalar(e.radius):Jc.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(qy.copy(e.center).add(Jc)),this.expandByPoint(qy.copy(e.center).sub(Jc)),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ui=new N,Gf=new N,Zc=new N,yr=new N,Hf=new N,Kc=new N,Wf=new N;class uc{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ui)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ui.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ui.copy(this.direction).multiplyScalar(t).add(this.origin),Ui.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Gf.copy(e).add(t).multiplyScalar(.5),Zc.copy(t).sub(e).normalize(),yr.copy(this.origin).sub(Gf);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Zc),a=yr.dot(this.direction),l=-yr.dot(Zc),c=yr.lengthSq(),u=Math.abs(1-o*o);let h,d,p,v;if(u>0)if(h=o*l-a,d=o*a-l,v=s*u,h>=0)if(d>=-v)if(d<=v){const f=1/u;h*=f,d*=f,p=h*(h+o*d+2*a)+d*(o*h+d+2*l)+c}else d=s,h=Math.max(0,-(o*d+a)),p=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(o*d+a)),p=-h*h+d*(d+2*l)+c;else d<=-v?(h=Math.max(0,-(-o*s+a)),d=h>0?-s:Math.min(Math.max(-s,-l),s),p=-h*h+d*(d+2*l)+c):d<=v?(h=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+c):(h=Math.max(0,-(o*s+a)),d=h>0?s:Math.min(Math.max(-s,-l),s),p=-h*h+d*(d+2*l)+c);else d=o>0?-s:s,h=Math.max(0,-(o*d+a)),p=-h*h+d*(d+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(Zc).multiplyScalar(d).add(Gf),p}intersectSphere(e,t){Ui.subVectors(e.center,this.origin);const i=Ui.dot(this.direction),r=Ui.dot(Ui)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(i=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(i=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ui)!==null}intersectTriangle(e,t,i,r,s){Hf.subVectors(t,e),Kc.subVectors(i,e),Wf.crossVectors(Hf,Kc);let o=this.direction.dot(Wf),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;yr.subVectors(this.origin,e);const l=a*this.direction.dot(Kc.crossVectors(yr,Kc));if(l<0)return null;const c=a*this.direction.dot(Hf.cross(yr));if(c<0||l+c>o)return null;const u=-a*yr.dot(Wf);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class He{constructor(){He.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,u,h,d,p,v,f,g){const y=this.elements;return y[0]=e,y[4]=t,y[8]=i,y[12]=r,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=h,y[14]=d,y[3]=p,y[7]=v,y[11]=f,y[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new He().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/co.setFromMatrixColumn(e,0).length(),s=1/co.setFromMatrixColumn(e,1).length(),o=1/co.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*h,v=a*u,f=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=p+v*c,t[5]=d-f*c,t[9]=-a*l,t[2]=f-d*c,t[6]=v+p*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,p=l*h,v=c*u,f=c*h;t[0]=d+f*a,t[4]=v*a-p,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=p*a-v,t[6]=f+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,p=l*h,v=c*u,f=c*h;t[0]=d-f*a,t[4]=-o*h,t[8]=v+p*a,t[1]=p+v*a,t[5]=o*u,t[9]=f-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,p=o*h,v=a*u,f=a*h;t[0]=l*u,t[4]=v*c-p,t[8]=d*c+f,t[1]=l*h,t[5]=f*c+d,t[9]=p*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,p=o*c,v=a*l,f=a*c;t[0]=l*u,t[4]=f-d*h,t[8]=v*h+p,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*h+v,t[10]=d-f*h}else if(e.order==="XZY"){const d=o*l,p=o*c,v=a*l,f=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+f,t[5]=o*u,t[9]=p*h-v,t[2]=v*h-p,t[6]=a*u,t[10]=f*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(tN,e,nN)}lookAt(e,t,i){const r=this.elements;return Ln.subVectors(e,t),Ln.lengthSq()===0&&(Ln.z=1),Ln.normalize(),xr.crossVectors(i,Ln),xr.lengthSq()===0&&(Math.abs(i.z)===1?Ln.x+=1e-4:Ln.z+=1e-4,Ln.normalize(),xr.crossVectors(i,Ln)),xr.normalize(),Qc.crossVectors(Ln,xr),r[0]=xr.x,r[4]=Qc.x,r[8]=Ln.x,r[1]=xr.y,r[5]=Qc.y,r[9]=Ln.y,r[2]=xr.z,r[6]=Qc.z,r[10]=Ln.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],h=i[5],d=i[9],p=i[13],v=i[2],f=i[6],g=i[10],y=i[14],x=i[3],_=i[7],w=i[11],b=i[15],E=r[0],T=r[4],S=r[8],A=r[12],L=r[1],H=r[5],oe=r[9],G=r[13],k=r[2],j=r[6],Z=r[10],ce=r[14],D=r[3],I=r[7],B=r[11],Y=r[15];return s[0]=o*E+a*L+l*k+c*D,s[4]=o*T+a*H+l*j+c*I,s[8]=o*S+a*oe+l*Z+c*B,s[12]=o*A+a*G+l*ce+c*Y,s[1]=u*E+h*L+d*k+p*D,s[5]=u*T+h*H+d*j+p*I,s[9]=u*S+h*oe+d*Z+p*B,s[13]=u*A+h*G+d*ce+p*Y,s[2]=v*E+f*L+g*k+y*D,s[6]=v*T+f*H+g*j+y*I,s[10]=v*S+f*oe+g*Z+y*B,s[14]=v*A+f*G+g*ce+y*Y,s[3]=x*E+_*L+w*k+b*D,s[7]=x*T+_*H+w*j+b*I,s[11]=x*S+_*oe+w*Z+b*B,s[15]=x*A+_*G+w*ce+b*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],p=e[14],v=e[3],f=e[7],g=e[11],y=e[15];return v*(+s*l*h-r*c*h-s*a*d+i*c*d+r*a*p-i*l*p)+f*(+t*l*p-t*c*d+s*o*d-r*o*p+r*c*u-s*l*u)+g*(+t*c*h-t*a*p-s*o*h+i*o*p+s*a*u-i*c*u)+y*(-r*a*u-t*l*h+t*a*d+r*o*h-i*o*d+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],p=e[11],v=e[12],f=e[13],g=e[14],y=e[15],x=h*g*c-f*d*c+f*l*p-a*g*p-h*l*y+a*d*y,_=v*d*c-u*g*c-v*l*p+o*g*p+u*l*y-o*d*y,w=u*f*c-v*h*c+v*a*p-o*f*p-u*a*y+o*h*y,b=v*h*l-u*f*l-v*a*d+o*f*d+u*a*g-o*h*g,E=t*x+i*_+r*w+s*b;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=x*T,e[1]=(f*d*s-h*g*s-f*r*p+i*g*p+h*r*y-i*d*y)*T,e[2]=(a*g*s-f*l*s+f*r*c-i*g*c-a*r*y+i*l*y)*T,e[3]=(h*l*s-a*d*s-h*r*c+i*d*c+a*r*p-i*l*p)*T,e[4]=_*T,e[5]=(u*g*s-v*d*s+v*r*p-t*g*p-u*r*y+t*d*y)*T,e[6]=(v*l*s-o*g*s-v*r*c+t*g*c+o*r*y-t*l*y)*T,e[7]=(o*d*s-u*l*s+u*r*c-t*d*c-o*r*p+t*l*p)*T,e[8]=w*T,e[9]=(v*h*s-u*f*s-v*i*p+t*f*p+u*i*y-t*h*y)*T,e[10]=(o*f*s-v*a*s+v*i*c-t*f*c-o*i*y+t*a*y)*T,e[11]=(u*a*s-o*h*s-u*i*c+t*h*c+o*i*p-t*a*p)*T,e[12]=b*T,e[13]=(u*f*r-v*h*r+v*i*d-t*f*d-u*i*g+t*h*g)*T,e[14]=(v*a*r-o*f*r-v*i*l+t*f*l+o*i*g-t*a*g)*T,e[15]=(o*h*r-u*a*r+u*i*l-t*h*l-o*i*d+t*a*d)*T,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,d=s*c,p=s*u,v=s*h,f=o*u,g=o*h,y=a*h,x=l*c,_=l*u,w=l*h,b=i.x,E=i.y,T=i.z;return r[0]=(1-(f+y))*b,r[1]=(p+w)*b,r[2]=(v-_)*b,r[3]=0,r[4]=(p-w)*E,r[5]=(1-(d+y))*E,r[6]=(g+x)*E,r[7]=0,r[8]=(v+_)*T,r[9]=(g-x)*T,r[10]=(1-(d+f))*T,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=co.set(r[0],r[1],r[2]).length();const o=co.set(r[4],r[5],r[6]).length(),a=co.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],di.copy(this);const c=1/s,u=1/o,h=1/a;return di.elements[0]*=c,di.elements[1]*=c,di.elements[2]*=c,di.elements[4]*=u,di.elements[5]*=u,di.elements[6]*=u,di.elements[8]*=h,di.elements[9]*=h,di.elements[10]*=h,t.setFromRotationMatrix(di),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),u=(t+e)/(t-e),h=(i+r)/(i-r),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),u=1/(o-s),h=(t+e)*l,d=(i+r)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const co=new N,di=new He,tN=new N(0,0,0),nN=new N(1,1,1),xr=new N,Qc=new N,Ln=new N,Yy=new He,Jy=new Pn;class ga{constructor(e=0,t=0,i=0,r=ga.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(Lt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Lt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Lt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Lt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Lt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Lt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Yy.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Yy,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Jy.setFromEuler(this),this.setFromQuaternion(Jy,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ga.DefaultOrder="XYZ";ga.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Ih{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let iN=0;const Zy=new N,uo=new Pn,Vi=new He,eu=new N,Ba=new N,rN=new N,sN=new Pn,Ky=new N(1,0,0),Qy=new N(0,1,0),ex=new N(0,0,1),oN={type:"added"},tx={type:"removed"};class it extends dr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:iN++}),this.uuid=zn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=it.DefaultUp.clone();const e=new N,t=new ga,i=new Pn,r=new N(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new He},normalMatrix:{value:new En}}),this.matrix=new He,this.matrixWorld=new He,this.matrixAutoUpdate=it.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=it.DefaultMatrixWorldAutoUpdate,this.layers=new Ih,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return uo.setFromAxisAngle(e,t),this.quaternion.multiply(uo),this}rotateOnWorldAxis(e,t){return uo.setFromAxisAngle(e,t),this.quaternion.premultiply(uo),this}rotateX(e){return this.rotateOnAxis(Ky,e)}rotateY(e){return this.rotateOnAxis(Qy,e)}rotateZ(e){return this.rotateOnAxis(ex,e)}translateOnAxis(e,t){return Zy.copy(e).applyQuaternion(this.quaternion),this.position.add(Zy.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Ky,e)}translateY(e){return this.translateOnAxis(Qy,e)}translateZ(e){return this.translateOnAxis(ex,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Vi.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?eu.copy(e):eu.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ba.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vi.lookAt(Ba,eu,this.up):Vi.lookAt(eu,Ba,this.up),this.quaternion.setFromRotationMatrix(Vi),r&&(Vi.extractRotation(r.matrixWorld),uo.setFromRotationMatrix(Vi),this.quaternion.premultiply(uo.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(oN)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(tx)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(tx)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Vi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Vi.multiply(e.parent.matrixWorld)),e.applyMatrix4(Vi),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ba,e,rN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ba,sN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),d=o(e.skeletons),p=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),h.length>0&&(i.shapes=h),d.length>0&&(i.skeletons=d),p.length>0&&(i.animations=p),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}it.DefaultUp=new N(0,1,0);it.DefaultMatrixAutoUpdate=!0;it.DefaultMatrixWorldAutoUpdate=!0;const hi=new N,Gi=new N,$f=new N,Hi=new N,ho=new N,fo=new N,nx=new N,jf=new N,Xf=new N,qf=new N;class Kn{constructor(e=new N,t=new N,i=new N){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),hi.subVectors(e,t),r.cross(hi);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){hi.subVectors(r,t),Gi.subVectors(i,t),$f.subVectors(e,t);const o=hi.dot(hi),a=hi.dot(Gi),l=hi.dot($f),c=Gi.dot(Gi),u=Gi.dot($f),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const d=1/h,p=(c*l-a*u)*d,v=(o*u-a*l)*d;return s.set(1-p-v,v,p)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Hi),Hi.x>=0&&Hi.y>=0&&Hi.x+Hi.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Hi),l.set(0,0),l.addScaledVector(s,Hi.x),l.addScaledVector(o,Hi.y),l.addScaledVector(a,Hi.z),l}static isFrontFacing(e,t,i,r){return hi.subVectors(i,t),Gi.subVectors(e,t),hi.cross(Gi).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hi.subVectors(this.c,this.b),Gi.subVectors(this.a,this.b),hi.cross(Gi).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Kn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Kn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Kn.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Kn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Kn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;ho.subVectors(r,i),fo.subVectors(s,i),jf.subVectors(e,i);const l=ho.dot(jf),c=fo.dot(jf);if(l<=0&&c<=0)return t.copy(i);Xf.subVectors(e,r);const u=ho.dot(Xf),h=fo.dot(Xf);if(u>=0&&h<=u)return t.copy(r);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(ho,o);qf.subVectors(e,s);const p=ho.dot(qf),v=fo.dot(qf);if(v>=0&&p<=v)return t.copy(s);const f=p*c-l*v;if(f<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(fo,a);const g=u*v-p*h;if(g<=0&&h-u>=0&&p-v>=0)return nx.subVectors(s,r),a=(h-u)/(h-u+(p-v)),t.copy(r).addScaledVector(nx,a);const y=1/(g+f+d);return o=f*y,a=d*y,t.copy(i).addScaledVector(ho,o).addScaledVector(fo,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let aN=0;class pn extends dr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:aN++}),this.uuid=zn(),this.name="",this.type="Material",this.blending=Rs,this.side=Gs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=m0,this.blendDst=g0,this.blendEquation=ys,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Nd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Pb,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Qu,this.stencilZFail=Qu,this.stencilZPass=Qu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Rs&&(i.blending=this.blending),this.side!==Gs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ns extends pn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ee(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Dt=new N,tu=new le;class pt{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=Gl,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)tu.fromBufferAttribute(this,t),tu.applyMatrix3(e),this.setXY(t,tu.x,tu.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Dt.fromBufferAttribute(this,t),Dt.applyMatrix3(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Dt.fromBufferAttribute(this,t),Dt.applyMatrix4(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Dt.fromBufferAttribute(this,t),Dt.applyNormalMatrix(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Dt.fromBufferAttribute(this,t),Dt.transformDirection(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=ft(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=ft(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ft(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=ft(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array),r=ft(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array),r=ft(r,this.array),s=ft(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Gl&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class lN extends pt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class cN extends pt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class uN extends pt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class dN extends pt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class S0 extends pt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class hN extends pt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class b0 extends pt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class fN extends pt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Ae extends pt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class pN extends pt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let mN=0;const Xn=new He,Yf=new it,po=new N,In=new Js,za=new Js,Xt=new N;class $e extends dr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mN++}),this.uuid=zn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Rb(e)?b0:S0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new En().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xn.makeRotationFromQuaternion(e),this.applyMatrix4(Xn),this}rotateX(e){return Xn.makeRotationX(e),this.applyMatrix4(Xn),this}rotateY(e){return Xn.makeRotationY(e),this.applyMatrix4(Xn),this}rotateZ(e){return Xn.makeRotationZ(e),this.applyMatrix4(Xn),this}translate(e,t,i){return Xn.makeTranslation(e,t,i),this.applyMatrix4(Xn),this}scale(e,t,i){return Xn.makeScale(e,t,i),this.applyMatrix4(Xn),this}lookAt(e){return Yf.lookAt(e),Yf.updateMatrix(),this.applyMatrix4(Yf.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(po).negate(),this.translate(po.x,po.y,po.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ae(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Js);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];In.setFromBufferAttribute(s),this.morphTargetsRelative?(Xt.addVectors(this.boundingBox.min,In.min),this.boundingBox.expandByPoint(Xt),Xt.addVectors(this.boundingBox.max,In.max),this.boundingBox.expandByPoint(Xt)):(this.boundingBox.expandByPoint(In.min),this.boundingBox.expandByPoint(In.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new N,1/0);return}if(e){const i=this.boundingSphere.center;if(In.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];za.setFromBufferAttribute(a),this.morphTargetsRelative?(Xt.addVectors(In.min,za.min),In.expandByPoint(Xt),Xt.addVectors(In.max,za.max),In.expandByPoint(Xt)):(In.expandByPoint(za.min),In.expandByPoint(za.max))}In.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Xt.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Xt));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Xt.fromBufferAttribute(a,c),l&&(po.fromBufferAttribute(e,c),Xt.add(po)),r=Math.max(r,i.distanceToSquared(Xt))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new pt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let L=0;L<a;L++)c[L]=new N,u[L]=new N;const h=new N,d=new N,p=new N,v=new le,f=new le,g=new le,y=new N,x=new N;function _(L,H,oe){h.fromArray(r,L*3),d.fromArray(r,H*3),p.fromArray(r,oe*3),v.fromArray(o,L*2),f.fromArray(o,H*2),g.fromArray(o,oe*2),d.sub(h),p.sub(h),f.sub(v),g.sub(v);const G=1/(f.x*g.y-g.x*f.y);!isFinite(G)||(y.copy(d).multiplyScalar(g.y).addScaledVector(p,-f.y).multiplyScalar(G),x.copy(p).multiplyScalar(f.x).addScaledVector(d,-g.x).multiplyScalar(G),c[L].add(y),c[H].add(y),c[oe].add(y),u[L].add(x),u[H].add(x),u[oe].add(x))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let L=0,H=w.length;L<H;++L){const oe=w[L],G=oe.start,k=oe.count;for(let j=G,Z=G+k;j<Z;j+=3)_(i[j+0],i[j+1],i[j+2])}const b=new N,E=new N,T=new N,S=new N;function A(L){T.fromArray(s,L*3),S.copy(T);const H=c[L];b.copy(H),b.sub(T.multiplyScalar(T.dot(H))).normalize(),E.crossVectors(S,H);const G=E.dot(u[L])<0?-1:1;l[L*4]=b.x,l[L*4+1]=b.y,l[L*4+2]=b.z,l[L*4+3]=G}for(let L=0,H=w.length;L<H;++L){const oe=w[L],G=oe.start,k=oe.count;for(let j=G,Z=G+k;j<Z;j+=3)A(i[j+0]),A(i[j+1]),A(i[j+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new pt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let d=0,p=i.count;d<p;d++)i.setXYZ(d,0,0,0);const r=new N,s=new N,o=new N,a=new N,l=new N,c=new N,u=new N,h=new N;if(e)for(let d=0,p=e.count;d<p;d+=3){const v=e.getX(d+0),f=e.getX(d+1),g=e.getX(d+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,f),o.fromBufferAttribute(t,g),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,f),c.fromBufferAttribute(i,g),a.add(u),l.add(u),c.add(u),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(f,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)r.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),i.setXYZ(d+0,u.x,u.y,u.z),i.setXYZ(d+1,u.x,u.y,u.z),i.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Xt.fromBufferAttribute(e,t),Xt.normalize(),e.setXYZ(t,Xt.x,Xt.y,Xt.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let p=0,v=0;for(let f=0,g=l.length;f<g;f++){a.isInterleavedBufferAttribute?p=l[f]*a.data.stride+a.offset:p=l[f]*u;for(let y=0;y<u;y++)d[v++]=c[p++]}return new pt(d,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new $e,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const d=c[u],p=e(d,i);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++){const p=c[h];u.push(p.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let d=0,p=h.length;d<p;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const ix=new He,mo=new uc,Jf=new Zs,_r=new N,wr=new N,Sr=new N,Zf=new N,Kf=new N,Qf=new N,nu=new N,iu=new N,ru=new N,su=new le,ou=new le,au=new le,ep=new N,lu=new N;class rn extends it{constructor(e=new $e,t=new ns){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Jf.copy(i.boundingSphere),Jf.applyMatrix4(s),e.ray.intersectsSphere(Jf)===!1)||(ix.copy(s).invert(),mo.copy(e.ray).applyMatrix4(ix),i.boundingBox!==null&&mo.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,h=i.attributes.uv,d=i.attributes.uv2,p=i.groups,v=i.drawRange;if(a!==null)if(Array.isArray(r))for(let f=0,g=p.length;f<g;f++){const y=p[f],x=r[y.materialIndex],_=Math.max(y.start,v.start),w=Math.min(a.count,Math.min(y.start+y.count,v.start+v.count));for(let b=_,E=w;b<E;b+=3){const T=a.getX(b),S=a.getX(b+1),A=a.getX(b+2);o=cu(this,x,e,mo,l,c,u,h,d,T,S,A),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const f=Math.max(0,v.start),g=Math.min(a.count,v.start+v.count);for(let y=f,x=g;y<x;y+=3){const _=a.getX(y),w=a.getX(y+1),b=a.getX(y+2);o=cu(this,r,e,mo,l,c,u,h,d,_,w,b),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let f=0,g=p.length;f<g;f++){const y=p[f],x=r[y.materialIndex],_=Math.max(y.start,v.start),w=Math.min(l.count,Math.min(y.start+y.count,v.start+v.count));for(let b=_,E=w;b<E;b+=3){const T=b,S=b+1,A=b+2;o=cu(this,x,e,mo,l,c,u,h,d,T,S,A),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const f=Math.max(0,v.start),g=Math.min(l.count,v.start+v.count);for(let y=f,x=g;y<x;y+=3){const _=y,w=y+1,b=y+2;o=cu(this,r,e,mo,l,c,u,h,d,_,w,b),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function gN(n,e,t,i,r,s,o,a){let l;if(e.side===Bn?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side!==Ji,a),l===null)return null;lu.copy(a),lu.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(lu);return c<t.near||c>t.far?null:{distance:c,point:lu.clone(),object:n}}function cu(n,e,t,i,r,s,o,a,l,c,u,h){_r.fromBufferAttribute(r,c),wr.fromBufferAttribute(r,u),Sr.fromBufferAttribute(r,h);const d=n.morphTargetInfluences;if(s&&d){nu.set(0,0,0),iu.set(0,0,0),ru.set(0,0,0);for(let v=0,f=s.length;v<f;v++){const g=d[v],y=s[v];g!==0&&(Zf.fromBufferAttribute(y,c),Kf.fromBufferAttribute(y,u),Qf.fromBufferAttribute(y,h),o?(nu.addScaledVector(Zf,g),iu.addScaledVector(Kf,g),ru.addScaledVector(Qf,g)):(nu.addScaledVector(Zf.sub(_r),g),iu.addScaledVector(Kf.sub(wr),g),ru.addScaledVector(Qf.sub(Sr),g)))}_r.add(nu),wr.add(iu),Sr.add(ru)}n.isSkinnedMesh&&(n.boneTransform(c,_r),n.boneTransform(u,wr),n.boneTransform(h,Sr));const p=gN(n,e,t,i,_r,wr,Sr,ep);if(p){a&&(su.fromBufferAttribute(a,c),ou.fromBufferAttribute(a,u),au.fromBufferAttribute(a,h),p.uv=Kn.getUV(ep,_r,wr,Sr,su,ou,au,new le)),l&&(su.fromBufferAttribute(l,c),ou.fromBufferAttribute(l,u),au.fromBufferAttribute(l,h),p.uv2=Kn.getUV(ep,_r,wr,Sr,su,ou,au,new le));const v={a:c,b:u,c:h,normal:new N,materialIndex:0};Kn.getNormal(_r,wr,Sr,v.normal),p.face=v}return p}class is extends $e{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let d=0,p=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ae(c,3)),this.setAttribute("normal",new Ae(u,3)),this.setAttribute("uv",new Ae(h,2));function v(f,g,y,x,_,w,b,E,T,S,A){const L=w/T,H=b/S,oe=w/2,G=b/2,k=E/2,j=T+1,Z=S+1;let ce=0,D=0;const I=new N;for(let B=0;B<Z;B++){const Y=B*H-G;for(let ee=0;ee<j;ee++){const X=ee*L-oe;I[f]=X*x,I[g]=Y*_,I[y]=k,c.push(I.x,I.y,I.z),I[f]=0,I[g]=0,I[y]=E>0?1:-1,u.push(I.x,I.y,I.z),h.push(ee/T),h.push(1-B/S),ce+=1}}for(let B=0;B<S;B++)for(let Y=0;Y<T;Y++){const ee=d+Y+j*B,X=d+Y+j*(B+1),he=d+(Y+1)+j*(B+1),Ce=d+(Y+1)+j*B;l.push(ee,X,Ce),l.push(X,he,Ce),D+=6}a.addGroup(p,D,A),p+=D,d+=ce}}static fromJSON(e){return new is(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function aa(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function dn(n){const e={};for(let t=0;t<n.length;t++){const i=aa(n[t]);for(const r in i)e[r]=i[r]}return e}function vN(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const Ib={clone:aa,merge:dn};var yN=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,xN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Fi extends pn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yN,this.fragmentShader=xN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=aa(e.uniforms),this.uniformsGroups=vN(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Dh extends it{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new He,this.projectionMatrix=new He,this.projectionMatrixInverse=new He}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class nn extends Dh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Hl*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Is*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Hl*2*Math.atan(Math.tan(Is*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Is*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const go=90,vo=1;class Db extends it{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new nn(go,vo,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new N(1,0,0)),this.add(r);const s=new nn(go,vo,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new N(-1,0,0)),this.add(s);const o=new nn(go,vo,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new N(0,1,0)),this.add(o);const a=new nn(go,vo,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new N(0,-1,0)),this.add(a);const l=new nn(go,vo,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new N(0,0,1)),this.add(l);const c=new nn(go,vo,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new N(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),h=e.toneMapping,d=e.xr.enabled;e.toneMapping=ki,e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=h,e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class dc extends Ht{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:jr,super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kb extends oi{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new dc(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Rt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new is(5,5,5),s=new Fi({name:"CubemapFromEquirect",uniforms:aa(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Bn,blending:nr});s.uniforms.tEquirect.value=t;const o=new rn(r,s),a=t.minFilter;return t.minFilter===Ys&&(t.minFilter=Rt),new Db(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const tp=new N,_N=new N,wN=new En;class Tr{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=tp.subVectors(i,t).cross(_N.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(tp),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||wN.getNormalMatrix(e),r=this.coplanarPoint(tp).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yo=new Zs,uu=new N;class kh{constructor(e=new Tr,t=new Tr,i=new Tr,r=new Tr,s=new Tr,o=new Tr){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],h=i[7],d=i[8],p=i[9],v=i[10],f=i[11],g=i[12],y=i[13],x=i[14],_=i[15];return t[0].setComponents(a-r,h-l,f-d,_-g).normalize(),t[1].setComponents(a+r,h+l,f+d,_+g).normalize(),t[2].setComponents(a+s,h+c,f+p,_+y).normalize(),t[3].setComponents(a-s,h-c,f-p,_-y).normalize(),t[4].setComponents(a-o,h-u,f-v,_-x).normalize(),t[5].setComponents(a+o,h+u,f+v,_+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),yo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(yo)}intersectsSprite(e){return yo.center.set(0,0,0),yo.radius=.7071067811865476,yo.applyMatrix4(e.matrixWorld),this.intersectsSphere(yo)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(uu.x=r.normal.x>0?e.max.x:e.min.x,uu.y=r.normal.y>0?e.max.y:e.min.y,uu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(uu)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Ob(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function SN(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const h=c.array,d=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,h,d),c.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:p,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const d=u.array,p=u.updateRange;n.bindBuffer(h,c),p.count===-1?n.bufferSubData(h,0,d):(t?n.bufferSubData(h,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):n.bufferSubData(h,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=i.get(c);(!d||d.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class va extends $e{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,h=e/a,d=t/l,p=[],v=[],f=[],g=[];for(let y=0;y<u;y++){const x=y*d-o;for(let _=0;_<c;_++){const w=_*h-s;v.push(w,-x,0),f.push(0,0,1),g.push(_/a),g.push(1-y/l)}}for(let y=0;y<l;y++)for(let x=0;x<a;x++){const _=x+c*y,w=x+c*(y+1),b=x+1+c*(y+1),E=x+1+c*y;p.push(_,w,E),p.push(w,b,E)}this.setIndex(p),this.setAttribute("position",new Ae(v,3)),this.setAttribute("normal",new Ae(f,3)),this.setAttribute("uv",new Ae(g,2))}static fromJSON(e){return new va(e.width,e.height,e.widthSegments,e.heightSegments)}}var bN=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,MN=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EN=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,CN=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,TN=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,AN=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,PN="vec3 transformed = vec3( position );",NN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,RN=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,LN=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,IN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,DN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,kN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ON=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,FN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,BN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,UN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,VN=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,GN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,HN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,WN=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,$N=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,XN=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,qN=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,YN="gl_FragColor = linearToOutputTexel( gl_FragColor );",JN=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ZN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,KN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,QN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,eR=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,tR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,nR=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,iR=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rR=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,sR=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,oR=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,aR=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lR=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cR=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,uR=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,dR=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,hR=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,fR=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,pR=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,mR=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,gR=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,vR=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,yR=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,xR=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_R=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,wR=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,SR=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bR=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,MR=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,ER=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,CR=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,TR=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,AR=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,PR=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NR=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,RR=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,LR=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,IR=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,DR=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,kR=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,OR=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,FR=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,BR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,UR=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,VR=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,GR=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,HR=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,WR=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,$R=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jR=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,XR=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,qR=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,YR=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,JR=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ZR=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,KR=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,QR=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,eL=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,tL=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,nL=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,iL=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rL=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,sL=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,oL=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,aL=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,lL=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,cL=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,uL=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,dL=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hL=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,fL=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,pL=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,mL=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,gL=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,vL=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,yL=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,xL=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,_L=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wL=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,SL=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,bL=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ML=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,EL=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,CL=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,TL=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,AL=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,PL=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,NL=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,RL=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LL=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,IL=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,DL=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kL=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OL=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FL=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,BL=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zL=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,UL=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,VL=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GL=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HL=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,WL=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$L=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jL=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XL=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qL=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,YL=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JL=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ZL=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KL=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,qe={alphamap_fragment:bN,alphamap_pars_fragment:MN,alphatest_fragment:EN,alphatest_pars_fragment:CN,aomap_fragment:TN,aomap_pars_fragment:AN,begin_vertex:PN,beginnormal_vertex:NN,bsdfs:RN,iridescence_fragment:LN,bumpmap_pars_fragment:IN,clipping_planes_fragment:DN,clipping_planes_pars_fragment:kN,clipping_planes_pars_vertex:ON,clipping_planes_vertex:FN,color_fragment:BN,color_pars_fragment:zN,color_pars_vertex:UN,color_vertex:VN,common:GN,cube_uv_reflection_fragment:HN,defaultnormal_vertex:WN,displacementmap_pars_vertex:$N,displacementmap_vertex:jN,emissivemap_fragment:XN,emissivemap_pars_fragment:qN,encodings_fragment:YN,encodings_pars_fragment:JN,envmap_fragment:ZN,envmap_common_pars_fragment:KN,envmap_pars_fragment:QN,envmap_pars_vertex:eR,envmap_physical_pars_fragment:hR,envmap_vertex:tR,fog_vertex:nR,fog_pars_vertex:iR,fog_fragment:rR,fog_pars_fragment:sR,gradientmap_pars_fragment:oR,lightmap_fragment:aR,lightmap_pars_fragment:lR,lights_lambert_fragment:cR,lights_lambert_pars_fragment:uR,lights_pars_begin:dR,lights_toon_fragment:fR,lights_toon_pars_fragment:pR,lights_phong_fragment:mR,lights_phong_pars_fragment:gR,lights_physical_fragment:vR,lights_physical_pars_fragment:yR,lights_fragment_begin:xR,lights_fragment_maps:_R,lights_fragment_end:wR,logdepthbuf_fragment:SR,logdepthbuf_pars_fragment:bR,logdepthbuf_pars_vertex:MR,logdepthbuf_vertex:ER,map_fragment:CR,map_pars_fragment:TR,map_particle_fragment:AR,map_particle_pars_fragment:PR,metalnessmap_fragment:NR,metalnessmap_pars_fragment:RR,morphcolor_vertex:LR,morphnormal_vertex:IR,morphtarget_pars_vertex:DR,morphtarget_vertex:kR,normal_fragment_begin:OR,normal_fragment_maps:FR,normal_pars_fragment:BR,normal_pars_vertex:zR,normal_vertex:UR,normalmap_pars_fragment:VR,clearcoat_normal_fragment_begin:GR,clearcoat_normal_fragment_maps:HR,clearcoat_pars_fragment:WR,iridescence_pars_fragment:$R,output_fragment:jR,packing:XR,premultiplied_alpha_fragment:qR,project_vertex:YR,dithering_fragment:JR,dithering_pars_fragment:ZR,roughnessmap_fragment:KR,roughnessmap_pars_fragment:QR,shadowmap_pars_fragment:eL,shadowmap_pars_vertex:tL,shadowmap_vertex:nL,shadowmask_pars_fragment:iL,skinbase_vertex:rL,skinning_pars_vertex:sL,skinning_vertex:oL,skinnormal_vertex:aL,specularmap_fragment:lL,specularmap_pars_fragment:cL,tonemapping_fragment:uL,tonemapping_pars_fragment:dL,transmission_fragment:hL,transmission_pars_fragment:fL,uv_pars_fragment:pL,uv_pars_vertex:mL,uv_vertex:gL,uv2_pars_fragment:vL,uv2_pars_vertex:yL,uv2_vertex:xL,worldpos_vertex:_L,background_vert:wL,background_frag:SL,cube_vert:bL,cube_frag:ML,depth_vert:EL,depth_frag:CL,distanceRGBA_vert:TL,distanceRGBA_frag:AL,equirect_vert:PL,equirect_frag:NL,linedashed_vert:RL,linedashed_frag:LL,meshbasic_vert:IL,meshbasic_frag:DL,meshlambert_vert:kL,meshlambert_frag:OL,meshmatcap_vert:FL,meshmatcap_frag:BL,meshnormal_vert:zL,meshnormal_frag:UL,meshphong_vert:VL,meshphong_frag:GL,meshphysical_vert:HL,meshphysical_frag:WL,meshtoon_vert:$L,meshtoon_frag:jL,points_vert:XL,points_frag:qL,shadow_vert:YL,shadow_frag:JL,sprite_vert:ZL,sprite_frag:KL},ye={common:{diffuse:{value:new Ee(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new En},uv2Transform:{value:new En},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ee(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ee(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new En}},sprite:{diffuse:{value:new Ee(16777215)},opacity:{value:1},center:{value:new le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new En}}},vi={basic:{uniforms:dn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.fog]),vertexShader:qe.meshbasic_vert,fragmentShader:qe.meshbasic_frag},lambert:{uniforms:dn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new Ee(0)}}]),vertexShader:qe.meshlambert_vert,fragmentShader:qe.meshlambert_frag},phong:{uniforms:dn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new Ee(0)},specular:{value:new Ee(1118481)},shininess:{value:30}}]),vertexShader:qe.meshphong_vert,fragmentShader:qe.meshphong_frag},standard:{uniforms:dn([ye.common,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.roughnessmap,ye.metalnessmap,ye.fog,ye.lights,{emissive:{value:new Ee(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qe.meshphysical_vert,fragmentShader:qe.meshphysical_frag},toon:{uniforms:dn([ye.common,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.gradientmap,ye.fog,ye.lights,{emissive:{value:new Ee(0)}}]),vertexShader:qe.meshtoon_vert,fragmentShader:qe.meshtoon_frag},matcap:{uniforms:dn([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,{matcap:{value:null}}]),vertexShader:qe.meshmatcap_vert,fragmentShader:qe.meshmatcap_frag},points:{uniforms:dn([ye.points,ye.fog]),vertexShader:qe.points_vert,fragmentShader:qe.points_frag},dashed:{uniforms:dn([ye.common,ye.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qe.linedashed_vert,fragmentShader:qe.linedashed_frag},depth:{uniforms:dn([ye.common,ye.displacementmap]),vertexShader:qe.depth_vert,fragmentShader:qe.depth_frag},normal:{uniforms:dn([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,{opacity:{value:1}}]),vertexShader:qe.meshnormal_vert,fragmentShader:qe.meshnormal_frag},sprite:{uniforms:dn([ye.sprite,ye.fog]),vertexShader:qe.sprite_vert,fragmentShader:qe.sprite_frag},background:{uniforms:{uvTransform:{value:new En},t2D:{value:null}},vertexShader:qe.background_vert,fragmentShader:qe.background_frag},cube:{uniforms:dn([ye.envmap,{opacity:{value:1}}]),vertexShader:qe.cube_vert,fragmentShader:qe.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qe.equirect_vert,fragmentShader:qe.equirect_frag},distanceRGBA:{uniforms:dn([ye.common,ye.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qe.distanceRGBA_vert,fragmentShader:qe.distanceRGBA_frag},shadow:{uniforms:dn([ye.lights,ye.fog,{color:{value:new Ee(0)},opacity:{value:1}}]),vertexShader:qe.shadow_vert,fragmentShader:qe.shadow_frag}};vi.physical={uniforms:dn([vi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new le(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ee(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ee(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ee(1,1,1)},specularColorMap:{value:null}}]),vertexShader:qe.meshphysical_vert,fragmentShader:qe.meshphysical_frag};function QL(n,e,t,i,r,s){const o=new Ee(0);let a=r===!0?0:1,l,c,u=null,h=0,d=null;function p(f,g){let y=!1,x=g.isScene===!0?g.background:null;x&&x.isTexture&&(x=e.get(x));const _=n.xr,w=_.getSession&&_.getSession();w&&w.environmentBlendMode==="additive"&&(x=null),x===null?v(o,a):x&&x.isColor&&(v(x,1),y=!0),(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===ma)?(c===void 0&&(c=new rn(new is(1,1,1),new Fi({name:"BackgroundCubeMaterial",uniforms:aa(vi.cube.uniforms),vertexShader:vi.cube.vertexShader,fragmentShader:vi.cube.fragmentShader,side:Bn,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(b,E,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=x,c.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,(u!==x||h!==x.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,u=x,h=x.version,d=n.toneMapping),c.layers.enableAll(),f.unshift(c,c.geometry,c.material,0,0,null)):x&&x.isTexture&&(l===void 0&&(l=new rn(new va(2,2),new Fi({name:"BackgroundMaterial",uniforms:aa(vi.background.uniforms),vertexShader:vi.background.vertexShader,fragmentShader:vi.background.fragmentShader,side:Gs,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(u!==x||h!==x.version||d!==n.toneMapping)&&(l.material.needsUpdate=!0,u=x,h=x.version,d=n.toneMapping),l.layers.enableAll(),f.unshift(l,l.geometry,l.material,0,0,null))}function v(f,g){t.buffers.color.setClear(f.r,f.g,f.b,g,s)}return{getClearColor:function(){return o},setClearColor:function(f,g=1){o.set(f),a=g,v(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(f){a=f,v(o,a)},render:p}}function eI(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=g(null);let c=l,u=!1;function h(k,j,Z,ce,D){let I=!1;if(o){const B=f(ce,Z,j);c!==B&&(c=B,p(c.object)),I=y(k,ce,Z,D),I&&x(k,ce,Z,D)}else{const B=j.wireframe===!0;(c.geometry!==ce.id||c.program!==Z.id||c.wireframe!==B)&&(c.geometry=ce.id,c.program=Z.id,c.wireframe=B,I=!0)}D!==null&&t.update(D,34963),(I||u)&&(u=!1,S(k,j,Z,ce),D!==null&&n.bindBuffer(34963,t.get(D).buffer))}function d(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(k){return i.isWebGL2?n.bindVertexArray(k):s.bindVertexArrayOES(k)}function v(k){return i.isWebGL2?n.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function f(k,j,Z){const ce=Z.wireframe===!0;let D=a[k.id];D===void 0&&(D={},a[k.id]=D);let I=D[j.id];I===void 0&&(I={},D[j.id]=I);let B=I[ce];return B===void 0&&(B=g(d()),I[ce]=B),B}function g(k){const j=[],Z=[],ce=[];for(let D=0;D<r;D++)j[D]=0,Z[D]=0,ce[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:Z,attributeDivisors:ce,object:k,attributes:{},index:null}}function y(k,j,Z,ce){const D=c.attributes,I=j.attributes;let B=0;const Y=Z.getAttributes();for(const ee in Y)if(Y[ee].location>=0){const he=D[ee];let Ce=I[ee];if(Ce===void 0&&(ee==="instanceMatrix"&&k.instanceMatrix&&(Ce=k.instanceMatrix),ee==="instanceColor"&&k.instanceColor&&(Ce=k.instanceColor)),he===void 0||he.attribute!==Ce||Ce&&he.data!==Ce.data)return!0;B++}return c.attributesNum!==B||c.index!==ce}function x(k,j,Z,ce){const D={},I=j.attributes;let B=0;const Y=Z.getAttributes();for(const ee in Y)if(Y[ee].location>=0){let he=I[ee];he===void 0&&(ee==="instanceMatrix"&&k.instanceMatrix&&(he=k.instanceMatrix),ee==="instanceColor"&&k.instanceColor&&(he=k.instanceColor));const Ce={};Ce.attribute=he,he&&he.data&&(Ce.data=he.data),D[ee]=Ce,B++}c.attributes=D,c.attributesNum=B,c.index=ce}function _(){const k=c.newAttributes;for(let j=0,Z=k.length;j<Z;j++)k[j]=0}function w(k){b(k,0)}function b(k,j){const Z=c.newAttributes,ce=c.enabledAttributes,D=c.attributeDivisors;Z[k]=1,ce[k]===0&&(n.enableVertexAttribArray(k),ce[k]=1),D[k]!==j&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,j),D[k]=j)}function E(){const k=c.newAttributes,j=c.enabledAttributes;for(let Z=0,ce=j.length;Z<ce;Z++)j[Z]!==k[Z]&&(n.disableVertexAttribArray(Z),j[Z]=0)}function T(k,j,Z,ce,D,I){i.isWebGL2===!0&&(Z===5124||Z===5125)?n.vertexAttribIPointer(k,j,Z,D,I):n.vertexAttribPointer(k,j,Z,ce,D,I)}function S(k,j,Z,ce){if(i.isWebGL2===!1&&(k.isInstancedMesh||ce.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const D=ce.attributes,I=Z.getAttributes(),B=j.defaultAttributeValues;for(const Y in I){const ee=I[Y];if(ee.location>=0){let X=D[Y];if(X===void 0&&(Y==="instanceMatrix"&&k.instanceMatrix&&(X=k.instanceMatrix),Y==="instanceColor"&&k.instanceColor&&(X=k.instanceColor)),X!==void 0){const he=X.normalized,Ce=X.itemSize,q=t.get(X);if(q===void 0)continue;const Fe=q.buffer,Re=q.type,ke=q.bytesPerElement;if(X.isInterleavedBufferAttribute){const xe=X.data,We=xe.stride,re=X.offset;if(xe.isInstancedInterleavedBuffer){for(let Q=0;Q<ee.locationSize;Q++)b(ee.location+Q,xe.meshPerAttribute);k.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Q=0;Q<ee.locationSize;Q++)w(ee.location+Q);n.bindBuffer(34962,Fe);for(let Q=0;Q<ee.locationSize;Q++)T(ee.location+Q,Ce/ee.locationSize,Re,he,We*ke,(re+Ce/ee.locationSize*Q)*ke)}else{if(X.isInstancedBufferAttribute){for(let xe=0;xe<ee.locationSize;xe++)b(ee.location+xe,X.meshPerAttribute);k.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let xe=0;xe<ee.locationSize;xe++)w(ee.location+xe);n.bindBuffer(34962,Fe);for(let xe=0;xe<ee.locationSize;xe++)T(ee.location+xe,Ce/ee.locationSize,Re,he,Ce*ke,Ce/ee.locationSize*xe*ke)}}else if(B!==void 0){const he=B[Y];if(he!==void 0)switch(he.length){case 2:n.vertexAttrib2fv(ee.location,he);break;case 3:n.vertexAttrib3fv(ee.location,he);break;case 4:n.vertexAttrib4fv(ee.location,he);break;default:n.vertexAttrib1fv(ee.location,he)}}}}E()}function A(){oe();for(const k in a){const j=a[k];for(const Z in j){const ce=j[Z];for(const D in ce)v(ce[D].object),delete ce[D];delete j[Z]}delete a[k]}}function L(k){if(a[k.id]===void 0)return;const j=a[k.id];for(const Z in j){const ce=j[Z];for(const D in ce)v(ce[D].object),delete ce[D];delete j[Z]}delete a[k.id]}function H(k){for(const j in a){const Z=a[j];if(Z[k.id]===void 0)continue;const ce=Z[k.id];for(const D in ce)v(ce[D].object),delete ce[D];delete Z[k.id]}}function oe(){G(),u=!0,c!==l&&(c=l,p(c.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:oe,resetDefaultState:G,dispose:A,releaseStatesOfGeometry:L,releaseStatesOfProgram:H,initAttributes:_,enableAttribute:w,disableUnusedAttributes:E}}function tI(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,h){if(h===0)return;let d,p;if(r)d=n,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,c,u,h),t.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function nI(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),d=n.getParameter(35660),p=n.getParameter(3379),v=n.getParameter(34076),f=n.getParameter(34921),g=n.getParameter(36347),y=n.getParameter(36348),x=n.getParameter(36349),_=d>0,w=o||e.has("OES_texture_float"),b=_&&w,E=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:v,maxAttributes:f,maxVertexUniforms:g,maxVaryings:y,maxFragmentUniforms:x,vertexTextures:_,floatFragmentTextures:w,floatVertexTextures:b,maxSamples:E}}function iI(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Tr,a=new En,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d,p){const v=h.length!==0||d||i!==0||r;return r=d,t=u(h,p,0),i=h.length,v},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(h,d,p){const v=h.clippingPlanes,f=h.clipIntersection,g=h.clipShadows,y=n.get(h);if(!r||v===null||v.length===0||s&&!g)s?u(null):c();else{const x=s?0:i,_=x*4;let w=y.clippingState||null;l.value=w,w=u(v,d,_,p);for(let b=0;b!==_;++b)w[b]=t[b];y.clippingState=w,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(h,d,p,v){const f=h!==null?h.length:0;let g=null;if(f!==0){if(g=l.value,v!==!0||g===null){const y=p+f*4,x=d.matrixWorldInverse;a.getNormalMatrix(x),(g===null||g.length<y)&&(g=new Float32Array(y));for(let _=0,w=p;_!==f;++_,w+=4)o.copy(h[_]).applyMatrix4(x,a),o.normal.toArray(g,w),g[w+3]=o.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=f,e.numIntersection=0,g}}function rI(n){let e=new WeakMap;function t(o,a){return a===kl?o.mapping=jr:a===Ol&&(o.mapping=Xr),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===kl||a===Ol)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new kb(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Oh extends Dh{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const zo=4,rx=[.125,.215,.35,.446,.526,.582],xs=20,np=new Oh,sx=new Ee;let ip=null;const vs=(1+Math.sqrt(5))/2,xo=1/vs,ox=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,vs,xo),new N(0,vs,-xo),new N(xo,0,vs),new N(-xo,0,vs),new N(vs,xo,0),new N(-vs,xo,0)];class jm{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){ip=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=cx(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=lx(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ip),e.scissorTest=!1,du(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===jr||e.mapping===Xr?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ip=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Rt,minFilter:Rt,generateMipmaps:!1,type:oa,format:ei,encoding:Yr,depthBuffer:!1},r=ax(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ax(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=sI(s)),this._blurMaterial=oI(s,e,t)}return r}_compileMaterial(e){const t=new rn(this._lodPlanes[0],e);this._renderer.compile(t,np)}_sceneToCubeUV(e,t,i,r){const a=new nn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(sx),u.toneMapping=ki,u.autoClear=!1;const p=new ns({name:"PMREM.Background",side:Bn,depthWrite:!1,depthTest:!1}),v=new rn(new is,p);let f=!1;const g=e.background;g?g.isColor&&(p.color.copy(g),e.background=null,f=!0):(p.color.copy(sx),f=!0);for(let y=0;y<6;y++){const x=y%3;x===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):x===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const _=this._cubeSize;du(r,x*_,y>2?_:0,_,_),u.setRenderTarget(r),f&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===jr||e.mapping===Xr;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=cx()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=lx());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new rn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;du(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,np)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=ox[(r-1)%ox.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new rn(this._lodPlanes[r],c),d=c.uniforms,p=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*xs-1),f=s/v,g=isFinite(s)?1+Math.floor(u*f):xs;g>xs&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${xs}`);const y=[];let x=0;for(let T=0;T<xs;++T){const S=T/f,A=Math.exp(-S*S/2);y.push(A),T===0?x+=A:T<g&&(x+=2*A)}for(let T=0;T<y.length;T++)y[T]=y[T]/x;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=y,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:_}=this;d.dTheta.value=v,d.mipInt.value=_-i;const w=this._sizeLods[r],b=3*w*(r>_-zo?r-_+zo:0),E=4*(this._cubeSize-w);du(t,b,E,3*w,2*w),l.setRenderTarget(t),l.render(h,np)}}function sI(n){const e=[],t=[],i=[];let r=n;const s=n-zo+1+rx.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-zo?l=rx[o-n+zo-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],p=6,v=6,f=3,g=2,y=1,x=new Float32Array(f*v*p),_=new Float32Array(g*v*p),w=new Float32Array(y*v*p);for(let E=0;E<p;E++){const T=E%3*2/3-1,S=E>2?0:-1,A=[T,S,0,T+2/3,S,0,T+2/3,S+1,0,T,S,0,T+2/3,S+1,0,T,S+1,0];x.set(A,f*v*E),_.set(d,g*v*E);const L=[E,E,E,E,E,E];w.set(L,y*v*E)}const b=new $e;b.setAttribute("position",new pt(x,f)),b.setAttribute("uv",new pt(_,g)),b.setAttribute("faceIndex",new pt(w,y)),e.push(b),r>zo&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function ax(n,e,t){const i=new oi(n,e,t);return i.texture.mapping=ma,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function du(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function oI(n,e,t){const i=new Float32Array(xs),r=new N(0,1,0);return new Fi({name:"SphericalGaussianBlur",defines:{n:xs,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:M0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:nr,depthTest:!1,depthWrite:!1})}function lx(){return new Fi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:M0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:nr,depthTest:!1,depthWrite:!1})}function cx(){return new Fi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:M0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:nr,depthTest:!1,depthWrite:!1})}function M0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function aI(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===kl||l===Ol,u=l===jr||l===Xr;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new jm(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&r(h)){t===null&&(t=new jm(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function lI(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function cI(n,e,t,i){const r={},s=new WeakMap;function o(h){const d=h.target;d.index!==null&&e.remove(d.index);for(const v in d.attributes)e.remove(d.attributes[v]);d.removeEventListener("dispose",o),delete r[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(h,d){return r[d.id]===!0||(d.addEventListener("dispose",o),r[d.id]=!0,t.memory.geometries++),d}function l(h){const d=h.attributes;for(const v in d)e.update(d[v],34962);const p=h.morphAttributes;for(const v in p){const f=p[v];for(let g=0,y=f.length;g<y;g++)e.update(f[g],34962)}}function c(h){const d=[],p=h.index,v=h.attributes.position;let f=0;if(p!==null){const x=p.array;f=p.version;for(let _=0,w=x.length;_<w;_+=3){const b=x[_+0],E=x[_+1],T=x[_+2];d.push(b,E,E,T,T,b)}}else{const x=v.array;f=v.version;for(let _=0,w=x.length/3-1;_<w;_+=3){const b=_+0,E=_+1,T=_+2;d.push(b,E,E,T,T,b)}}const g=new(Rb(d)?b0:S0)(d,1);g.version=f;const y=s.get(h);y&&e.remove(y),s.set(h,g)}function u(h){const d=s.get(h);if(d){const p=h.index;p!==null&&d.version<p.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function uI(n,e,t,i){const r=i.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,p){n.drawElements(s,p,a,d*l),t.update(p,s,1)}function h(d,p,v){if(v===0)return;let f,g;if(r)f=n,g="drawElementsInstanced";else if(f=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",f===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[g](s,p,a,d*l,v),t.update(p,s,v)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function dI(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function hI(n,e){return n[0]-e[0]}function fI(n,e){return Math.abs(e[1])-Math.abs(n[1])}function pI(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new lt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=f!==void 0?f.length:0;let y=s.get(u);if(y===void 0||y.count!==g){let Z=function(){k.dispose(),s.delete(u),u.removeEventListener("dispose",Z)};var v=Z;y!==void 0&&y.texture.dispose();const w=u.morphAttributes.position!==void 0,b=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],S=u.morphAttributes.normal||[],A=u.morphAttributes.color||[];let L=0;w===!0&&(L=1),b===!0&&(L=2),E===!0&&(L=3);let H=u.attributes.position.count*L,oe=1;H>e.maxTextureSize&&(oe=Math.ceil(H/e.maxTextureSize),H=e.maxTextureSize);const G=new Float32Array(H*oe*4*g),k=new cc(G,H,oe,g);k.type=Zi,k.needsUpdate=!0;const j=L*4;for(let ce=0;ce<g;ce++){const D=T[ce],I=S[ce],B=A[ce],Y=H*oe*4*ce;for(let ee=0;ee<D.count;ee++){const X=ee*j;w===!0&&(o.fromBufferAttribute(D,ee),G[Y+X+0]=o.x,G[Y+X+1]=o.y,G[Y+X+2]=o.z,G[Y+X+3]=0),b===!0&&(o.fromBufferAttribute(I,ee),G[Y+X+4]=o.x,G[Y+X+5]=o.y,G[Y+X+6]=o.z,G[Y+X+7]=0),E===!0&&(o.fromBufferAttribute(B,ee),G[Y+X+8]=o.x,G[Y+X+9]=o.y,G[Y+X+10]=o.z,G[Y+X+11]=B.itemSize===4?o.w:1)}}y={count:g,texture:k,size:new le(H,oe)},s.set(u,y),u.addEventListener("dispose",Z)}let x=0;for(let w=0;w<p.length;w++)x+=p[w];const _=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const f=p===void 0?0:p.length;let g=i[u.id];if(g===void 0||g.length!==f){g=[];for(let b=0;b<f;b++)g[b]=[b,0];i[u.id]=g}for(let b=0;b<f;b++){const E=g[b];E[0]=b,E[1]=p[b]}g.sort(fI);for(let b=0;b<8;b++)b<f&&g[b][1]?(a[b][0]=g[b][0],a[b][1]=g[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(hI);const y=u.morphAttributes.position,x=u.morphAttributes.normal;let _=0;for(let b=0;b<8;b++){const E=a[b],T=E[0],S=E[1];T!==Number.MAX_SAFE_INTEGER&&S?(y&&u.getAttribute("morphTarget"+b)!==y[T]&&u.setAttribute("morphTarget"+b,y[T]),x&&u.getAttribute("morphNormal"+b)!==x[T]&&u.setAttribute("morphNormal"+b,x[T]),r[b]=S,_+=S):(y&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),x&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),r[b]=0)}const w=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function mI(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,h=e.get(l,u);return r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const Fb=new Ht,Bb=new cc,zb=new Lh,Ub=new dc,ux=[],dx=[],hx=new Float32Array(16),fx=new Float32Array(9),px=new Float32Array(4);function ya(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=ux[r];if(s===void 0&&(s=new Float32Array(r),ux[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Wt(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function $t(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Fh(n,e){let t=dx[e];t===void 0&&(t=new Int32Array(e),dx[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function gI(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function vI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wt(t,e))return;n.uniform2fv(this.addr,e),$t(t,e)}}function yI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Wt(t,e))return;n.uniform3fv(this.addr,e),$t(t,e)}}function xI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wt(t,e))return;n.uniform4fv(this.addr,e),$t(t,e)}}function _I(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wt(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),$t(t,e)}else{if(Wt(t,i))return;px.set(i),n.uniformMatrix2fv(this.addr,!1,px),$t(t,i)}}function wI(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wt(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),$t(t,e)}else{if(Wt(t,i))return;fx.set(i),n.uniformMatrix3fv(this.addr,!1,fx),$t(t,i)}}function SI(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wt(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),$t(t,e)}else{if(Wt(t,i))return;hx.set(i),n.uniformMatrix4fv(this.addr,!1,hx),$t(t,i)}}function bI(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function MI(n,e){const t=this.cache;Wt(t,e)||(n.uniform2iv(this.addr,e),$t(t,e))}function EI(n,e){const t=this.cache;Wt(t,e)||(n.uniform3iv(this.addr,e),$t(t,e))}function CI(n,e){const t=this.cache;Wt(t,e)||(n.uniform4iv(this.addr,e),$t(t,e))}function TI(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function AI(n,e){const t=this.cache;Wt(t,e)||(n.uniform2uiv(this.addr,e),$t(t,e))}function PI(n,e){const t=this.cache;Wt(t,e)||(n.uniform3uiv(this.addr,e),$t(t,e))}function NI(n,e){const t=this.cache;Wt(t,e)||(n.uniform4uiv(this.addr,e),$t(t,e))}function RI(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||Fb,r)}function LI(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||zb,r)}function II(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||Ub,r)}function DI(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||Bb,r)}function kI(n){switch(n){case 5126:return gI;case 35664:return vI;case 35665:return yI;case 35666:return xI;case 35674:return _I;case 35675:return wI;case 35676:return SI;case 5124:case 35670:return bI;case 35667:case 35671:return MI;case 35668:case 35672:return EI;case 35669:case 35673:return CI;case 5125:return TI;case 36294:return AI;case 36295:return PI;case 36296:return NI;case 35678:case 36198:case 36298:case 36306:case 35682:return RI;case 35679:case 36299:case 36307:return LI;case 35680:case 36300:case 36308:case 36293:return II;case 36289:case 36303:case 36311:case 36292:return DI}}function OI(n,e){n.uniform1fv(this.addr,e)}function FI(n,e){const t=ya(e,this.size,2);n.uniform2fv(this.addr,t)}function BI(n,e){const t=ya(e,this.size,3);n.uniform3fv(this.addr,t)}function zI(n,e){const t=ya(e,this.size,4);n.uniform4fv(this.addr,t)}function UI(n,e){const t=ya(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function VI(n,e){const t=ya(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function GI(n,e){const t=ya(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function HI(n,e){n.uniform1iv(this.addr,e)}function WI(n,e){n.uniform2iv(this.addr,e)}function $I(n,e){n.uniform3iv(this.addr,e)}function jI(n,e){n.uniform4iv(this.addr,e)}function XI(n,e){n.uniform1uiv(this.addr,e)}function qI(n,e){n.uniform2uiv(this.addr,e)}function YI(n,e){n.uniform3uiv(this.addr,e)}function JI(n,e){n.uniform4uiv(this.addr,e)}function ZI(n,e,t){const i=this.cache,r=e.length,s=Fh(t,r);Wt(i,s)||(n.uniform1iv(this.addr,s),$t(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||Fb,s[o])}function KI(n,e,t){const i=this.cache,r=e.length,s=Fh(t,r);Wt(i,s)||(n.uniform1iv(this.addr,s),$t(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||zb,s[o])}function QI(n,e,t){const i=this.cache,r=e.length,s=Fh(t,r);Wt(i,s)||(n.uniform1iv(this.addr,s),$t(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||Ub,s[o])}function eD(n,e,t){const i=this.cache,r=e.length,s=Fh(t,r);Wt(i,s)||(n.uniform1iv(this.addr,s),$t(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||Bb,s[o])}function tD(n){switch(n){case 5126:return OI;case 35664:return FI;case 35665:return BI;case 35666:return zI;case 35674:return UI;case 35675:return VI;case 35676:return GI;case 5124:case 35670:return HI;case 35667:case 35671:return WI;case 35668:case 35672:return $I;case 35669:case 35673:return jI;case 5125:return XI;case 36294:return qI;case 36295:return YI;case 36296:return JI;case 35678:case 36198:case 36298:case 36306:case 35682:return ZI;case 35679:case 36299:case 36307:return KI;case 35680:case 36300:case 36308:case 36293:return QI;case 36289:case 36303:case 36311:case 36292:return eD}}class nD{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=kI(t.type)}}class iD{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=tD(t.type)}}class rD{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const rp=/(\w+)(\])?(\[|\.)?/g;function mx(n,e){n.seq.push(e),n.map[e.id]=e}function sD(n,e,t){const i=n.name,r=i.length;for(rp.lastIndex=0;;){const s=rp.exec(i),o=rp.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){mx(t,c===void 0?new nD(a,n,e):new iD(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new rD(a),mx(t,h)),t=h}}}class td{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);sD(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function gx(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let oD=0;function aD(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function lD(n){switch(n){case Yr:return["Linear","( value )"];case _t:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function vx(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+aD(n.getShaderSource(e),o)}else return r}function cD(n,e){const t=lD(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function uD(n,e){let t;switch(e){case ib:t="Linear";break;case rb:t="Reinhard";break;case sb:t="OptimizedCineon";break;case ob:t="ACESFilmic";break;case ab:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function dD(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Za).join(`
`)}function hD(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function fD(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Za(n){return n!==""}function yx(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xx(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const pD=/^[ \t]*#include +<([\w\d./]+)>/gm;function Xm(n){return n.replace(pD,mD)}function mD(n,e){const t=qe[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Xm(t)}const gD=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _x(n){return n.replace(gD,vD)}function vD(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function wx(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function yD(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===p0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===kS?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Fo&&(e="SHADOWMAP_TYPE_VSM"),e}function xD(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case jr:case Xr:e="ENVMAP_TYPE_CUBE";break;case ma:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _D(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xr:e="ENVMAP_MODE_REFRACTION";break}return e}function wD(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case lc:e="ENVMAP_BLENDING_MULTIPLY";break;case tb:e="ENVMAP_BLENDING_MIX";break;case nb:e="ENVMAP_BLENDING_ADD";break}return e}function SD(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function bD(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=yD(t),c=xD(t),u=_D(t),h=wD(t),d=SD(t),p=t.isWebGL2?"":dD(t),v=hD(s),f=r.createProgram();let g,y,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=[v].filter(Za).join(`
`),g.length>0&&(g+=`
`),y=[p,v].filter(Za).join(`
`),y.length>0&&(y+=`
`)):(g=[wx(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Za).join(`
`),y=[p,wx(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ki?"#define TONE_MAPPING":"",t.toneMapping!==ki?qe.tonemapping_pars_fragment:"",t.toneMapping!==ki?uD("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",qe.encodings_pars_fragment,cD("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Za).join(`
`)),o=Xm(o),o=yx(o,t),o=xx(o,t),a=Xm(a),a=yx(a,t),a=xx(a,t),o=_x(o),a=_x(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,y=["#define varying in",t.glslVersion===Wm?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Wm?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const _=x+g+o,w=x+y+a,b=gx(r,35633,_),E=gx(r,35632,w);if(r.attachShader(f,b),r.attachShader(f,E),t.index0AttributeName!==void 0?r.bindAttribLocation(f,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(f,0,"position"),r.linkProgram(f),n.debug.checkShaderErrors){const A=r.getProgramInfoLog(f).trim(),L=r.getShaderInfoLog(b).trim(),H=r.getShaderInfoLog(E).trim();let oe=!0,G=!0;if(r.getProgramParameter(f,35714)===!1){oe=!1;const k=vx(r,b,"vertex"),j=vx(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(f,35715)+`

Program Info Log: `+A+`
`+k+`
`+j)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(L===""||H==="")&&(G=!1);G&&(this.diagnostics={runnable:oe,programLog:A,vertexShader:{log:L,prefix:g},fragmentShader:{log:H,prefix:y}})}r.deleteShader(b),r.deleteShader(E);let T;this.getUniforms=function(){return T===void 0&&(T=new td(r,f)),T};let S;return this.getAttributes=function(){return S===void 0&&(S=fD(r,f)),S},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(f),this.program=void 0},this.name=t.shaderName,this.id=oD++,this.cacheKey=e,this.usedTimes=1,this.program=f,this.vertexShader=b,this.fragmentShader=E,this}let MD=0;class ED{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new CD(e),t.set(e,i)),i}}class CD{constructor(e){this.id=MD++,this.code=e,this.usedTimes=0}}function TD(n,e,t,i,r,s,o){const a=new Ih,l=new ED,c=[],u=r.isWebGL2,h=r.logarithmicDepthBuffer,d=r.vertexTextures;let p=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(S,A,L,H,oe){const G=H.fog,k=oe.geometry,j=S.isMeshStandardMaterial?H.environment:null,Z=(S.isMeshStandardMaterial?t:e).get(S.envMap||j),ce=!!Z&&Z.mapping===ma?Z.image.height:null,D=v[S.type];S.precision!==null&&(p=r.getMaxPrecision(S.precision),p!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",p,"instead."));const I=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,B=I!==void 0?I.length:0;let Y=0;k.morphAttributes.position!==void 0&&(Y=1),k.morphAttributes.normal!==void 0&&(Y=2),k.morphAttributes.color!==void 0&&(Y=3);let ee,X,he,Ce;if(D){const We=vi[D];ee=We.vertexShader,X=We.fragmentShader}else ee=S.vertexShader,X=S.fragmentShader,l.update(S),he=l.getVertexShaderID(S),Ce=l.getFragmentShaderID(S);const q=n.getRenderTarget(),Fe=S.alphaTest>0,Re=S.clearcoat>0,ke=S.iridescence>0;return{isWebGL2:u,shaderID:D,shaderName:S.type,vertexShader:ee,fragmentShader:X,defines:S.defines,customVertexShaderID:he,customFragmentShaderID:Ce,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:p,instancing:oe.isInstancedMesh===!0,instancingColor:oe.isInstancedMesh===!0&&oe.instanceColor!==null,supportsVertexTextures:d,outputEncoding:q===null?n.outputEncoding:q.isXRRenderTarget===!0?q.texture.encoding:Yr,map:!!S.map,matcap:!!S.matcap,envMap:!!Z,envMapMode:Z&&Z.mapping,envMapCubeUVHeight:ce,lightMap:!!S.lightMap,aoMap:!!S.aoMap,emissiveMap:!!S.emissiveMap,bumpMap:!!S.bumpMap,normalMap:!!S.normalMap,objectSpaceNormalMap:S.normalMapType===Ab,tangentSpaceNormalMap:S.normalMapType===ts,decodeVideoTexture:!!S.map&&S.map.isVideoTexture===!0&&S.map.encoding===_t,clearcoat:Re,clearcoatMap:Re&&!!S.clearcoatMap,clearcoatRoughnessMap:Re&&!!S.clearcoatRoughnessMap,clearcoatNormalMap:Re&&!!S.clearcoatNormalMap,iridescence:ke,iridescenceMap:ke&&!!S.iridescenceMap,iridescenceThicknessMap:ke&&!!S.iridescenceThicknessMap,displacementMap:!!S.displacementMap,roughnessMap:!!S.roughnessMap,metalnessMap:!!S.metalnessMap,specularMap:!!S.specularMap,specularIntensityMap:!!S.specularIntensityMap,specularColorMap:!!S.specularColorMap,opaque:S.transparent===!1&&S.blending===Rs,alphaMap:!!S.alphaMap,alphaTest:Fe,gradientMap:!!S.gradientMap,sheen:S.sheen>0,sheenColorMap:!!S.sheenColorMap,sheenRoughnessMap:!!S.sheenRoughnessMap,transmission:S.transmission>0,transmissionMap:!!S.transmissionMap,thicknessMap:!!S.thicknessMap,combine:S.combine,vertexTangents:!!S.normalMap&&!!k.attributes.tangent,vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,vertexUvs:!!S.map||!!S.bumpMap||!!S.normalMap||!!S.specularMap||!!S.alphaMap||!!S.emissiveMap||!!S.roughnessMap||!!S.metalnessMap||!!S.clearcoatMap||!!S.clearcoatRoughnessMap||!!S.clearcoatNormalMap||!!S.iridescenceMap||!!S.iridescenceThicknessMap||!!S.displacementMap||!!S.transmissionMap||!!S.thicknessMap||!!S.specularIntensityMap||!!S.specularColorMap||!!S.sheenColorMap||!!S.sheenRoughnessMap,uvsVertexOnly:!(!!S.map||!!S.bumpMap||!!S.normalMap||!!S.specularMap||!!S.alphaMap||!!S.emissiveMap||!!S.roughnessMap||!!S.metalnessMap||!!S.clearcoatNormalMap||!!S.iridescenceMap||!!S.iridescenceThicknessMap||S.transmission>0||!!S.transmissionMap||!!S.thicknessMap||!!S.specularIntensityMap||!!S.specularColorMap||S.sheen>0||!!S.sheenColorMap||!!S.sheenRoughnessMap)&&!!S.displacementMap,fog:!!G,useFog:S.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:!!S.flatShading,sizeAttenuation:S.sizeAttenuation,logarithmicDepthBuffer:h,skinning:oe.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:B,morphTextureStride:Y,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:S.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:S.toneMapped?n.toneMapping:ki,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===Ji,flipSided:S.side===Bn,useDepthPacking:!!S.depthPacking,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:S.extensions&&S.extensions.derivatives,extensionFragDepth:S.extensions&&S.extensions.fragDepth,extensionDrawBuffers:S.extensions&&S.extensions.drawBuffers,extensionShaderTextureLOD:S.extensions&&S.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}}function g(S){const A=[];if(S.shaderID?A.push(S.shaderID):(A.push(S.customVertexShaderID),A.push(S.customFragmentShaderID)),S.defines!==void 0)for(const L in S.defines)A.push(L),A.push(S.defines[L]);return S.isRawShaderMaterial===!1&&(y(A,S),x(A,S),A.push(n.outputEncoding)),A.push(S.customProgramCacheKey),A.join()}function y(S,A){S.push(A.precision),S.push(A.outputEncoding),S.push(A.envMapMode),S.push(A.envMapCubeUVHeight),S.push(A.combine),S.push(A.vertexUvs),S.push(A.fogExp2),S.push(A.sizeAttenuation),S.push(A.morphTargetsCount),S.push(A.morphAttributeCount),S.push(A.numDirLights),S.push(A.numPointLights),S.push(A.numSpotLights),S.push(A.numSpotLightMaps),S.push(A.numHemiLights),S.push(A.numRectAreaLights),S.push(A.numDirLightShadows),S.push(A.numPointLightShadows),S.push(A.numSpotLightShadows),S.push(A.numSpotLightShadowsWithMaps),S.push(A.shadowMapType),S.push(A.toneMapping),S.push(A.numClippingPlanes),S.push(A.numClipIntersection),S.push(A.depthPacking)}function x(S,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.map&&a.enable(4),A.matcap&&a.enable(5),A.envMap&&a.enable(6),A.lightMap&&a.enable(7),A.aoMap&&a.enable(8),A.emissiveMap&&a.enable(9),A.bumpMap&&a.enable(10),A.normalMap&&a.enable(11),A.objectSpaceNormalMap&&a.enable(12),A.tangentSpaceNormalMap&&a.enable(13),A.clearcoat&&a.enable(14),A.clearcoatMap&&a.enable(15),A.clearcoatRoughnessMap&&a.enable(16),A.clearcoatNormalMap&&a.enable(17),A.iridescence&&a.enable(18),A.iridescenceMap&&a.enable(19),A.iridescenceThicknessMap&&a.enable(20),A.displacementMap&&a.enable(21),A.specularMap&&a.enable(22),A.roughnessMap&&a.enable(23),A.metalnessMap&&a.enable(24),A.gradientMap&&a.enable(25),A.alphaMap&&a.enable(26),A.alphaTest&&a.enable(27),A.vertexColors&&a.enable(28),A.vertexAlphas&&a.enable(29),A.vertexUvs&&a.enable(30),A.vertexTangents&&a.enable(31),A.uvsVertexOnly&&a.enable(32),S.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.skinning&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.morphColors&&a.enable(7),A.premultipliedAlpha&&a.enable(8),A.shadowMapEnabled&&a.enable(9),A.physicallyCorrectLights&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.specularIntensityMap&&a.enable(15),A.specularColorMap&&a.enable(16),A.transmission&&a.enable(17),A.transmissionMap&&a.enable(18),A.thicknessMap&&a.enable(19),A.sheen&&a.enable(20),A.sheenColorMap&&a.enable(21),A.sheenRoughnessMap&&a.enable(22),A.decodeVideoTexture&&a.enable(23),A.opaque&&a.enable(24),S.push(a.mask)}function _(S){const A=v[S.type];let L;if(A){const H=vi[A];L=Ib.clone(H.uniforms)}else L=S.uniforms;return L}function w(S,A){let L;for(let H=0,oe=c.length;H<oe;H++){const G=c[H];if(G.cacheKey===A){L=G,++L.usedTimes;break}}return L===void 0&&(L=new bD(n,A,S,s),c.push(L)),L}function b(S){if(--S.usedTimes===0){const A=c.indexOf(S);c[A]=c[c.length-1],c.pop(),S.destroy()}}function E(S){l.remove(S)}function T(){l.dispose()}return{getParameters:f,getProgramCacheKey:g,getUniforms:_,acquireProgram:w,releaseProgram:b,releaseShaderCache:E,programs:c,dispose:T}}function AD(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function PD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Sx(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function bx(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,d,p,v,f,g){let y=n[e];return y===void 0?(y={id:h.id,object:h,geometry:d,material:p,groupOrder:v,renderOrder:h.renderOrder,z:f,group:g},n[e]=y):(y.id=h.id,y.object=h,y.geometry=d,y.material=p,y.groupOrder=v,y.renderOrder=h.renderOrder,y.z=f,y.group=g),e++,y}function a(h,d,p,v,f,g){const y=o(h,d,p,v,f,g);p.transmission>0?i.push(y):p.transparent===!0?r.push(y):t.push(y)}function l(h,d,p,v,f,g){const y=o(h,d,p,v,f,g);p.transmission>0?i.unshift(y):p.transparent===!0?r.unshift(y):t.unshift(y)}function c(h,d){t.length>1&&t.sort(h||PD),i.length>1&&i.sort(d||Sx),r.length>1&&r.sort(d||Sx)}function u(){for(let h=e,d=n.length;h<d;h++){const p=n[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function ND(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new bx,n.set(i,[o])):r>=s.length?(o=new bx,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function RD(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new Ee};break;case"SpotLight":t={position:new N,direction:new N,color:new Ee,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new Ee,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new Ee,groundColor:new Ee};break;case"RectAreaLight":t={color:new Ee,position:new N,halfWidth:new N,halfHeight:new N};break}return n[e.id]=t,t}}}function LD(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let ID=0;function DD(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function kD(n,e){const t=new RD,i=LD(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new N);const s=new N,o=new He,a=new He;function l(u,h){let d=0,p=0,v=0;for(let H=0;H<9;H++)r.probe[H].set(0,0,0);let f=0,g=0,y=0,x=0,_=0,w=0,b=0,E=0,T=0,S=0;u.sort(DD);const A=h!==!0?Math.PI:1;for(let H=0,oe=u.length;H<oe;H++){const G=u[H],k=G.color,j=G.intensity,Z=G.distance,ce=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)d+=k.r*j*A,p+=k.g*j*A,v+=k.b*j*A;else if(G.isLightProbe)for(let D=0;D<9;D++)r.probe[D].addScaledVector(G.sh.coefficients[D],j);else if(G.isDirectionalLight){const D=t.get(G);if(D.color.copy(G.color).multiplyScalar(G.intensity*A),G.castShadow){const I=G.shadow,B=i.get(G);B.shadowBias=I.bias,B.shadowNormalBias=I.normalBias,B.shadowRadius=I.radius,B.shadowMapSize=I.mapSize,r.directionalShadow[f]=B,r.directionalShadowMap[f]=ce,r.directionalShadowMatrix[f]=G.shadow.matrix,w++}r.directional[f]=D,f++}else if(G.isSpotLight){const D=t.get(G);D.position.setFromMatrixPosition(G.matrixWorld),D.color.copy(k).multiplyScalar(j*A),D.distance=Z,D.coneCos=Math.cos(G.angle),D.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),D.decay=G.decay,r.spot[y]=D;const I=G.shadow;if(G.map&&(r.spotLightMap[T]=G.map,T++,I.updateMatrices(G),G.castShadow&&S++),r.spotLightMatrix[y]=I.matrix,G.castShadow){const B=i.get(G);B.shadowBias=I.bias,B.shadowNormalBias=I.normalBias,B.shadowRadius=I.radius,B.shadowMapSize=I.mapSize,r.spotShadow[y]=B,r.spotShadowMap[y]=ce,E++}y++}else if(G.isRectAreaLight){const D=t.get(G);D.color.copy(k).multiplyScalar(j),D.halfWidth.set(G.width*.5,0,0),D.halfHeight.set(0,G.height*.5,0),r.rectArea[x]=D,x++}else if(G.isPointLight){const D=t.get(G);if(D.color.copy(G.color).multiplyScalar(G.intensity*A),D.distance=G.distance,D.decay=G.decay,G.castShadow){const I=G.shadow,B=i.get(G);B.shadowBias=I.bias,B.shadowNormalBias=I.normalBias,B.shadowRadius=I.radius,B.shadowMapSize=I.mapSize,B.shadowCameraNear=I.camera.near,B.shadowCameraFar=I.camera.far,r.pointShadow[g]=B,r.pointShadowMap[g]=ce,r.pointShadowMatrix[g]=G.shadow.matrix,b++}r.point[g]=D,g++}else if(G.isHemisphereLight){const D=t.get(G);D.skyColor.copy(G.color).multiplyScalar(j*A),D.groundColor.copy(G.groundColor).multiplyScalar(j*A),r.hemi[_]=D,_++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ye.LTC_FLOAT_1,r.rectAreaLTC2=ye.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=ye.LTC_HALF_1,r.rectAreaLTC2=ye.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=d,r.ambient[1]=p,r.ambient[2]=v;const L=r.hash;(L.directionalLength!==f||L.pointLength!==g||L.spotLength!==y||L.rectAreaLength!==x||L.hemiLength!==_||L.numDirectionalShadows!==w||L.numPointShadows!==b||L.numSpotShadows!==E||L.numSpotMaps!==T)&&(r.directional.length=f,r.spot.length=y,r.rectArea.length=x,r.point.length=g,r.hemi.length=_,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=E+T-S,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=S,L.directionalLength=f,L.pointLength=g,L.spotLength=y,L.rectAreaLength=x,L.hemiLength=_,L.numDirectionalShadows=w,L.numPointShadows=b,L.numSpotShadows=E,L.numSpotMaps=T,r.version=ID++)}function c(u,h){let d=0,p=0,v=0,f=0,g=0;const y=h.matrixWorldInverse;for(let x=0,_=u.length;x<_;x++){const w=u[x];if(w.isDirectionalLight){const b=r.directional[d];b.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(y),d++}else if(w.isSpotLight){const b=r.spot[v];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),b.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(y),v++}else if(w.isRectAreaLight){const b=r.rectArea[f];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),a.identity(),o.copy(w.matrixWorld),o.premultiply(y),a.extractRotation(o),b.halfWidth.set(w.width*.5,0,0),b.halfHeight.set(0,w.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),f++}else if(w.isPointLight){const b=r.point[p];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),p++}else if(w.isHemisphereLight){const b=r.hemi[g];b.direction.setFromMatrixPosition(w.matrixWorld),b.direction.transformDirection(y),g++}}}return{setup:l,setupView:c,state:r}}function Mx(n,e){const t=new kD(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function c(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function OD(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new Mx(n,e),t.set(s,[l])):o>=a.length?(l=new Mx(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class E0 extends pn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Cb,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class C0 extends pn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new N,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const FD=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,BD=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function zD(n,e,t){let i=new kh;const r=new le,s=new le,o=new lt,a=new E0({depthPacking:Tb}),l=new C0,c={},u=t.maxTextureSize,h={0:Bn,1:Gs,2:Ji},d=new Fi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new le},radius:{value:4}},vertexShader:FD,fragmentShader:BD}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const v=new $e;v.setAttribute("position",new pt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new rn(v,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p0,this.render=function(w,b,E){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||w.length===0)return;const T=n.getRenderTarget(),S=n.getActiveCubeFace(),A=n.getActiveMipmapLevel(),L=n.state;L.setBlending(nr),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let H=0,oe=w.length;H<oe;H++){const G=w[H],k=G.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",G,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);const j=k.getFrameExtents();if(r.multiply(j),s.copy(k.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/j.x),r.x=s.x*j.x,k.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/j.y),r.y=s.y*j.y,k.mapSize.y=s.y)),k.map===null){const ce=this.type!==Fo?{minFilter:Ot,magFilter:Ot}:{};k.map=new oi(r.x,r.y,ce),k.map.texture.name=G.name+".shadowMap",k.camera.updateProjectionMatrix()}n.setRenderTarget(k.map),n.clear();const Z=k.getViewportCount();for(let ce=0;ce<Z;ce++){const D=k.getViewport(ce);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),L.viewport(o),k.updateMatrices(G,ce),i=k.getFrustum(),_(b,E,k.camera,G,this.type)}k.isPointLightShadow!==!0&&this.type===Fo&&y(k,E),k.needsUpdate=!1}g.needsUpdate=!1,n.setRenderTarget(T,S,A)};function y(w,b){const E=e.update(f);d.defines.VSM_SAMPLES!==w.blurSamples&&(d.defines.VSM_SAMPLES=w.blurSamples,p.defines.VSM_SAMPLES=w.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new oi(r.x,r.y)),d.uniforms.shadow_pass.value=w.map.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(b,null,E,d,f,null),p.uniforms.shadow_pass.value=w.mapPass.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(b,null,E,p,f,null)}function x(w,b,E,T,S,A){let L=null;const H=E.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(H!==void 0?L=H:L=E.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0){const oe=L.uuid,G=b.uuid;let k=c[oe];k===void 0&&(k={},c[oe]=k);let j=k[G];j===void 0&&(j=L.clone(),k[G]=j),L=j}return L.visible=b.visible,L.wireframe=b.wireframe,A===Fo?L.side=b.shadowSide!==null?b.shadowSide:b.side:L.side=b.shadowSide!==null?b.shadowSide:h[b.side],L.alphaMap=b.alphaMap,L.alphaTest=b.alphaTest,L.clipShadows=b.clipShadows,L.clippingPlanes=b.clippingPlanes,L.clipIntersection=b.clipIntersection,L.displacementMap=b.displacementMap,L.displacementScale=b.displacementScale,L.displacementBias=b.displacementBias,L.wireframeLinewidth=b.wireframeLinewidth,L.linewidth=b.linewidth,E.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(E.matrixWorld),L.nearDistance=T,L.farDistance=S),L}function _(w,b,E,T,S){if(w.visible===!1)return;if(w.layers.test(b.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&S===Fo)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,w.matrixWorld);const H=e.update(w),oe=w.material;if(Array.isArray(oe)){const G=H.groups;for(let k=0,j=G.length;k<j;k++){const Z=G[k],ce=oe[Z.materialIndex];if(ce&&ce.visible){const D=x(w,ce,T,E.near,E.far,S);n.renderBufferDirect(E,null,H,D,w,Z)}}}else if(oe.visible){const G=x(w,oe,T,E.near,E.far,S);n.renderBufferDirect(E,null,H,G,w,null)}}const L=w.children;for(let H=0,oe=L.length;H<oe;H++)_(L[H],b,E,T,S)}}function UD(n,e,t){const i=t.isWebGL2;function r(){let O=!1;const be=new lt;let ge=null;const ie=new lt(0,0,0,0);return{setMask:function(ve){ge!==ve&&!O&&(n.colorMask(ve,ve,ve,ve),ge=ve)},setLocked:function(ve){O=ve},setClear:function(ve,Oe,ht,Ze,jt){jt===!0&&(ve*=Ze,Oe*=Ze,ht*=Ze),be.set(ve,Oe,ht,Ze),ie.equals(be)===!1&&(n.clearColor(ve,Oe,ht,Ze),ie.copy(be))},reset:function(){O=!1,ge=null,ie.set(-1,0,0,0)}}}function s(){let O=!1,be=null,ge=null,ie=null;return{setTest:function(ve){ve?Fe(2929):Re(2929)},setMask:function(ve){be!==ve&&!O&&(n.depthMask(ve),be=ve)},setFunc:function(ve){if(ge!==ve){switch(ve){case qS:n.depthFunc(512);break;case YS:n.depthFunc(519);break;case JS:n.depthFunc(513);break;case Nd:n.depthFunc(515);break;case ZS:n.depthFunc(514);break;case KS:n.depthFunc(518);break;case QS:n.depthFunc(516);break;case eb:n.depthFunc(517);break;default:n.depthFunc(515)}ge=ve}},setLocked:function(ve){O=ve},setClear:function(ve){ie!==ve&&(n.clearDepth(ve),ie=ve)},reset:function(){O=!1,be=null,ge=null,ie=null}}}function o(){let O=!1,be=null,ge=null,ie=null,ve=null,Oe=null,ht=null,Ze=null,jt=null;return{setTest:function(gt){O||(gt?Fe(2960):Re(2960))},setMask:function(gt){be!==gt&&!O&&(n.stencilMask(gt),be=gt)},setFunc:function(gt,li,$n){(ge!==gt||ie!==li||ve!==$n)&&(n.stencilFunc(gt,li,$n),ge=gt,ie=li,ve=$n)},setOp:function(gt,li,$n){(Oe!==gt||ht!==li||Ze!==$n)&&(n.stencilOp(gt,li,$n),Oe=gt,ht=li,Ze=$n)},setLocked:function(gt){O=gt},setClear:function(gt){jt!==gt&&(n.clearStencil(gt),jt=gt)},reset:function(){O=!1,be=null,ge=null,ie=null,ve=null,Oe=null,ht=null,Ze=null,jt=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let d={},p={},v=new WeakMap,f=[],g=null,y=!1,x=null,_=null,w=null,b=null,E=null,T=null,S=null,A=!1,L=null,H=null,oe=null,G=null,k=null;const j=n.getParameter(35661);let Z=!1,ce=0;const D=n.getParameter(7938);D.indexOf("WebGL")!==-1?(ce=parseFloat(/^WebGL (\d)/.exec(D)[1]),Z=ce>=1):D.indexOf("OpenGL ES")!==-1&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),Z=ce>=2);let I=null,B={};const Y=n.getParameter(3088),ee=n.getParameter(2978),X=new lt().fromArray(Y),he=new lt().fromArray(ee);function Ce(O,be,ge){const ie=new Uint8Array(4),ve=n.createTexture();n.bindTexture(O,ve),n.texParameteri(O,10241,9728),n.texParameteri(O,10240,9728);for(let Oe=0;Oe<ge;Oe++)n.texImage2D(be+Oe,0,6408,1,1,0,6408,5121,ie);return ve}const q={};q[3553]=Ce(3553,3553,1),q[34067]=Ce(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Fe(2929),l.setFunc(Nd),_e(!1),Ue(vm),Fe(2884),me(nr);function Fe(O){d[O]!==!0&&(n.enable(O),d[O]=!0)}function Re(O){d[O]!==!1&&(n.disable(O),d[O]=!1)}function ke(O,be){return p[O]!==be?(n.bindFramebuffer(O,be),p[O]=be,i&&(O===36009&&(p[36160]=be),O===36160&&(p[36009]=be)),!0):!1}function xe(O,be){let ge=f,ie=!1;if(O)if(ge=v.get(be),ge===void 0&&(ge=[],v.set(be,ge)),O.isWebGLMultipleRenderTargets){const ve=O.texture;if(ge.length!==ve.length||ge[0]!==36064){for(let Oe=0,ht=ve.length;Oe<ht;Oe++)ge[Oe]=36064+Oe;ge.length=ve.length,ie=!0}}else ge[0]!==36064&&(ge[0]=36064,ie=!0);else ge[0]!==1029&&(ge[0]=1029,ie=!0);ie&&(t.isWebGL2?n.drawBuffers(ge):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ge))}function We(O){return g!==O?(n.useProgram(O),g=O,!0):!1}const re={[ys]:32774,[FS]:32778,[BS]:32779};if(i)re[wm]=32775,re[Sm]=32776;else{const O=e.get("EXT_blend_minmax");O!==null&&(re[wm]=O.MIN_EXT,re[Sm]=O.MAX_EXT)}const Q={[zS]:0,[US]:1,[VS]:768,[m0]:770,[XS]:776,[$S]:774,[HS]:772,[GS]:769,[g0]:771,[jS]:775,[WS]:773};function me(O,be,ge,ie,ve,Oe,ht,Ze){if(O===nr){y===!0&&(Re(3042),y=!1);return}if(y===!1&&(Fe(3042),y=!0),O!==OS){if(O!==x||Ze!==A){if((_!==ys||E!==ys)&&(n.blendEquation(32774),_=ys,E=ys),Ze)switch(O){case Rs:n.blendFuncSeparate(1,771,1,771);break;case ym:n.blendFunc(1,1);break;case xm:n.blendFuncSeparate(0,769,0,1);break;case _m:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",O);break}else switch(O){case Rs:n.blendFuncSeparate(770,771,1,771);break;case ym:n.blendFunc(770,1);break;case xm:n.blendFuncSeparate(0,769,0,1);break;case _m:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",O);break}w=null,b=null,T=null,S=null,x=O,A=Ze}return}ve=ve||be,Oe=Oe||ge,ht=ht||ie,(be!==_||ve!==E)&&(n.blendEquationSeparate(re[be],re[ve]),_=be,E=ve),(ge!==w||ie!==b||Oe!==T||ht!==S)&&(n.blendFuncSeparate(Q[ge],Q[ie],Q[Oe],Q[ht]),w=ge,b=ie,T=Oe,S=ht),x=O,A=null}function Pe(O,be){O.side===Ji?Re(2884):Fe(2884);let ge=O.side===Bn;be&&(ge=!ge),_e(ge),O.blending===Rs&&O.transparent===!1?me(nr):me(O.blending,O.blendEquation,O.blendSrc,O.blendDst,O.blendEquationAlpha,O.blendSrcAlpha,O.blendDstAlpha,O.premultipliedAlpha),l.setFunc(O.depthFunc),l.setTest(O.depthTest),l.setMask(O.depthWrite),a.setMask(O.colorWrite);const ie=O.stencilWrite;c.setTest(ie),ie&&(c.setMask(O.stencilWriteMask),c.setFunc(O.stencilFunc,O.stencilRef,O.stencilFuncMask),c.setOp(O.stencilFail,O.stencilZFail,O.stencilZPass)),$(O.polygonOffset,O.polygonOffsetFactor,O.polygonOffsetUnits),O.alphaToCoverage===!0?Fe(32926):Re(32926)}function _e(O){L!==O&&(O?n.frontFace(2304):n.frontFace(2305),L=O)}function Ue(O){O!==IS?(Fe(2884),O!==H&&(O===vm?n.cullFace(1029):O===DS?n.cullFace(1028):n.cullFace(1032))):Re(2884),H=O}function V(O){O!==oe&&(Z&&n.lineWidth(O),oe=O)}function $(O,be,ge){O?(Fe(32823),(G!==be||k!==ge)&&(n.polygonOffset(be,ge),G=be,k=ge)):Re(32823)}function ue(O){O?Fe(3089):Re(3089)}function we(O){O===void 0&&(O=33984+j-1),I!==O&&(n.activeTexture(O),I=O)}function P(O,be,ge){ge===void 0&&(I===null?ge=33984+j-1:ge=I);let ie=B[ge];ie===void 0&&(ie={type:void 0,texture:void 0},B[ge]=ie),(ie.type!==O||ie.texture!==be)&&(I!==ge&&(n.activeTexture(ge),I=ge),n.bindTexture(O,be||q[O]),ie.type=O,ie.texture=be)}function C(){const O=B[I];O!==void 0&&O.type!==void 0&&(n.bindTexture(O.type,null),O.type=void 0,O.texture=void 0)}function z(){try{n.compressedTexImage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function K(){try{n.texSubImage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function ae(){try{n.texSubImage3D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function de(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function Se(){try{n.texStorage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function pe(){try{n.texStorage3D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function te(){try{n.texImage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function Te(){try{n.texImage3D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function Le(O){X.equals(O)===!1&&(n.scissor(O.x,O.y,O.z,O.w),X.copy(O))}function Ne(O){he.equals(O)===!1&&(n.viewport(O.x,O.y,O.z,O.w),he.copy(O))}function Ie(O,be){let ge=h.get(be);ge===void 0&&(ge=new WeakMap,h.set(be,ge));let ie=ge.get(O);ie===void 0&&(ie=n.getUniformBlockIndex(be,O.name),ge.set(O,ie))}function Be(O,be){const ie=h.get(be).get(O);u.get(O)!==ie&&(n.uniformBlockBinding(be,ie,O.__bindingPointIndex),u.set(O,ie))}function ze(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},I=null,B={},p={},v=new WeakMap,f=[],g=null,y=!1,x=null,_=null,w=null,b=null,E=null,T=null,S=null,A=!1,L=null,H=null,oe=null,G=null,k=null,X.set(0,0,n.canvas.width,n.canvas.height),he.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Fe,disable:Re,bindFramebuffer:ke,drawBuffers:xe,useProgram:We,setBlending:me,setMaterial:Pe,setFlipSided:_e,setCullFace:Ue,setLineWidth:V,setPolygonOffset:$,setScissorTest:ue,activeTexture:we,bindTexture:P,unbindTexture:C,compressedTexImage2D:z,texImage2D:te,texImage3D:Te,updateUBOMapping:Ie,uniformBlockBinding:Be,texStorage2D:Se,texStorage3D:pe,texSubImage2D:K,texSubImage3D:ae,compressedTexSubImage2D:de,scissor:Le,viewport:Ne,reset:ze}}function VD(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let f;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(P,C){return y?new OffscreenCanvas(P,C):Wl("canvas")}function _(P,C,z,K){let ae=1;if((P.width>K||P.height>K)&&(ae=K/Math.max(P.width,P.height)),ae<1||C===!0)if(typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&P instanceof ImageBitmap){const de=C?Dd:Math.floor,Se=de(ae*P.width),pe=de(ae*P.height);f===void 0&&(f=x(Se,pe));const te=z?x(Se,pe):f;return te.width=Se,te.height=pe,te.getContext("2d").drawImage(P,0,0,Se,pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+Se+"x"+pe+")."),te}else return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P;return P}function w(P){return $m(P.width)&&$m(P.height)}function b(P){return a?!1:P.wrapS!==yn||P.wrapT!==yn||P.minFilter!==Ot&&P.minFilter!==Rt}function E(P,C){return P.generateMipmaps&&C&&P.minFilter!==Ot&&P.minFilter!==Rt}function T(P){n.generateMipmap(P)}function S(P,C,z,K,ae=!1){if(a===!1)return C;if(P!==null){if(n[P]!==void 0)return n[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let de=C;return C===6403&&(z===5126&&(de=33326),z===5131&&(de=33325),z===5121&&(de=33321)),C===33319&&(z===5126&&(de=33328),z===5131&&(de=33327),z===5121&&(de=33323)),C===6408&&(z===5126&&(de=34836),z===5131&&(de=34842),z===5121&&(de=K===_t&&ae===!1?35907:32856),z===32819&&(de=32854),z===32820&&(de=32855)),(de===33325||de===33326||de===33327||de===33328||de===34842||de===34836)&&e.get("EXT_color_buffer_float"),de}function A(P,C,z){return E(P,z)===!0||P.isFramebufferTexture&&P.minFilter!==Ot&&P.minFilter!==Rt?Math.log2(Math.max(C.width,C.height))+1:P.mipmaps!==void 0&&P.mipmaps.length>0?P.mipmaps.length:P.isCompressedTexture&&Array.isArray(P.image)?C.mipmaps.length:1}function L(P){return P===Ot||P===Rd||P===Ld?9728:9729}function H(P){const C=P.target;C.removeEventListener("dispose",H),G(C),C.isVideoTexture&&v.delete(C)}function oe(P){const C=P.target;C.removeEventListener("dispose",oe),j(C)}function G(P){const C=i.get(P);if(C.__webglInit===void 0)return;const z=P.source,K=g.get(z);if(K){const ae=K[C.__cacheKey];ae.usedTimes--,ae.usedTimes===0&&k(P),Object.keys(K).length===0&&g.delete(z)}i.remove(P)}function k(P){const C=i.get(P);n.deleteTexture(C.__webglTexture);const z=P.source,K=g.get(z);delete K[C.__cacheKey],o.memory.textures--}function j(P){const C=P.texture,z=i.get(P),K=i.get(C);if(K.__webglTexture!==void 0&&(n.deleteTexture(K.__webglTexture),o.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let ae=0;ae<6;ae++)n.deleteFramebuffer(z.__webglFramebuffer[ae]),z.__webglDepthbuffer&&n.deleteRenderbuffer(z.__webglDepthbuffer[ae]);else{if(n.deleteFramebuffer(z.__webglFramebuffer),z.__webglDepthbuffer&&n.deleteRenderbuffer(z.__webglDepthbuffer),z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(z.__webglMultisampledFramebuffer),z.__webglColorRenderbuffer)for(let ae=0;ae<z.__webglColorRenderbuffer.length;ae++)z.__webglColorRenderbuffer[ae]&&n.deleteRenderbuffer(z.__webglColorRenderbuffer[ae]);z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(z.__webglDepthRenderbuffer)}if(P.isWebGLMultipleRenderTargets)for(let ae=0,de=C.length;ae<de;ae++){const Se=i.get(C[ae]);Se.__webglTexture&&(n.deleteTexture(Se.__webglTexture),o.memory.textures--),i.remove(C[ae])}i.remove(C),i.remove(P)}let Z=0;function ce(){Z=0}function D(){const P=Z;return P>=l&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+l),Z+=1,P}function I(P){const C=[];return C.push(P.wrapS),C.push(P.wrapT),C.push(P.magFilter),C.push(P.minFilter),C.push(P.anisotropy),C.push(P.internalFormat),C.push(P.format),C.push(P.type),C.push(P.generateMipmaps),C.push(P.premultiplyAlpha),C.push(P.flipY),C.push(P.unpackAlignment),C.push(P.encoding),C.join()}function B(P,C){const z=i.get(P);if(P.isVideoTexture&&ue(P),P.isRenderTargetTexture===!1&&P.version>0&&z.__version!==P.version){const K=P.image;if(K===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(K.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Re(z,P,C);return}}t.bindTexture(3553,z.__webglTexture,33984+C)}function Y(P,C){const z=i.get(P);if(P.version>0&&z.__version!==P.version){Re(z,P,C);return}t.bindTexture(35866,z.__webglTexture,33984+C)}function ee(P,C){const z=i.get(P);if(P.version>0&&z.__version!==P.version){Re(z,P,C);return}t.bindTexture(32879,z.__webglTexture,33984+C)}function X(P,C){const z=i.get(P);if(P.version>0&&z.__version!==P.version){ke(z,P,C);return}t.bindTexture(34067,z.__webglTexture,33984+C)}const he={[Fl]:10497,[yn]:33071,[Bl]:33648},Ce={[Ot]:9728,[Rd]:9984,[Ld]:9986,[Rt]:9729,[v0]:9985,[Ys]:9987};function q(P,C,z){if(z?(n.texParameteri(P,10242,he[C.wrapS]),n.texParameteri(P,10243,he[C.wrapT]),(P===32879||P===35866)&&n.texParameteri(P,32882,he[C.wrapR]),n.texParameteri(P,10240,Ce[C.magFilter]),n.texParameteri(P,10241,Ce[C.minFilter])):(n.texParameteri(P,10242,33071),n.texParameteri(P,10243,33071),(P===32879||P===35866)&&n.texParameteri(P,32882,33071),(C.wrapS!==yn||C.wrapT!==yn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(P,10240,L(C.magFilter)),n.texParameteri(P,10241,L(C.minFilter)),C.minFilter!==Ot&&C.minFilter!==Rt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const K=e.get("EXT_texture_filter_anisotropic");if(C.type===Zi&&e.has("OES_texture_float_linear")===!1||a===!1&&C.type===oa&&e.has("OES_texture_half_float_linear")===!1)return;(C.anisotropy>1||i.get(C).__currentAnisotropy)&&(n.texParameterf(P,K.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(C.anisotropy,r.getMaxAnisotropy())),i.get(C).__currentAnisotropy=C.anisotropy)}}function Fe(P,C){let z=!1;P.__webglInit===void 0&&(P.__webglInit=!0,C.addEventListener("dispose",H));const K=C.source;let ae=g.get(K);ae===void 0&&(ae={},g.set(K,ae));const de=I(C);if(de!==P.__cacheKey){ae[de]===void 0&&(ae[de]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,z=!0),ae[de].usedTimes++;const Se=ae[P.__cacheKey];Se!==void 0&&(ae[P.__cacheKey].usedTimes--,Se.usedTimes===0&&k(C)),P.__cacheKey=de,P.__webglTexture=ae[de].texture}return z}function Re(P,C,z){let K=3553;C.isDataArrayTexture&&(K=35866),C.isData3DTexture&&(K=32879);const ae=Fe(P,C),de=C.source;t.bindTexture(K,P.__webglTexture,33984+z);const Se=i.get(de);if(de.version!==Se.__version||ae===!0){t.activeTexture(33984+z),n.pixelStorei(37440,C.flipY),n.pixelStorei(37441,C.premultiplyAlpha),n.pixelStorei(3317,C.unpackAlignment),n.pixelStorei(37443,0);const pe=b(C)&&w(C.image)===!1;let te=_(C.image,pe,!1,u);te=we(C,te);const Te=w(te)||a,Le=s.convert(C.format,C.encoding);let Ne=s.convert(C.type),Ie=S(C.internalFormat,Le,Ne,C.encoding,C.isVideoTexture);q(K,C,Te);let Be;const ze=C.mipmaps,O=a&&C.isVideoTexture!==!0,be=Se.__version===void 0||ae===!0,ge=A(C,te,Te);if(C.isDepthTexture)Ie=6402,a?C.type===Zi?Ie=36012:C.type===Lr?Ie=33190:C.type===Ls?Ie=35056:Ie=33189:C.type===Zi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),C.format===Gr&&Ie===6402&&C.type!==y0&&C.type!==Lr&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),C.type=Lr,Ne=s.convert(C.type)),C.format===Hs&&Ie===6402&&(Ie=34041,C.type!==Ls&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),C.type=Ls,Ne=s.convert(C.type))),be&&(O?t.texStorage2D(3553,1,Ie,te.width,te.height):t.texImage2D(3553,0,Ie,te.width,te.height,0,Le,Ne,null));else if(C.isDataTexture)if(ze.length>0&&Te){O&&be&&t.texStorage2D(3553,ge,Ie,ze[0].width,ze[0].height);for(let ie=0,ve=ze.length;ie<ve;ie++)Be=ze[ie],O?t.texSubImage2D(3553,ie,0,0,Be.width,Be.height,Le,Ne,Be.data):t.texImage2D(3553,ie,Ie,Be.width,Be.height,0,Le,Ne,Be.data);C.generateMipmaps=!1}else O?(be&&t.texStorage2D(3553,ge,Ie,te.width,te.height),t.texSubImage2D(3553,0,0,0,te.width,te.height,Le,Ne,te.data)):t.texImage2D(3553,0,Ie,te.width,te.height,0,Le,Ne,te.data);else if(C.isCompressedTexture){O&&be&&t.texStorage2D(3553,ge,Ie,ze[0].width,ze[0].height);for(let ie=0,ve=ze.length;ie<ve;ie++)Be=ze[ie],C.format!==ei?Le!==null?O?t.compressedTexSubImage2D(3553,ie,0,0,Be.width,Be.height,Le,Be.data):t.compressedTexImage2D(3553,ie,Ie,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):O?t.texSubImage2D(3553,ie,0,0,Be.width,Be.height,Le,Ne,Be.data):t.texImage2D(3553,ie,Ie,Be.width,Be.height,0,Le,Ne,Be.data)}else if(C.isDataArrayTexture)O?(be&&t.texStorage3D(35866,ge,Ie,te.width,te.height,te.depth),t.texSubImage3D(35866,0,0,0,0,te.width,te.height,te.depth,Le,Ne,te.data)):t.texImage3D(35866,0,Ie,te.width,te.height,te.depth,0,Le,Ne,te.data);else if(C.isData3DTexture)O?(be&&t.texStorage3D(32879,ge,Ie,te.width,te.height,te.depth),t.texSubImage3D(32879,0,0,0,0,te.width,te.height,te.depth,Le,Ne,te.data)):t.texImage3D(32879,0,Ie,te.width,te.height,te.depth,0,Le,Ne,te.data);else if(C.isFramebufferTexture){if(be)if(O)t.texStorage2D(3553,ge,Ie,te.width,te.height);else{let ie=te.width,ve=te.height;for(let Oe=0;Oe<ge;Oe++)t.texImage2D(3553,Oe,Ie,ie,ve,0,Le,Ne,null),ie>>=1,ve>>=1}}else if(ze.length>0&&Te){O&&be&&t.texStorage2D(3553,ge,Ie,ze[0].width,ze[0].height);for(let ie=0,ve=ze.length;ie<ve;ie++)Be=ze[ie],O?t.texSubImage2D(3553,ie,0,0,Le,Ne,Be):t.texImage2D(3553,ie,Ie,Le,Ne,Be);C.generateMipmaps=!1}else O?(be&&t.texStorage2D(3553,ge,Ie,te.width,te.height),t.texSubImage2D(3553,0,0,0,Le,Ne,te)):t.texImage2D(3553,0,Ie,Le,Ne,te);E(C,Te)&&T(K),Se.__version=de.version,C.onUpdate&&C.onUpdate(C)}P.__version=C.version}function ke(P,C,z){if(C.image.length!==6)return;const K=Fe(P,C),ae=C.source;t.bindTexture(34067,P.__webglTexture,33984+z);const de=i.get(ae);if(ae.version!==de.__version||K===!0){t.activeTexture(33984+z),n.pixelStorei(37440,C.flipY),n.pixelStorei(37441,C.premultiplyAlpha),n.pixelStorei(3317,C.unpackAlignment),n.pixelStorei(37443,0);const Se=C.isCompressedTexture||C.image[0].isCompressedTexture,pe=C.image[0]&&C.image[0].isDataTexture,te=[];for(let ie=0;ie<6;ie++)!Se&&!pe?te[ie]=_(C.image[ie],!1,!0,c):te[ie]=pe?C.image[ie].image:C.image[ie],te[ie]=we(C,te[ie]);const Te=te[0],Le=w(Te)||a,Ne=s.convert(C.format,C.encoding),Ie=s.convert(C.type),Be=S(C.internalFormat,Ne,Ie,C.encoding),ze=a&&C.isVideoTexture!==!0,O=de.__version===void 0||K===!0;let be=A(C,Te,Le);q(34067,C,Le);let ge;if(Se){ze&&O&&t.texStorage2D(34067,be,Be,Te.width,Te.height);for(let ie=0;ie<6;ie++){ge=te[ie].mipmaps;for(let ve=0;ve<ge.length;ve++){const Oe=ge[ve];C.format!==ei?Ne!==null?ze?t.compressedTexSubImage2D(34069+ie,ve,0,0,Oe.width,Oe.height,Ne,Oe.data):t.compressedTexImage2D(34069+ie,ve,Be,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ze?t.texSubImage2D(34069+ie,ve,0,0,Oe.width,Oe.height,Ne,Ie,Oe.data):t.texImage2D(34069+ie,ve,Be,Oe.width,Oe.height,0,Ne,Ie,Oe.data)}}}else{ge=C.mipmaps,ze&&O&&(ge.length>0&&be++,t.texStorage2D(34067,be,Be,te[0].width,te[0].height));for(let ie=0;ie<6;ie++)if(pe){ze?t.texSubImage2D(34069+ie,0,0,0,te[ie].width,te[ie].height,Ne,Ie,te[ie].data):t.texImage2D(34069+ie,0,Be,te[ie].width,te[ie].height,0,Ne,Ie,te[ie].data);for(let ve=0;ve<ge.length;ve++){const ht=ge[ve].image[ie].image;ze?t.texSubImage2D(34069+ie,ve+1,0,0,ht.width,ht.height,Ne,Ie,ht.data):t.texImage2D(34069+ie,ve+1,Be,ht.width,ht.height,0,Ne,Ie,ht.data)}}else{ze?t.texSubImage2D(34069+ie,0,0,0,Ne,Ie,te[ie]):t.texImage2D(34069+ie,0,Be,Ne,Ie,te[ie]);for(let ve=0;ve<ge.length;ve++){const Oe=ge[ve];ze?t.texSubImage2D(34069+ie,ve+1,0,0,Ne,Ie,Oe.image[ie]):t.texImage2D(34069+ie,ve+1,Be,Ne,Ie,Oe.image[ie])}}}E(C,Le)&&T(34067),de.__version=ae.version,C.onUpdate&&C.onUpdate(C)}P.__version=C.version}function xe(P,C,z,K,ae){const de=s.convert(z.format,z.encoding),Se=s.convert(z.type),pe=S(z.internalFormat,de,Se,z.encoding);i.get(C).__hasExternalTextures||(ae===32879||ae===35866?t.texImage3D(ae,0,pe,C.width,C.height,C.depth,0,de,Se,null):t.texImage2D(ae,0,pe,C.width,C.height,0,de,Se,null)),t.bindFramebuffer(36160,P),$(C)?d.framebufferTexture2DMultisampleEXT(36160,K,ae,i.get(z).__webglTexture,0,V(C)):n.framebufferTexture2D(36160,K,ae,i.get(z).__webglTexture,0),t.bindFramebuffer(36160,null)}function We(P,C,z){if(n.bindRenderbuffer(36161,P),C.depthBuffer&&!C.stencilBuffer){let K=33189;if(z||$(C)){const ae=C.depthTexture;ae&&ae.isDepthTexture&&(ae.type===Zi?K=36012:ae.type===Lr&&(K=33190));const de=V(C);$(C)?d.renderbufferStorageMultisampleEXT(36161,de,K,C.width,C.height):n.renderbufferStorageMultisample(36161,de,K,C.width,C.height)}else n.renderbufferStorage(36161,K,C.width,C.height);n.framebufferRenderbuffer(36160,36096,36161,P)}else if(C.depthBuffer&&C.stencilBuffer){const K=V(C);z&&$(C)===!1?n.renderbufferStorageMultisample(36161,K,35056,C.width,C.height):$(C)?d.renderbufferStorageMultisampleEXT(36161,K,35056,C.width,C.height):n.renderbufferStorage(36161,34041,C.width,C.height),n.framebufferRenderbuffer(36160,33306,36161,P)}else{const K=C.isWebGLMultipleRenderTargets===!0?C.texture:[C.texture];for(let ae=0;ae<K.length;ae++){const de=K[ae],Se=s.convert(de.format,de.encoding),pe=s.convert(de.type),te=S(de.internalFormat,Se,pe,de.encoding),Te=V(C);z&&$(C)===!1?n.renderbufferStorageMultisample(36161,Te,te,C.width,C.height):$(C)?d.renderbufferStorageMultisampleEXT(36161,Te,te,C.width,C.height):n.renderbufferStorage(36161,te,C.width,C.height)}}n.bindRenderbuffer(36161,null)}function re(P,C){if(C&&C.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,P),!(C.depthTexture&&C.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(C.depthTexture).__webglTexture||C.depthTexture.image.width!==C.width||C.depthTexture.image.height!==C.height)&&(C.depthTexture.image.width=C.width,C.depthTexture.image.height=C.height,C.depthTexture.needsUpdate=!0),B(C.depthTexture,0);const K=i.get(C.depthTexture).__webglTexture,ae=V(C);if(C.depthTexture.format===Gr)$(C)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,K,0,ae):n.framebufferTexture2D(36160,36096,3553,K,0);else if(C.depthTexture.format===Hs)$(C)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,K,0,ae):n.framebufferTexture2D(36160,33306,3553,K,0);else throw new Error("Unknown depthTexture format")}function Q(P){const C=i.get(P),z=P.isWebGLCubeRenderTarget===!0;if(P.depthTexture&&!C.__autoAllocateDepthBuffer){if(z)throw new Error("target.depthTexture not supported in Cube render targets");re(C.__webglFramebuffer,P)}else if(z){C.__webglDepthbuffer=[];for(let K=0;K<6;K++)t.bindFramebuffer(36160,C.__webglFramebuffer[K]),C.__webglDepthbuffer[K]=n.createRenderbuffer(),We(C.__webglDepthbuffer[K],P,!1)}else t.bindFramebuffer(36160,C.__webglFramebuffer),C.__webglDepthbuffer=n.createRenderbuffer(),We(C.__webglDepthbuffer,P,!1);t.bindFramebuffer(36160,null)}function me(P,C,z){const K=i.get(P);C!==void 0&&xe(K.__webglFramebuffer,P,P.texture,36064,3553),z!==void 0&&Q(P)}function Pe(P){const C=P.texture,z=i.get(P),K=i.get(C);P.addEventListener("dispose",oe),P.isWebGLMultipleRenderTargets!==!0&&(K.__webglTexture===void 0&&(K.__webglTexture=n.createTexture()),K.__version=C.version,o.memory.textures++);const ae=P.isWebGLCubeRenderTarget===!0,de=P.isWebGLMultipleRenderTargets===!0,Se=w(P)||a;if(ae){z.__webglFramebuffer=[];for(let pe=0;pe<6;pe++)z.__webglFramebuffer[pe]=n.createFramebuffer()}else{if(z.__webglFramebuffer=n.createFramebuffer(),de)if(r.drawBuffers){const pe=P.texture;for(let te=0,Te=pe.length;te<Te;te++){const Le=i.get(pe[te]);Le.__webglTexture===void 0&&(Le.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&P.samples>0&&$(P)===!1){const pe=de?C:[C];z.__webglMultisampledFramebuffer=n.createFramebuffer(),z.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,z.__webglMultisampledFramebuffer);for(let te=0;te<pe.length;te++){const Te=pe[te];z.__webglColorRenderbuffer[te]=n.createRenderbuffer(),n.bindRenderbuffer(36161,z.__webglColorRenderbuffer[te]);const Le=s.convert(Te.format,Te.encoding),Ne=s.convert(Te.type),Ie=S(Te.internalFormat,Le,Ne,Te.encoding,P.isXRRenderTarget===!0),Be=V(P);n.renderbufferStorageMultisample(36161,Be,Ie,P.width,P.height),n.framebufferRenderbuffer(36160,36064+te,36161,z.__webglColorRenderbuffer[te])}n.bindRenderbuffer(36161,null),P.depthBuffer&&(z.__webglDepthRenderbuffer=n.createRenderbuffer(),We(z.__webglDepthRenderbuffer,P,!0)),t.bindFramebuffer(36160,null)}}if(ae){t.bindTexture(34067,K.__webglTexture),q(34067,C,Se);for(let pe=0;pe<6;pe++)xe(z.__webglFramebuffer[pe],P,C,36064,34069+pe);E(C,Se)&&T(34067),t.unbindTexture()}else if(de){const pe=P.texture;for(let te=0,Te=pe.length;te<Te;te++){const Le=pe[te],Ne=i.get(Le);t.bindTexture(3553,Ne.__webglTexture),q(3553,Le,Se),xe(z.__webglFramebuffer,P,Le,36064+te,3553),E(Le,Se)&&T(3553)}t.unbindTexture()}else{let pe=3553;(P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(a?pe=P.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(pe,K.__webglTexture),q(pe,C,Se),xe(z.__webglFramebuffer,P,C,36064,pe),E(C,Se)&&T(pe),t.unbindTexture()}P.depthBuffer&&Q(P)}function _e(P){const C=w(P)||a,z=P.isWebGLMultipleRenderTargets===!0?P.texture:[P.texture];for(let K=0,ae=z.length;K<ae;K++){const de=z[K];if(E(de,C)){const Se=P.isWebGLCubeRenderTarget?34067:3553,pe=i.get(de).__webglTexture;t.bindTexture(Se,pe),T(Se),t.unbindTexture()}}}function Ue(P){if(a&&P.samples>0&&$(P)===!1){const C=P.isWebGLMultipleRenderTargets?P.texture:[P.texture],z=P.width,K=P.height;let ae=16384;const de=[],Se=P.stencilBuffer?33306:36096,pe=i.get(P),te=P.isWebGLMultipleRenderTargets===!0;if(te)for(let Te=0;Te<C.length;Te++)t.bindFramebuffer(36160,pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Te,36161,null),t.bindFramebuffer(36160,pe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Te,3553,null,0);t.bindFramebuffer(36008,pe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,pe.__webglFramebuffer);for(let Te=0;Te<C.length;Te++){de.push(36064+Te),P.depthBuffer&&de.push(Se);const Le=pe.__ignoreDepthValues!==void 0?pe.__ignoreDepthValues:!1;if(Le===!1&&(P.depthBuffer&&(ae|=256),P.stencilBuffer&&(ae|=1024)),te&&n.framebufferRenderbuffer(36008,36064,36161,pe.__webglColorRenderbuffer[Te]),Le===!0&&(n.invalidateFramebuffer(36008,[Se]),n.invalidateFramebuffer(36009,[Se])),te){const Ne=i.get(C[Te]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,Ne,0)}n.blitFramebuffer(0,0,z,K,0,0,z,K,ae,9728),p&&n.invalidateFramebuffer(36008,de)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),te)for(let Te=0;Te<C.length;Te++){t.bindFramebuffer(36160,pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Te,36161,pe.__webglColorRenderbuffer[Te]);const Le=i.get(C[Te]).__webglTexture;t.bindFramebuffer(36160,pe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Te,3553,Le,0)}t.bindFramebuffer(36009,pe.__webglMultisampledFramebuffer)}}function V(P){return Math.min(h,P.samples)}function $(P){const C=i.get(P);return a&&P.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&C.__useRenderToTexture!==!1}function ue(P){const C=o.render.frame;v.get(P)!==C&&(v.set(P,C),P.update())}function we(P,C){const z=P.encoding,K=P.format,ae=P.type;return P.isCompressedTexture===!0||P.isVideoTexture===!0||P.format===Id||z!==Yr&&(z===_t?a===!1?e.has("EXT_sRGB")===!0&&K===ei?(P.format=Id,P.minFilter=Rt,P.generateMipmaps=!1):C=w0.sRGBToLinear(C):(K!==ei||ae!==qr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",z)),C}this.allocateTextureUnit=D,this.resetTextureUnits=ce,this.setTexture2D=B,this.setTexture2DArray=Y,this.setTexture3D=ee,this.setTextureCube=X,this.rebindTextures=me,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=_e,this.updateMultisampleRenderTarget=Ue,this.setupDepthRenderbuffer=Q,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=$}function Vb(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===qr)return 5121;if(s===db)return 32819;if(s===hb)return 32820;if(s===lb)return 5120;if(s===cb)return 5122;if(s===y0)return 5123;if(s===ub)return 5124;if(s===Lr)return 5125;if(s===Zi)return 5126;if(s===oa)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===fb)return 6406;if(s===ei)return 6408;if(s===mb)return 6409;if(s===gb)return 6410;if(s===Gr)return 6402;if(s===Hs)return 34041;if(s===vb)return 6403;if(s===pb)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===Id)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===yb)return 36244;if(s===xb)return 33319;if(s===_b)return 33320;if(s===wb)return 36249;if(s===qu||s===Yu||s===Ju||s===Zu)if(o===_t)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===qu)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Yu)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Ju)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Zu)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===qu)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Yu)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Ju)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Zu)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===bm||s===Mm||s===Em||s===Cm)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===bm)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Mm)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Em)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Cm)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Sb)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Tm||s===Am)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Tm)return o===_t?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Am)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Pm||s===Nm||s===Rm||s===Lm||s===Im||s===Dm||s===km||s===Om||s===Fm||s===Bm||s===zm||s===Um||s===Vm||s===Gm)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Pm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Nm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Rm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Lm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Im)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Dm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===km)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Om)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Fm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Bm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===zm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Um)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Vm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Gm)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Hm)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Hm)return o===_t?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Ls?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class Gb extends nn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Uo extends it{constructor(){super(),this.isGroup=!0,this.type="Group"}}const GD={type:"move"};class sp{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Uo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Uo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Uo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const f of e.hand.values()){const g=t.getJointPose(f,i);if(c.joints[f.jointName]===void 0){const x=new Uo;x.matrixAutoUpdate=!1,x.visible=!1,c.joints[f.jointName]=x,c.add(x)}const y=c.joints[f.jointName];g!==null&&(y.matrix.fromArray(g.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=g.radius),y.visible=g!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],d=u.position.distanceTo(h.position),p=.02,v=.005;c.inputState.pinching&&d>p+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(GD)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class Hb extends Ht{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Gr,u!==Gr&&u!==Hs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Gr&&(i=Lr),i===void 0&&u===Hs&&(i=Ls),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Ot,this.minFilter=l!==void 0?l:Ot,this.flipY=!1,this.generateMipmaps=!1}}class HD extends dr{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,h=null,d=null,p=null;const v=t.getContextAttributes();let f=null,g=null;const y=[],x=[],_=new nn;_.layers.enable(1),_.viewport=new lt;const w=new nn;w.layers.enable(2),w.viewport=new lt;const b=[_,w],E=new Gb;E.layers.enable(1),E.layers.enable(2);let T=null,S=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(I){let B=y[I];return B===void 0&&(B=new sp,y[I]=B),B.getTargetRaySpace()},this.getControllerGrip=function(I){let B=y[I];return B===void 0&&(B=new sp,y[I]=B),B.getGripSpace()},this.getHand=function(I){let B=y[I];return B===void 0&&(B=new sp,y[I]=B),B.getHandSpace()};function A(I){const B=x.indexOf(I.inputSource);if(B===-1)return;const Y=y[B];Y!==void 0&&Y.dispatchEvent({type:I.type,data:I.inputSource})}function L(){r.removeEventListener("select",A),r.removeEventListener("selectstart",A),r.removeEventListener("selectend",A),r.removeEventListener("squeeze",A),r.removeEventListener("squeezestart",A),r.removeEventListener("squeezeend",A),r.removeEventListener("end",L),r.removeEventListener("inputsourceschange",H);for(let I=0;I<y.length;I++){const B=x[I];B!==null&&(x[I]=null,y[I].disconnect(B))}T=null,S=null,e.setRenderTarget(f),d=null,h=null,u=null,r=null,g=null,D.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(I){s=I,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(I){a=I,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(I){l=I},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(I){if(r=I,r!==null){if(f=e.getRenderTarget(),r.addEventListener("select",A),r.addEventListener("selectstart",A),r.addEventListener("selectend",A),r.addEventListener("squeeze",A),r.addEventListener("squeezestart",A),r.addEventListener("squeezeend",A),r.addEventListener("end",L),r.addEventListener("inputsourceschange",H),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const B={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(r,t,B),r.updateRenderState({baseLayer:d}),g=new oi(d.framebufferWidth,d.framebufferHeight,{format:ei,type:qr,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let B=null,Y=null,ee=null;v.depth&&(ee=v.stencil?35056:33190,B=v.stencil?Hs:Gr,Y=v.stencil?Ls:Lr);const X={colorFormat:32856,depthFormat:ee,scaleFactor:s};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(X),r.updateRenderState({layers:[h]}),g=new oi(h.textureWidth,h.textureHeight,{format:ei,type:qr,depthTexture:new Hb(h.textureWidth,h.textureHeight,Y,void 0,void 0,void 0,void 0,void 0,void 0,B),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const he=e.properties.get(g);he.__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await r.requestReferenceSpace(a),D.setContext(r),D.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function H(I){for(let B=0;B<I.removed.length;B++){const Y=I.removed[B],ee=x.indexOf(Y);ee>=0&&(x[ee]=null,y[ee].dispatchEvent({type:"disconnected",data:Y}))}for(let B=0;B<I.added.length;B++){const Y=I.added[B];let ee=x.indexOf(Y);if(ee===-1){for(let he=0;he<y.length;he++)if(he>=x.length){x.push(Y),ee=he;break}else if(x[he]===null){x[he]=Y,ee=he;break}if(ee===-1)break}const X=y[ee];X&&X.dispatchEvent({type:"connected",data:Y})}}const oe=new N,G=new N;function k(I,B,Y){oe.setFromMatrixPosition(B.matrixWorld),G.setFromMatrixPosition(Y.matrixWorld);const ee=oe.distanceTo(G),X=B.projectionMatrix.elements,he=Y.projectionMatrix.elements,Ce=X[14]/(X[10]-1),q=X[14]/(X[10]+1),Fe=(X[9]+1)/X[5],Re=(X[9]-1)/X[5],ke=(X[8]-1)/X[0],xe=(he[8]+1)/he[0],We=Ce*ke,re=Ce*xe,Q=ee/(-ke+xe),me=Q*-ke;B.matrixWorld.decompose(I.position,I.quaternion,I.scale),I.translateX(me),I.translateZ(Q),I.matrixWorld.compose(I.position,I.quaternion,I.scale),I.matrixWorldInverse.copy(I.matrixWorld).invert();const Pe=Ce+Q,_e=q+Q,Ue=We-me,V=re+(ee-me),$=Fe*q/_e*Pe,ue=Re*q/_e*Pe;I.projectionMatrix.makePerspective(Ue,V,$,ue,Pe,_e)}function j(I,B){B===null?I.matrixWorld.copy(I.matrix):I.matrixWorld.multiplyMatrices(B.matrixWorld,I.matrix),I.matrixWorldInverse.copy(I.matrixWorld).invert()}this.updateCamera=function(I){if(r===null)return;E.near=w.near=_.near=I.near,E.far=w.far=_.far=I.far,(T!==E.near||S!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),T=E.near,S=E.far);const B=I.parent,Y=E.cameras;j(E,B);for(let X=0;X<Y.length;X++)j(Y[X],B);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),I.matrix.copy(E.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale);const ee=I.children;for(let X=0,he=ee.length;X<he;X++)ee[X].updateMatrixWorld(!0);Y.length===2?k(E,_,w):E.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(I){h!==null&&(h.fixedFoveation=I),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=I)};let Z=null;function ce(I,B){if(c=B.getViewerPose(l||o),p=B,c!==null){const Y=c.views;d!==null&&(e.setRenderTargetFramebuffer(g,d.framebuffer),e.setRenderTarget(g));let ee=!1;Y.length!==E.cameras.length&&(E.cameras.length=0,ee=!0);for(let X=0;X<Y.length;X++){const he=Y[X];let Ce=null;if(d!==null)Ce=d.getViewport(he);else{const Fe=u.getViewSubImage(h,he);Ce=Fe.viewport,X===0&&(e.setRenderTargetTextures(g,Fe.colorTexture,h.ignoreDepthValues?void 0:Fe.depthStencilTexture),e.setRenderTarget(g))}let q=b[X];q===void 0&&(q=new nn,q.layers.enable(X),q.viewport=new lt,b[X]=q),q.matrix.fromArray(he.transform.matrix),q.projectionMatrix.fromArray(he.projectionMatrix),q.viewport.set(Ce.x,Ce.y,Ce.width,Ce.height),X===0&&E.matrix.copy(q.matrix),ee===!0&&E.cameras.push(q)}}for(let Y=0;Y<y.length;Y++){const ee=x[Y],X=y[Y];ee!==null&&X!==void 0&&X.update(ee,B,l||o)}Z&&Z(I,B),p=null}const D=new Ob;D.setAnimationLoop(ce),this.setAnimationLoop=function(I){Z=I},this.dispose=function(){}}}function WD(n,e){function t(f,g){f.fogColor.value.copy(g.color),g.isFog?(f.fogNear.value=g.near,f.fogFar.value=g.far):g.isFogExp2&&(f.fogDensity.value=g.density)}function i(f,g,y,x,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(f,g):g.isMeshToonMaterial?(r(f,g),u(f,g)):g.isMeshPhongMaterial?(r(f,g),c(f,g)):g.isMeshStandardMaterial?(r(f,g),h(f,g),g.isMeshPhysicalMaterial&&d(f,g,_)):g.isMeshMatcapMaterial?(r(f,g),p(f,g)):g.isMeshDepthMaterial?r(f,g):g.isMeshDistanceMaterial?(r(f,g),v(f,g)):g.isMeshNormalMaterial?r(f,g):g.isLineBasicMaterial?(s(f,g),g.isLineDashedMaterial&&o(f,g)):g.isPointsMaterial?a(f,g,y,x):g.isSpriteMaterial?l(f,g):g.isShadowMaterial?(f.color.value.copy(g.color),f.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function r(f,g){f.opacity.value=g.opacity,g.color&&f.diffuse.value.copy(g.color),g.emissive&&f.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.bumpMap&&(f.bumpMap.value=g.bumpMap,f.bumpScale.value=g.bumpScale,g.side===Bn&&(f.bumpScale.value*=-1)),g.displacementMap&&(f.displacementMap.value=g.displacementMap,f.displacementScale.value=g.displacementScale,f.displacementBias.value=g.displacementBias),g.emissiveMap&&(f.emissiveMap.value=g.emissiveMap),g.normalMap&&(f.normalMap.value=g.normalMap,f.normalScale.value.copy(g.normalScale),g.side===Bn&&f.normalScale.value.negate()),g.specularMap&&(f.specularMap.value=g.specularMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);const y=e.get(g).envMap;if(y&&(f.envMap.value=y,f.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,f.reflectivity.value=g.reflectivity,f.ior.value=g.ior,f.refractionRatio.value=g.refractionRatio),g.lightMap){f.lightMap.value=g.lightMap;const w=n.physicallyCorrectLights!==!0?Math.PI:1;f.lightMapIntensity.value=g.lightMapIntensity*w}g.aoMap&&(f.aoMap.value=g.aoMap,f.aoMapIntensity.value=g.aoMapIntensity);let x;g.map?x=g.map:g.specularMap?x=g.specularMap:g.displacementMap?x=g.displacementMap:g.normalMap?x=g.normalMap:g.bumpMap?x=g.bumpMap:g.roughnessMap?x=g.roughnessMap:g.metalnessMap?x=g.metalnessMap:g.alphaMap?x=g.alphaMap:g.emissiveMap?x=g.emissiveMap:g.clearcoatMap?x=g.clearcoatMap:g.clearcoatNormalMap?x=g.clearcoatNormalMap:g.clearcoatRoughnessMap?x=g.clearcoatRoughnessMap:g.iridescenceMap?x=g.iridescenceMap:g.iridescenceThicknessMap?x=g.iridescenceThicknessMap:g.specularIntensityMap?x=g.specularIntensityMap:g.specularColorMap?x=g.specularColorMap:g.transmissionMap?x=g.transmissionMap:g.thicknessMap?x=g.thicknessMap:g.sheenColorMap?x=g.sheenColorMap:g.sheenRoughnessMap&&(x=g.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),f.uvTransform.value.copy(x.matrix));let _;g.aoMap?_=g.aoMap:g.lightMap&&(_=g.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),f.uv2Transform.value.copy(_.matrix))}function s(f,g){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity}function o(f,g){f.dashSize.value=g.dashSize,f.totalSize.value=g.dashSize+g.gapSize,f.scale.value=g.scale}function a(f,g,y,x){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,f.size.value=g.size*y,f.scale.value=x*.5,g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let _;g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),f.uvTransform.value.copy(_.matrix))}function l(f,g){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,f.rotation.value=g.rotation,g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let y;g.map?y=g.map:g.alphaMap&&(y=g.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),f.uvTransform.value.copy(y.matrix))}function c(f,g){f.specular.value.copy(g.specular),f.shininess.value=Math.max(g.shininess,1e-4)}function u(f,g){g.gradientMap&&(f.gradientMap.value=g.gradientMap)}function h(f,g){f.roughness.value=g.roughness,f.metalness.value=g.metalness,g.roughnessMap&&(f.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(f.metalnessMap.value=g.metalnessMap),e.get(g).envMap&&(f.envMapIntensity.value=g.envMapIntensity)}function d(f,g,y){f.ior.value=g.ior,g.sheen>0&&(f.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),f.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(f.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(f.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(f.clearcoat.value=g.clearcoat,f.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(f.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(f.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(f.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),f.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===Bn&&f.clearcoatNormalScale.value.negate())),g.iridescence>0&&(f.iridescence.value=g.iridescence,f.iridescenceIOR.value=g.iridescenceIOR,f.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],f.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(f.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(f.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(f.transmission.value=g.transmission,f.transmissionSamplerMap.value=y.texture,f.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(f.transmissionMap.value=g.transmissionMap),f.thickness.value=g.thickness,g.thicknessMap&&(f.thicknessMap.value=g.thicknessMap),f.attenuationDistance.value=g.attenuationDistance,f.attenuationColor.value.copy(g.attenuationColor)),f.specularIntensity.value=g.specularIntensity,f.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(f.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(f.specularColorMap.value=g.specularColorMap)}function p(f,g){g.matcap&&(f.matcap.value=g.matcap)}function v(f,g){f.referencePosition.value.copy(g.referencePosition),f.nearDistance.value=g.nearDistance,f.farDistance.value=g.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function $D(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(x,_){const w=_.program;i.uniformBlockBinding(x,w)}function c(x,_){let w=r[x.id];w===void 0&&(v(x),w=u(x),r[x.id]=w,x.addEventListener("dispose",g));const b=_.program;i.updateUBOMapping(x,b);const E=e.render.frame;s[x.id]!==E&&(d(x),s[x.id]=E)}function u(x){const _=h();x.__bindingPointIndex=_;const w=n.createBuffer(),b=x.__size,E=x.usage;return n.bindBuffer(35345,w),n.bufferData(35345,b,E),n.bindBuffer(35345,null),n.bindBufferBase(35345,_,w),w}function h(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(x){const _=r[x.id],w=x.uniforms,b=x.__cache;n.bindBuffer(35345,_);for(let E=0,T=w.length;E<T;E++){const S=w[E];if(p(S,E,b)===!0){const A=S.value,L=S.__offset;typeof A=="number"?(S.__data[0]=A,n.bufferSubData(35345,L,S.__data)):(S.value.isMatrix3?(S.__data[0]=S.value.elements[0],S.__data[1]=S.value.elements[1],S.__data[2]=S.value.elements[2],S.__data[3]=S.value.elements[0],S.__data[4]=S.value.elements[3],S.__data[5]=S.value.elements[4],S.__data[6]=S.value.elements[5],S.__data[7]=S.value.elements[0],S.__data[8]=S.value.elements[6],S.__data[9]=S.value.elements[7],S.__data[10]=S.value.elements[8],S.__data[11]=S.value.elements[0]):A.toArray(S.__data),n.bufferSubData(35345,L,S.__data))}}n.bindBuffer(35345,null)}function p(x,_,w){const b=x.value;if(w[_]===void 0)return typeof b=="number"?w[_]=b:w[_]=b.clone(),!0;if(typeof b=="number"){if(w[_]!==b)return w[_]=b,!0}else{const E=w[_];if(E.equals(b)===!1)return E.copy(b),!0}return!1}function v(x){const _=x.uniforms;let w=0;const b=16;let E=0;for(let T=0,S=_.length;T<S;T++){const A=_[T],L=f(A);if(A.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),A.__offset=w,T>0){E=w%b;const H=b-E;E!==0&&H-L.boundary<0&&(w+=b-E,A.__offset=w)}w+=L.storage}return E=w%b,E>0&&(w+=b-E),x.__size=w,x.__cache={},this}function f(x){const _=x.value,w={boundary:0,storage:0};return typeof _=="number"?(w.boundary=4,w.storage=4):_.isVector2?(w.boundary=8,w.storage=8):_.isVector3||_.isColor?(w.boundary=16,w.storage=12):_.isVector4?(w.boundary=16,w.storage=16):_.isMatrix3?(w.boundary=48,w.storage=48):_.isMatrix4?(w.boundary=64,w.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),w}function g(x){const _=x.target;_.removeEventListener("dispose",g);const w=o.indexOf(_.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(r[_.id]),delete r[_.id],delete s[_.id]}function y(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:c,dispose:y}}function jD(){const n=Wl("canvas");return n.style.display="block",n}function Wb(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:jD(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let h=null,d=null;const p=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Yr,this.physicallyCorrectLights=!1,this.toneMapping=ki,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const f=this;let g=!1,y=0,x=0,_=null,w=-1,b=null;const E=new lt,T=new lt;let S=null,A=e.width,L=e.height,H=1,oe=null,G=null;const k=new lt(0,0,A,L),j=new lt(0,0,A,L);let Z=!1;const ce=new kh;let D=!1,I=!1,B=null;const Y=new He,ee=new le,X=new N,he={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ce(){return _===null?H:1}let q=t;function Fe(R,W){for(let J=0;J<R.length;J++){const U=R[J],ne=e.getContext(U,W);if(ne!==null)return ne}return null}try{const R={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ph}`),e.addEventListener("webglcontextlost",Ie,!1),e.addEventListener("webglcontextrestored",Be,!1),e.addEventListener("webglcontextcreationerror",ze,!1),q===null){const W=["webgl2","webgl","experimental-webgl"];if(f.isWebGL1Renderer===!0&&W.shift(),q=Fe(W,R),q===null)throw Fe(W)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(R){throw console.error("THREE.WebGLRenderer: "+R.message),R}let Re,ke,xe,We,re,Q,me,Pe,_e,Ue,V,$,ue,we,P,C,z,K,ae,de,Se,pe,te,Te;function Le(){Re=new lI(q),ke=new nI(q,Re,n),Re.init(ke),pe=new Vb(q,Re,ke),xe=new UD(q,Re,ke),We=new dI,re=new AD,Q=new VD(q,Re,xe,re,ke,pe,We),me=new rI(f),Pe=new aI(f),_e=new SN(q,ke),te=new eI(q,Re,_e,ke),Ue=new cI(q,_e,We,te),V=new mI(q,Ue,_e,We),ae=new pI(q,ke,Q),C=new iI(re),$=new TD(f,me,Pe,Re,ke,te,C),ue=new WD(f,re),we=new ND,P=new OD(Re,ke),K=new QL(f,me,xe,V,u,o),z=new zD(f,V,ke),Te=new $D(q,We,ke,xe),de=new tI(q,Re,We,ke),Se=new uI(q,Re,We,ke),We.programs=$.programs,f.capabilities=ke,f.extensions=Re,f.properties=re,f.renderLists=we,f.shadowMap=z,f.state=xe,f.info=We}Le();const Ne=new HD(f,q);this.xr=Ne,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const R=Re.get("WEBGL_lose_context");R&&R.loseContext()},this.forceContextRestore=function(){const R=Re.get("WEBGL_lose_context");R&&R.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(R){R!==void 0&&(H=R,this.setSize(A,L,!1))},this.getSize=function(R){return R.set(A,L)},this.setSize=function(R,W,J){if(Ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}A=R,L=W,e.width=Math.floor(R*H),e.height=Math.floor(W*H),J!==!1&&(e.style.width=R+"px",e.style.height=W+"px"),this.setViewport(0,0,R,W)},this.getDrawingBufferSize=function(R){return R.set(A*H,L*H).floor()},this.setDrawingBufferSize=function(R,W,J){A=R,L=W,H=J,e.width=Math.floor(R*J),e.height=Math.floor(W*J),this.setViewport(0,0,R,W)},this.getCurrentViewport=function(R){return R.copy(E)},this.getViewport=function(R){return R.copy(k)},this.setViewport=function(R,W,J,U){R.isVector4?k.set(R.x,R.y,R.z,R.w):k.set(R,W,J,U),xe.viewport(E.copy(k).multiplyScalar(H).floor())},this.getScissor=function(R){return R.copy(j)},this.setScissor=function(R,W,J,U){R.isVector4?j.set(R.x,R.y,R.z,R.w):j.set(R,W,J,U),xe.scissor(T.copy(j).multiplyScalar(H).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(R){xe.setScissorTest(Z=R)},this.setOpaqueSort=function(R){oe=R},this.setTransparentSort=function(R){G=R},this.getClearColor=function(R){return R.copy(K.getClearColor())},this.setClearColor=function(){K.setClearColor.apply(K,arguments)},this.getClearAlpha=function(){return K.getClearAlpha()},this.setClearAlpha=function(){K.setClearAlpha.apply(K,arguments)},this.clear=function(R=!0,W=!0,J=!0){let U=0;R&&(U|=16384),W&&(U|=256),J&&(U|=1024),q.clear(U)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ie,!1),e.removeEventListener("webglcontextrestored",Be,!1),e.removeEventListener("webglcontextcreationerror",ze,!1),we.dispose(),P.dispose(),re.dispose(),me.dispose(),Pe.dispose(),V.dispose(),te.dispose(),Te.dispose(),$.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",Oe),Ne.removeEventListener("sessionend",ht),B&&(B.dispose(),B=null),Ze.stop()};function Ie(R){R.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Be(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const R=We.autoReset,W=z.enabled,J=z.autoUpdate,U=z.needsUpdate,ne=z.type;Le(),We.autoReset=R,z.enabled=W,z.autoUpdate=J,z.needsUpdate=U,z.type=ne}function ze(R){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",R.statusMessage)}function O(R){const W=R.target;W.removeEventListener("dispose",O),be(W)}function be(R){ge(R),re.remove(R)}function ge(R){const W=re.get(R).programs;W!==void 0&&(W.forEach(function(J){$.releaseProgram(J)}),R.isShaderMaterial&&$.releaseShaderCache(R))}this.renderBufferDirect=function(R,W,J,U,ne,De){W===null&&(W=he);const Ve=ne.isMesh&&ne.matrixWorld.determinant()<0,Xe=g2(R,W,J,U,ne);xe.setMaterial(U,Ve);let Ge=J.index;const at=J.attributes.position;if(Ge===null){if(at===void 0||at.count===0)return}else if(Ge.count===0)return;let Ke=1;U.wireframe===!0&&(Ge=Ue.getWireframeAttribute(J),Ke=2),te.setup(ne,U,Xe,J,Ge);let Qe,Ct=de;Ge!==null&&(Qe=_e.get(Ge),Ct=Se,Ct.setIndex(Qe));const ss=Ge!==null?Ge.count:at.count,to=J.drawRange.start*Ke,no=J.drawRange.count*Ke,Mi=De!==null?De.start*Ke:0,st=De!==null?De.count*Ke:1/0,io=Math.max(to,Mi),It=Math.min(ss,to+no,Mi+st)-1,jn=Math.max(0,It-io+1);if(jn!==0){if(ne.isMesh)U.wireframe===!0?(xe.setLineWidth(U.wireframeLinewidth*Ce()),Ct.setMode(1)):Ct.setMode(4);else if(ne.isLine){let pr=U.linewidth;pr===void 0&&(pr=1),xe.setLineWidth(pr*Ce()),ne.isLineSegments?Ct.setMode(1):ne.isLineLoop?Ct.setMode(2):Ct.setMode(3)}else ne.isPoints?Ct.setMode(0):ne.isSprite&&Ct.setMode(4);if(ne.isInstancedMesh)Ct.renderInstances(io,jn,ne.count);else if(J.isInstancedBufferGeometry){const pr=Math.min(J.instanceCount,J._maxInstanceCount);Ct.renderInstances(io,jn,pr)}else Ct.render(io,jn)}},this.compile=function(R,W){function J(U,ne,De){U.transparent===!0&&U.side===Ji?(U.side=Bn,U.needsUpdate=!0,Tc(U,ne,De),U.side=Gs,U.needsUpdate=!0,Tc(U,ne,De),U.side=Ji):Tc(U,ne,De)}d=P.get(R),d.init(),v.push(d),R.traverseVisible(function(U){U.isLight&&U.layers.test(W.layers)&&(d.pushLight(U),U.castShadow&&d.pushShadow(U))}),d.setupLights(f.physicallyCorrectLights),R.traverse(function(U){const ne=U.material;if(ne)if(Array.isArray(ne))for(let De=0;De<ne.length;De++){const Ve=ne[De];J(Ve,R,U)}else J(ne,R,U)}),v.pop(),d=null};let ie=null;function ve(R){ie&&ie(R)}function Oe(){Ze.stop()}function ht(){Ze.start()}const Ze=new Ob;Ze.setAnimationLoop(ve),typeof self<"u"&&Ze.setContext(self),this.setAnimationLoop=function(R){ie=R,Ne.setAnimationLoop(R),R===null?Ze.stop():Ze.start()},Ne.addEventListener("sessionstart",Oe),Ne.addEventListener("sessionend",ht),this.render=function(R,W){if(W!==void 0&&W.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;R.matrixWorldAutoUpdate===!0&&R.updateMatrixWorld(),W.parent===null&&W.matrixWorldAutoUpdate===!0&&W.updateMatrixWorld(),Ne.enabled===!0&&Ne.isPresenting===!0&&(Ne.cameraAutoUpdate===!0&&Ne.updateCamera(W),W=Ne.getCamera()),R.isScene===!0&&R.onBeforeRender(f,R,W,_),d=P.get(R,v.length),d.init(),v.push(d),Y.multiplyMatrices(W.projectionMatrix,W.matrixWorldInverse),ce.setFromProjectionMatrix(Y),I=this.localClippingEnabled,D=C.init(this.clippingPlanes,I,W),h=we.get(R,p.length),h.init(),p.push(h),jt(R,W,0,f.sortObjects),h.finish(),f.sortObjects===!0&&h.sort(oe,G),D===!0&&C.beginShadows();const J=d.state.shadowsArray;if(z.render(J,R,W),D===!0&&C.endShadows(),this.info.autoReset===!0&&this.info.reset(),K.render(h,R),d.setupLights(f.physicallyCorrectLights),W.isArrayCamera){const U=W.cameras;for(let ne=0,De=U.length;ne<De;ne++){const Ve=U[ne];gt(h,R,Ve,Ve.viewport)}}else gt(h,R,W);_!==null&&(Q.updateMultisampleRenderTarget(_),Q.updateRenderTargetMipmap(_)),R.isScene===!0&&R.onAfterRender(f,R,W),te.resetDefaultState(),w=-1,b=null,v.pop(),v.length>0?d=v[v.length-1]:d=null,p.pop(),p.length>0?h=p[p.length-1]:h=null};function jt(R,W,J,U){if(R.visible===!1)return;if(R.layers.test(W.layers)){if(R.isGroup)J=R.renderOrder;else if(R.isLOD)R.autoUpdate===!0&&R.update(W);else if(R.isLight)d.pushLight(R),R.castShadow&&d.pushShadow(R);else if(R.isSprite){if(!R.frustumCulled||ce.intersectsSprite(R)){U&&X.setFromMatrixPosition(R.matrixWorld).applyMatrix4(Y);const Ve=V.update(R),Xe=R.material;Xe.visible&&h.push(R,Ve,Xe,J,X.z,null)}}else if((R.isMesh||R.isLine||R.isPoints)&&(R.isSkinnedMesh&&R.skeleton.frame!==We.render.frame&&(R.skeleton.update(),R.skeleton.frame=We.render.frame),!R.frustumCulled||ce.intersectsObject(R))){U&&X.setFromMatrixPosition(R.matrixWorld).applyMatrix4(Y);const Ve=V.update(R),Xe=R.material;if(Array.isArray(Xe)){const Ge=Ve.groups;for(let at=0,Ke=Ge.length;at<Ke;at++){const Qe=Ge[at],Ct=Xe[Qe.materialIndex];Ct&&Ct.visible&&h.push(R,Ve,Ct,J,X.z,Qe)}}else Xe.visible&&h.push(R,Ve,Xe,J,X.z,null)}}const De=R.children;for(let Ve=0,Xe=De.length;Ve<Xe;Ve++)jt(De[Ve],W,J,U)}function gt(R,W,J,U){const ne=R.opaque,De=R.transmissive,Ve=R.transparent;d.setupLightsView(J),De.length>0&&li(ne,W,J),U&&xe.viewport(E.copy(U)),ne.length>0&&$n(ne,W,J),De.length>0&&$n(De,W,J),Ve.length>0&&$n(Ve,W,J),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function li(R,W,J){const U=ke.isWebGL2;B===null&&(B=new oi(1,1,{generateMipmaps:!0,type:Re.has("EXT_color_buffer_half_float")?oa:qr,minFilter:Ys,samples:U&&s===!0?4:0})),f.getDrawingBufferSize(ee),U?B.setSize(ee.x,ee.y):B.setSize(Dd(ee.x),Dd(ee.y));const ne=f.getRenderTarget();f.setRenderTarget(B),f.clear();const De=f.toneMapping;f.toneMapping=ki,$n(R,W,J),f.toneMapping=De,Q.updateMultisampleRenderTarget(B),Q.updateRenderTargetMipmap(B),f.setRenderTarget(ne)}function $n(R,W,J){const U=W.isScene===!0?W.overrideMaterial:null;for(let ne=0,De=R.length;ne<De;ne++){const Ve=R[ne],Xe=Ve.object,Ge=Ve.geometry,at=U===null?Ve.material:U,Ke=Ve.group;Xe.layers.test(J.layers)&&m2(Xe,W,J,Ge,at,Ke)}}function m2(R,W,J,U,ne,De){R.onBeforeRender(f,W,J,U,ne,De),R.modelViewMatrix.multiplyMatrices(J.matrixWorldInverse,R.matrixWorld),R.normalMatrix.getNormalMatrix(R.modelViewMatrix),ne.onBeforeRender(f,W,J,U,R,De),ne.transparent===!0&&ne.side===Ji?(ne.side=Bn,ne.needsUpdate=!0,f.renderBufferDirect(J,W,U,ne,R,De),ne.side=Gs,ne.needsUpdate=!0,f.renderBufferDirect(J,W,U,ne,R,De),ne.side=Ji):f.renderBufferDirect(J,W,U,ne,R,De),R.onAfterRender(f,W,J,U,ne,De)}function Tc(R,W,J){W.isScene!==!0&&(W=he);const U=re.get(R),ne=d.state.lights,De=d.state.shadowsArray,Ve=ne.state.version,Xe=$.getParameters(R,ne.state,De,W,J),Ge=$.getProgramCacheKey(Xe);let at=U.programs;U.environment=R.isMeshStandardMaterial?W.environment:null,U.fog=W.fog,U.envMap=(R.isMeshStandardMaterial?Pe:me).get(R.envMap||U.environment),at===void 0&&(R.addEventListener("dispose",O),at=new Map,U.programs=at);let Ke=at.get(Ge);if(Ke!==void 0){if(U.currentProgram===Ke&&U.lightsStateVersion===Ve)return iv(R,Xe),Ke}else Xe.uniforms=$.getUniforms(R),R.onBuild(J,Xe,f),R.onBeforeCompile(Xe,f),Ke=$.acquireProgram(Xe,Ge),at.set(Ge,Ke),U.uniforms=Xe.uniforms;const Qe=U.uniforms;(!R.isShaderMaterial&&!R.isRawShaderMaterial||R.clipping===!0)&&(Qe.clippingPlanes=C.uniform),iv(R,Xe),U.needsLights=y2(R),U.lightsStateVersion=Ve,U.needsLights&&(Qe.ambientLightColor.value=ne.state.ambient,Qe.lightProbe.value=ne.state.probe,Qe.directionalLights.value=ne.state.directional,Qe.directionalLightShadows.value=ne.state.directionalShadow,Qe.spotLights.value=ne.state.spot,Qe.spotLightShadows.value=ne.state.spotShadow,Qe.rectAreaLights.value=ne.state.rectArea,Qe.ltc_1.value=ne.state.rectAreaLTC1,Qe.ltc_2.value=ne.state.rectAreaLTC2,Qe.pointLights.value=ne.state.point,Qe.pointLightShadows.value=ne.state.pointShadow,Qe.hemisphereLights.value=ne.state.hemi,Qe.directionalShadowMap.value=ne.state.directionalShadowMap,Qe.directionalShadowMatrix.value=ne.state.directionalShadowMatrix,Qe.spotShadowMap.value=ne.state.spotShadowMap,Qe.spotLightMatrix.value=ne.state.spotLightMatrix,Qe.spotLightMap.value=ne.state.spotLightMap,Qe.pointShadowMap.value=ne.state.pointShadowMap,Qe.pointShadowMatrix.value=ne.state.pointShadowMatrix);const Ct=Ke.getUniforms(),ss=td.seqWithValue(Ct.seq,Qe);return U.currentProgram=Ke,U.uniformsList=ss,Ke}function iv(R,W){const J=re.get(R);J.outputEncoding=W.outputEncoding,J.instancing=W.instancing,J.skinning=W.skinning,J.morphTargets=W.morphTargets,J.morphNormals=W.morphNormals,J.morphColors=W.morphColors,J.morphTargetsCount=W.morphTargetsCount,J.numClippingPlanes=W.numClippingPlanes,J.numIntersection=W.numClipIntersection,J.vertexAlphas=W.vertexAlphas,J.vertexTangents=W.vertexTangents,J.toneMapping=W.toneMapping}function g2(R,W,J,U,ne){W.isScene!==!0&&(W=he),Q.resetTextureUnits();const De=W.fog,Ve=U.isMeshStandardMaterial?W.environment:null,Xe=_===null?f.outputEncoding:_.isXRRenderTarget===!0?_.texture.encoding:Yr,Ge=(U.isMeshStandardMaterial?Pe:me).get(U.envMap||Ve),at=U.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,Ke=!!U.normalMap&&!!J.attributes.tangent,Qe=!!J.morphAttributes.position,Ct=!!J.morphAttributes.normal,ss=!!J.morphAttributes.color,to=U.toneMapped?f.toneMapping:ki,no=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,Mi=no!==void 0?no.length:0,st=re.get(U),io=d.state.lights;if(D===!0&&(I===!0||R!==b)){const Rn=R===b&&U.id===w;C.setState(U,R,Rn)}let It=!1;U.version===st.__version?(st.needsLights&&st.lightsStateVersion!==io.state.version||st.outputEncoding!==Xe||ne.isInstancedMesh&&st.instancing===!1||!ne.isInstancedMesh&&st.instancing===!0||ne.isSkinnedMesh&&st.skinning===!1||!ne.isSkinnedMesh&&st.skinning===!0||st.envMap!==Ge||U.fog===!0&&st.fog!==De||st.numClippingPlanes!==void 0&&(st.numClippingPlanes!==C.numPlanes||st.numIntersection!==C.numIntersection)||st.vertexAlphas!==at||st.vertexTangents!==Ke||st.morphTargets!==Qe||st.morphNormals!==Ct||st.morphColors!==ss||st.toneMapping!==to||ke.isWebGL2===!0&&st.morphTargetsCount!==Mi)&&(It=!0):(It=!0,st.__version=U.version);let jn=st.currentProgram;It===!0&&(jn=Tc(U,W,ne));let pr=!1,Ea=!1,Jh=!1;const mn=jn.getUniforms(),os=st.uniforms;if(xe.useProgram(jn.program)&&(pr=!0,Ea=!0,Jh=!0),U.id!==w&&(w=U.id,Ea=!0),pr||b!==R){if(mn.setValue(q,"projectionMatrix",R.projectionMatrix),ke.logarithmicDepthBuffer&&mn.setValue(q,"logDepthBufFC",2/(Math.log(R.far+1)/Math.LN2)),b!==R&&(b=R,Ea=!0,Jh=!0),U.isShaderMaterial||U.isMeshPhongMaterial||U.isMeshToonMaterial||U.isMeshStandardMaterial||U.envMap){const Rn=mn.map.cameraPosition;Rn!==void 0&&Rn.setValue(q,X.setFromMatrixPosition(R.matrixWorld))}(U.isMeshPhongMaterial||U.isMeshToonMaterial||U.isMeshLambertMaterial||U.isMeshBasicMaterial||U.isMeshStandardMaterial||U.isShaderMaterial)&&mn.setValue(q,"isOrthographic",R.isOrthographicCamera===!0),(U.isMeshPhongMaterial||U.isMeshToonMaterial||U.isMeshLambertMaterial||U.isMeshBasicMaterial||U.isMeshStandardMaterial||U.isShaderMaterial||U.isShadowMaterial||ne.isSkinnedMesh)&&mn.setValue(q,"viewMatrix",R.matrixWorldInverse)}if(ne.isSkinnedMesh){mn.setOptional(q,ne,"bindMatrix"),mn.setOptional(q,ne,"bindMatrixInverse");const Rn=ne.skeleton;Rn&&(ke.floatVertexTextures?(Rn.boneTexture===null&&Rn.computeBoneTexture(),mn.setValue(q,"boneTexture",Rn.boneTexture,Q),mn.setValue(q,"boneTextureSize",Rn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Zh=J.morphAttributes;if((Zh.position!==void 0||Zh.normal!==void 0||Zh.color!==void 0&&ke.isWebGL2===!0)&&ae.update(ne,J,U,jn),(Ea||st.receiveShadow!==ne.receiveShadow)&&(st.receiveShadow=ne.receiveShadow,mn.setValue(q,"receiveShadow",ne.receiveShadow)),U.isMeshGouraudMaterial&&U.envMap!==null&&(os.envMap.value=Ge,os.flipEnvMap.value=Ge.isCubeTexture&&Ge.isRenderTargetTexture===!1?-1:1),Ea&&(mn.setValue(q,"toneMappingExposure",f.toneMappingExposure),st.needsLights&&v2(os,Jh),De&&U.fog===!0&&ue.refreshFogUniforms(os,De),ue.refreshMaterialUniforms(os,U,H,L,B),td.upload(q,st.uniformsList,os,Q)),U.isShaderMaterial&&U.uniformsNeedUpdate===!0&&(td.upload(q,st.uniformsList,os,Q),U.uniformsNeedUpdate=!1),U.isSpriteMaterial&&mn.setValue(q,"center",ne.center),mn.setValue(q,"modelViewMatrix",ne.modelViewMatrix),mn.setValue(q,"normalMatrix",ne.normalMatrix),mn.setValue(q,"modelMatrix",ne.matrixWorld),U.isShaderMaterial||U.isRawShaderMaterial){const Rn=U.uniformsGroups;for(let Kh=0,x2=Rn.length;Kh<x2;Kh++)if(ke.isWebGL2){const rv=Rn[Kh];Te.update(rv,jn),Te.bind(rv,jn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return jn}function v2(R,W){R.ambientLightColor.needsUpdate=W,R.lightProbe.needsUpdate=W,R.directionalLights.needsUpdate=W,R.directionalLightShadows.needsUpdate=W,R.pointLights.needsUpdate=W,R.pointLightShadows.needsUpdate=W,R.spotLights.needsUpdate=W,R.spotLightShadows.needsUpdate=W,R.rectAreaLights.needsUpdate=W,R.hemisphereLights.needsUpdate=W}function y2(R){return R.isMeshLambertMaterial||R.isMeshToonMaterial||R.isMeshPhongMaterial||R.isMeshStandardMaterial||R.isShadowMaterial||R.isShaderMaterial&&R.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(R,W,J){re.get(R.texture).__webglTexture=W,re.get(R.depthTexture).__webglTexture=J;const U=re.get(R);U.__hasExternalTextures=!0,U.__hasExternalTextures&&(U.__autoAllocateDepthBuffer=J===void 0,U.__autoAllocateDepthBuffer||Re.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),U.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(R,W){const J=re.get(R);J.__webglFramebuffer=W,J.__useDefaultFramebuffer=W===void 0},this.setRenderTarget=function(R,W=0,J=0){_=R,y=W,x=J;let U=!0;if(R){const Ge=re.get(R);Ge.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(36160,null),U=!1):Ge.__webglFramebuffer===void 0?Q.setupRenderTarget(R):Ge.__hasExternalTextures&&Q.rebindTextures(R,re.get(R.texture).__webglTexture,re.get(R.depthTexture).__webglTexture)}let ne=null,De=!1,Ve=!1;if(R){const Ge=R.texture;(Ge.isData3DTexture||Ge.isDataArrayTexture)&&(Ve=!0);const at=re.get(R).__webglFramebuffer;R.isWebGLCubeRenderTarget?(ne=at[W],De=!0):ke.isWebGL2&&R.samples>0&&Q.useMultisampledRTT(R)===!1?ne=re.get(R).__webglMultisampledFramebuffer:ne=at,E.copy(R.viewport),T.copy(R.scissor),S=R.scissorTest}else E.copy(k).multiplyScalar(H).floor(),T.copy(j).multiplyScalar(H).floor(),S=Z;if(xe.bindFramebuffer(36160,ne)&&ke.drawBuffers&&U&&xe.drawBuffers(R,ne),xe.viewport(E),xe.scissor(T),xe.setScissorTest(S),De){const Ge=re.get(R.texture);q.framebufferTexture2D(36160,36064,34069+W,Ge.__webglTexture,J)}else if(Ve){const Ge=re.get(R.texture),at=W||0;q.framebufferTextureLayer(36160,36064,Ge.__webglTexture,J||0,at)}w=-1},this.readRenderTargetPixels=function(R,W,J,U,ne,De,Ve){if(!(R&&R.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Xe=re.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget&&Ve!==void 0&&(Xe=Xe[Ve]),Xe){xe.bindFramebuffer(36160,Xe);try{const Ge=R.texture,at=Ge.format,Ke=Ge.type;if(at!==ei&&pe.convert(at)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Qe=Ke===oa&&(Re.has("EXT_color_buffer_half_float")||ke.isWebGL2&&Re.has("EXT_color_buffer_float"));if(Ke!==qr&&pe.convert(Ke)!==q.getParameter(35738)&&!(Ke===Zi&&(ke.isWebGL2||Re.has("OES_texture_float")||Re.has("WEBGL_color_buffer_float")))&&!Qe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}W>=0&&W<=R.width-U&&J>=0&&J<=R.height-ne&&q.readPixels(W,J,U,ne,pe.convert(at),pe.convert(Ke),De)}finally{const Ge=_!==null?re.get(_).__webglFramebuffer:null;xe.bindFramebuffer(36160,Ge)}}},this.copyFramebufferToTexture=function(R,W,J=0){const U=Math.pow(2,-J),ne=Math.floor(W.image.width*U),De=Math.floor(W.image.height*U);Q.setTexture2D(W,0),q.copyTexSubImage2D(3553,J,0,0,R.x,R.y,ne,De),xe.unbindTexture()},this.copyTextureToTexture=function(R,W,J,U=0){const ne=W.image.width,De=W.image.height,Ve=pe.convert(J.format),Xe=pe.convert(J.type);Q.setTexture2D(J,0),q.pixelStorei(37440,J.flipY),q.pixelStorei(37441,J.premultiplyAlpha),q.pixelStorei(3317,J.unpackAlignment),W.isDataTexture?q.texSubImage2D(3553,U,R.x,R.y,ne,De,Ve,Xe,W.image.data):W.isCompressedTexture?q.compressedTexSubImage2D(3553,U,R.x,R.y,W.mipmaps[0].width,W.mipmaps[0].height,Ve,W.mipmaps[0].data):q.texSubImage2D(3553,U,R.x,R.y,Ve,Xe,W.image),U===0&&J.generateMipmaps&&q.generateMipmap(3553),xe.unbindTexture()},this.copyTextureToTexture3D=function(R,W,J,U,ne=0){if(f.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const De=R.max.x-R.min.x+1,Ve=R.max.y-R.min.y+1,Xe=R.max.z-R.min.z+1,Ge=pe.convert(U.format),at=pe.convert(U.type);let Ke;if(U.isData3DTexture)Q.setTexture3D(U,0),Ke=32879;else if(U.isDataArrayTexture)Q.setTexture2DArray(U,0),Ke=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,U.flipY),q.pixelStorei(37441,U.premultiplyAlpha),q.pixelStorei(3317,U.unpackAlignment);const Qe=q.getParameter(3314),Ct=q.getParameter(32878),ss=q.getParameter(3316),to=q.getParameter(3315),no=q.getParameter(32877),Mi=J.isCompressedTexture?J.mipmaps[0]:J.image;q.pixelStorei(3314,Mi.width),q.pixelStorei(32878,Mi.height),q.pixelStorei(3316,R.min.x),q.pixelStorei(3315,R.min.y),q.pixelStorei(32877,R.min.z),J.isDataTexture||J.isData3DTexture?q.texSubImage3D(Ke,ne,W.x,W.y,W.z,De,Ve,Xe,Ge,at,Mi.data):J.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(Ke,ne,W.x,W.y,W.z,De,Ve,Xe,Ge,Mi.data)):q.texSubImage3D(Ke,ne,W.x,W.y,W.z,De,Ve,Xe,Ge,at,Mi),q.pixelStorei(3314,Qe),q.pixelStorei(32878,Ct),q.pixelStorei(3316,ss),q.pixelStorei(3315,to),q.pixelStorei(32877,no),ne===0&&U.generateMipmaps&&q.generateMipmap(Ke),xe.unbindTexture()},this.initTexture=function(R){R.isCubeTexture?Q.setTextureCube(R,0):R.isData3DTexture?Q.setTexture3D(R,0):R.isDataArrayTexture?Q.setTexture2DArray(R,0):Q.setTexture2D(R,0),xe.unbindTexture()},this.resetState=function(){y=0,x=0,_=null,xe.reset(),te.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class $b extends Wb{}$b.prototype.isWebGL1Renderer=!0;class Bh{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ee(e),this.density=t}clone(){return new Bh(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class zh{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ee(e),this.near=t,this.far=i}clone(){return new zh(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class jb extends it{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Uh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Gl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=zn()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const gn=new N;class Ws{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)gn.fromBufferAttribute(this,t),gn.applyMatrix4(e),this.setXYZ(t,gn.x,gn.y,gn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)gn.fromBufferAttribute(this,t),gn.applyNormalMatrix(e),this.setXYZ(t,gn.x,gn.y,gn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)gn.fromBufferAttribute(this,t),gn.transformDirection(e),this.setXYZ(t,gn.x,gn.y,gn.z);return this}setX(e,t){return this.normalized&&(t=ft(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ft(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ft(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ft(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ki(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ki(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ki(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ki(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array),r=ft(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array),r=ft(r,this.array),s=ft(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new pt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ws(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class T0 extends pn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ee(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _o;const Ua=new N,wo=new N,So=new N,bo=new le,Va=new le,Xb=new He,hu=new N,Ga=new N,fu=new N,Ex=new le,op=new le,Cx=new le;class qb extends it{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",_o===void 0){_o=new $e;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Uh(t,5);_o.setIndex([0,1,2,0,2,3]),_o.setAttribute("position",new Ws(i,3,0,!1)),_o.setAttribute("uv",new Ws(i,2,3,!1))}this.geometry=_o,this.material=e!==void 0?e:new T0,this.center=new le(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wo.setFromMatrixScale(this.matrixWorld),Xb.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),So.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wo.multiplyScalar(-So.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;pu(hu.set(-.5,-.5,0),So,o,wo,r,s),pu(Ga.set(.5,-.5,0),So,o,wo,r,s),pu(fu.set(.5,.5,0),So,o,wo,r,s),Ex.set(0,0),op.set(1,0),Cx.set(1,1);let a=e.ray.intersectTriangle(hu,Ga,fu,!1,Ua);if(a===null&&(pu(Ga.set(-.5,.5,0),So,o,wo,r,s),op.set(0,1),a=e.ray.intersectTriangle(hu,fu,Ga,!1,Ua),a===null))return;const l=e.ray.origin.distanceTo(Ua);l<e.near||l>e.far||t.push({distance:l,point:Ua.clone(),uv:Kn.getUV(Ua,hu,Ga,fu,Ex,op,Cx,new le),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function pu(n,e,t,i,r,s){bo.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Va.x=s*bo.x-r*bo.y,Va.y=r*bo.x+s*bo.y):Va.copy(bo),n.copy(e),n.x+=Va.x,n.y+=Va.y,n.applyMatrix4(Xb)}const mu=new N,Tx=new N;class Yb extends it{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r&&!(e<t[i].distance);i++);return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){mu.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(mu);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){mu.setFromMatrixPosition(e.matrixWorld),Tx.setFromMatrixPosition(this.matrixWorld);const i=mu.distanceTo(Tx)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s&&i>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const Ax=new N,Px=new lt,Nx=new lt,XD=new N,Rx=new He;class Jb extends rn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new He,this.bindMatrixInverse=new He}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new lt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;Px.fromBufferAttribute(r.attributes.skinIndex,e),Nx.fromBufferAttribute(r.attributes.skinWeight,e),Ax.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Nx.getComponent(s);if(o!==0){const a=Px.getComponent(s);Rx.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(XD.copy(Ax).applyMatrix4(Rx),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class A0 extends it{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Jo extends Ht{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Ot,u=Ot,h,d){super(null,o,a,l,c,u,r,s,h,d),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Lx=new He,qD=new He;class Vh{constructor(e=[],t=[]){this.uuid=zn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new He)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new He;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:qD;Lx.multiplyMatrices(a,t[s]),Lx.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Vh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Nb(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Jo(t,e,e,ei,Zi);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new A0),this.bones.push(o),this.boneInverses.push(new He().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class la extends pt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ix=new He,Dx=new He,gu=[],Ha=new rn;class Zb extends rn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new la(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ha.geometry=this.geometry,Ha.material=this.material,Ha.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,Ix),Dx.multiplyMatrices(i,Ix),Ha.matrixWorld=Dx,Ha.raycast(e,gu);for(let o=0,a=gu.length;o<a;o++){const l=gu[o];l.instanceId=s,l.object=this,t.push(l)}gu.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new la(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Sn extends pn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ee(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const kx=new N,Ox=new N,Fx=new He,ap=new uc,vu=new Zs;class Jr extends it{constructor(e=new $e,t=new Sn){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)kx.fromBufferAttribute(t,r-1),Ox.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=kx.distanceTo(Ox);e.setAttribute("lineDistance",new Ae(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),vu.copy(i.boundingSphere),vu.applyMatrix4(r),vu.radius+=s,e.ray.intersectsSphere(vu)===!1)return;Fx.copy(r).invert(),ap.copy(e.ray).applyMatrix4(Fx);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new N,u=new N,h=new N,d=new N,p=this.isLineSegments?2:1,v=i.index,g=i.attributes.position;if(v!==null){const y=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let _=y,w=x-1;_<w;_+=p){const b=v.getX(_),E=v.getX(_+1);if(c.fromBufferAttribute(g,b),u.fromBufferAttribute(g,E),ap.distanceSqToSegment(c,u,d,h)>l)continue;d.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(d);S<e.near||S>e.far||t.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let _=y,w=x-1;_<w;_+=p){if(c.fromBufferAttribute(g,_),u.fromBufferAttribute(g,_+1),ap.distanceSqToSegment(c,u,d,h)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const Bx=new N,zx=new N;class Bi extends Jr{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Bx.fromBufferAttribute(t,r),zx.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Bx.distanceTo(zx);e.setAttribute("lineDistance",new Ae(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Kb extends Jr{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class P0 extends pn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ee(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Ux=new He,qm=new uc,yu=new Zs,xu=new N;class Qb extends it{constructor(e=new $e,t=new P0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),yu.copy(i.boundingSphere),yu.applyMatrix4(r),yu.radius+=s,e.ray.intersectsSphere(yu)===!1)return;Ux.copy(r).invert(),qm.copy(e.ray).applyMatrix4(Ux);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const d=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let v=d,f=p;v<f;v++){const g=c.getX(v);xu.fromBufferAttribute(h,g),Vx(xu,g,l,r,e,t,this)}}else{const d=Math.max(0,o.start),p=Math.min(h.count,o.start+o.count);for(let v=d,f=p;v<f;v++)xu.fromBufferAttribute(h,v),Vx(xu,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Vx(n,e,t,i,r,s,o){const a=qm.distanceSqToPoint(n);if(a<t){const l=new N;qm.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class YD extends Ht{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Rt,this.magFilter=s!==void 0?s:Rt,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class JD extends Ht{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=Ot,this.minFilter=Ot,this.generateMipmaps=!1,this.needsUpdate=!0}}class eM extends Ht{constructor(e,t,i,r,s,o,a,l,c,u,h,d){super(null,o,a,l,c,u,r,s,h,d),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ZD extends Ht{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Si{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],d=i[r+1]-u,p=(o-u)/d;return(r+p)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new le:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new N,r=[],s=[],o=[],a=new N,l=new He;for(let p=0;p<=e;p++){const v=p/e;r[p]=this.getTangentAt(v,new N)}s[0]=new N,o[0]=new N;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),h=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),d<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Lt(r[p-1].dot(r[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,v))}o[p].crossVectors(r[p],s[p])}if(t===!0){let p=Math.acos(Lt(s[0].dot(s[e]),-1,1));p/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],p*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Gh extends Si{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new le,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*h+this.aX,c=d*h+p*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class tM extends Gh{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function N0(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+h)+(l-a)/h;d*=u,p*=u,r(o,a,d,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const _u=new N,lp=new N0,cp=new N0,up=new N0;class nM extends Si{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new N){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(_u.subVectors(r[0],r[1]).add(r[0]),c=_u);const h=r[a%s],d=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(_u.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=_u),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),p),f=Math.pow(h.distanceToSquared(d),p),g=Math.pow(d.distanceToSquared(u),p);f<1e-4&&(f=1),v<1e-4&&(v=f),g<1e-4&&(g=f),lp.initNonuniformCatmullRom(c.x,h.x,d.x,u.x,v,f,g),cp.initNonuniformCatmullRom(c.y,h.y,d.y,u.y,v,f,g),up.initNonuniformCatmullRom(c.z,h.z,d.z,u.z,v,f,g)}else this.curveType==="catmullrom"&&(lp.initCatmullRom(c.x,h.x,d.x,u.x,this.tension),cp.initCatmullRom(c.y,h.y,d.y,u.y,this.tension),up.initCatmullRom(c.z,h.z,d.z,u.z,this.tension));return i.set(lp.calc(l),cp.calc(l),up.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new N().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Gx(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function KD(n,e){const t=1-n;return t*t*e}function QD(n,e){return 2*(1-n)*n*e}function ek(n,e){return n*n*e}function ul(n,e,t,i){return KD(n,e)+QD(n,t)+ek(n,i)}function tk(n,e){const t=1-n;return t*t*t*e}function nk(n,e){const t=1-n;return 3*t*t*n*e}function ik(n,e){return 3*(1-n)*n*n*e}function rk(n,e){return n*n*n*e}function dl(n,e,t,i,r){return tk(n,e)+nk(n,t)+ik(n,i)+rk(n,r)}class R0 extends Si{constructor(e=new le,t=new le,i=new le,r=new le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new le){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(dl(e,r.x,s.x,o.x,a.x),dl(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class iM extends Si{constructor(e=new N,t=new N,i=new N,r=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(dl(e,r.x,s.x,o.x,a.x),dl(e,r.y,s.y,o.y,a.y),dl(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Hh extends Si{constructor(e=new le,t=new le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new le){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new le;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rM extends Si{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class L0 extends Si{constructor(e=new le,t=new le,i=new le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new le){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(ul(e,r.x,s.x,o.x),ul(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class I0 extends Si{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(ul(e,r.x,s.x,o.x),ul(e,r.y,s.y,o.y),ul(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D0 extends Si{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new le){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(Gx(a,l.x,c.x,u.x,h.x),Gx(a,l.y,c.y,u.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new le().fromArray(r))}return this}}var k0=Object.freeze({__proto__:null,ArcCurve:tM,CatmullRomCurve3:nM,CubicBezierCurve:R0,CubicBezierCurve3:iM,EllipseCurve:Gh,LineCurve:Hh,LineCurve3:rM,QuadraticBezierCurve:L0,QuadraticBezierCurve3:I0,SplineCurve:D0});class sM extends Si{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Hh(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new k0[r.type]().fromJSON(r))}return this}}class $l extends sM{constructor(e){super(),this.type="Path",this.currentPoint=new le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Hh(this.currentPoint.clone(),new le(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new L0(this.currentPoint.clone(),new le(e,t),new le(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new R0(this.currentPoint.clone(),new le(e,t),new le(i,r),new le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new D0(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Gh(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class xa extends $e{constructor(e=[new le(0,-.5),new le(.5,0),new le(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Lt(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,h=new N,d=new le,p=new N,v=new N,f=new N;let g=0,y=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:g=e[x+1].x-e[x].x,y=e[x+1].y-e[x].y,p.x=y*1,p.y=-g,p.z=y*0,f.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(f.x,f.y,f.z);break;default:g=e[x+1].x-e[x].x,y=e[x+1].y-e[x].y,p.x=y*1,p.y=-g,p.z=y*0,v.copy(p),p.x+=f.x,p.y+=f.y,p.z+=f.z,p.normalize(),l.push(p.x,p.y,p.z),f.copy(v)}for(let x=0;x<=t;x++){const _=i+x*u*r,w=Math.sin(_),b=Math.cos(_);for(let E=0;E<=e.length-1;E++){h.x=e[E].x*w,h.y=e[E].y,h.z=e[E].x*b,o.push(h.x,h.y,h.z),d.x=x/t,d.y=E/(e.length-1),a.push(d.x,d.y);const T=l[3*E+0]*w,S=l[3*E+1],A=l[3*E+0]*b;c.push(T,S,A)}}for(let x=0;x<t;x++)for(let _=0;_<e.length-1;_++){const w=_+x*e.length,b=w,E=w+e.length,T=w+e.length+1,S=w+1;s.push(b,E,S),s.push(T,S,E)}this.setIndex(s),this.setAttribute("position",new Ae(o,3)),this.setAttribute("uv",new Ae(a,2)),this.setAttribute("normal",new Ae(c,3))}static fromJSON(e){return new xa(e.points,e.segments,e.phiStart,e.phiLength)}}class hc extends xa{constructor(e=1,t=1,i=4,r=8){const s=new $l;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new hc(e.radius,e.length,e.capSegments,e.radialSegments)}}class fc extends $e{constructor(e=1,t=8,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new N,u=new le;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,d=3;h<=t;h++,d+=3){const p=i+h/t*r;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Ae(o,3)),this.setAttribute("normal",new Ae(a,3)),this.setAttribute("uv",new Ae(l,2))}static fromJSON(e){return new fc(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ks extends $e{constructor(e=1,t=1,i=1,r=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],h=[],d=[],p=[];let v=0;const f=[],g=i/2;let y=0;x(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new Ae(h,3)),this.setAttribute("normal",new Ae(d,3)),this.setAttribute("uv",new Ae(p,2));function x(){const w=new N,b=new N;let E=0;const T=(t-e)/i;for(let S=0;S<=s;S++){const A=[],L=S/s,H=L*(t-e)+e;for(let oe=0;oe<=r;oe++){const G=oe/r,k=G*l+a,j=Math.sin(k),Z=Math.cos(k);b.x=H*j,b.y=-L*i+g,b.z=H*Z,h.push(b.x,b.y,b.z),w.set(j,T,Z).normalize(),d.push(w.x,w.y,w.z),p.push(G,1-L),A.push(v++)}f.push(A)}for(let S=0;S<r;S++)for(let A=0;A<s;A++){const L=f[A][S],H=f[A+1][S],oe=f[A+1][S+1],G=f[A][S+1];u.push(L,H,G),u.push(H,oe,G),E+=6}c.addGroup(y,E,0),y+=E}function _(w){const b=v,E=new le,T=new N;let S=0;const A=w===!0?e:t,L=w===!0?1:-1;for(let oe=1;oe<=r;oe++)h.push(0,g*L,0),d.push(0,L,0),p.push(.5,.5),v++;const H=v;for(let oe=0;oe<=r;oe++){const k=oe/r*l+a,j=Math.cos(k),Z=Math.sin(k);T.x=A*Z,T.y=g*L,T.z=A*j,h.push(T.x,T.y,T.z),d.push(0,L,0),E.x=j*.5+.5,E.y=Z*.5*L+.5,p.push(E.x,E.y),v++}for(let oe=0;oe<r;oe++){const G=b+oe,k=H+oe;w===!0?u.push(k,k+1,G):u.push(k+1,k,G),S+=3}c.addGroup(y,S,w===!0?1:2),y+=S}}static fromJSON(e){return new Ks(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pc extends Ks{constructor(e=1,t=1,i=8,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new pc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hr extends $e{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new Ae(s,3)),this.setAttribute("normal",new Ae(s.slice(),3)),this.setAttribute("uv",new Ae(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const _=new N,w=new N,b=new N;for(let E=0;E<t.length;E+=3)p(t[E+0],_),p(t[E+1],w),p(t[E+2],b),l(_,w,b,x)}function l(x,_,w,b){const E=b+1,T=[];for(let S=0;S<=E;S++){T[S]=[];const A=x.clone().lerp(w,S/E),L=_.clone().lerp(w,S/E),H=E-S;for(let oe=0;oe<=H;oe++)oe===0&&S===E?T[S][oe]=A:T[S][oe]=A.clone().lerp(L,oe/H)}for(let S=0;S<E;S++)for(let A=0;A<2*(E-S)-1;A++){const L=Math.floor(A/2);A%2===0?(d(T[S][L+1]),d(T[S+1][L]),d(T[S][L])):(d(T[S][L+1]),d(T[S+1][L+1]),d(T[S+1][L]))}}function c(x){const _=new N;for(let w=0;w<s.length;w+=3)_.x=s[w+0],_.y=s[w+1],_.z=s[w+2],_.normalize().multiplyScalar(x),s[w+0]=_.x,s[w+1]=_.y,s[w+2]=_.z}function u(){const x=new N;for(let _=0;_<s.length;_+=3){x.x=s[_+0],x.y=s[_+1],x.z=s[_+2];const w=g(x)/2/Math.PI+.5,b=y(x)/Math.PI+.5;o.push(w,1-b)}v(),h()}function h(){for(let x=0;x<o.length;x+=6){const _=o[x+0],w=o[x+2],b=o[x+4],E=Math.max(_,w,b),T=Math.min(_,w,b);E>.9&&T<.1&&(_<.2&&(o[x+0]+=1),w<.2&&(o[x+2]+=1),b<.2&&(o[x+4]+=1))}}function d(x){s.push(x.x,x.y,x.z)}function p(x,_){const w=x*3;_.x=e[w+0],_.y=e[w+1],_.z=e[w+2]}function v(){const x=new N,_=new N,w=new N,b=new N,E=new le,T=new le,S=new le;for(let A=0,L=0;A<s.length;A+=9,L+=6){x.set(s[A+0],s[A+1],s[A+2]),_.set(s[A+3],s[A+4],s[A+5]),w.set(s[A+6],s[A+7],s[A+8]),E.set(o[L+0],o[L+1]),T.set(o[L+2],o[L+3]),S.set(o[L+4],o[L+5]),b.copy(x).add(_).add(w).divideScalar(3);const H=g(b);f(E,L+0,x,H),f(T,L+2,_,H),f(S,L+4,w,H)}}function f(x,_,w,b){b<0&&x.x===1&&(o[_]=x.x-1),w.x===0&&w.z===0&&(o[_]=b/2/Math.PI+.5)}function g(x){return Math.atan2(x.z,-x.x)}function y(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new hr(e.vertices,e.indices,e.radius,e.details)}}class mc extends hr{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mc(e.radius,e.detail)}}const wu=new N,Su=new N,dp=new N,bu=new Kn;class oM extends $e{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Is*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),d={},p=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:f,b:g,c:y}=bu;if(f.fromBufferAttribute(a,c[0]),g.fromBufferAttribute(a,c[1]),y.fromBufferAttribute(a,c[2]),bu.getNormal(dp),h[0]=`${Math.round(f.x*r)},${Math.round(f.y*r)},${Math.round(f.z*r)}`,h[1]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,h[2]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let x=0;x<3;x++){const _=(x+1)%3,w=h[x],b=h[_],E=bu[u[x]],T=bu[u[_]],S=`${w}_${b}`,A=`${b}_${w}`;A in d&&d[A]?(dp.dot(d[A].normal)<=s&&(p.push(E.x,E.y,E.z),p.push(T.x,T.y,T.z)),d[A]=null):S in d||(d[S]={index0:c[x],index1:c[_],normal:dp.clone()})}}for(const v in d)if(d[v]){const{index0:f,index1:g}=d[v];wu.fromBufferAttribute(a,f),Su.fromBufferAttribute(a,g),p.push(wu.x,wu.y,wu.z),p.push(Su.x,Su.y,Su.z)}this.setAttribute("position",new Ae(p,3))}}}class ks extends $l{constructor(e){super(e),this.uuid=zn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new $l().fromJSON(r))}return this}}const sk={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=aM(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,d,p;if(i&&(s=uk(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let v=t;v<r;v+=t)h=n[v],d=n[v+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-a,u-l),p=p!==0?1/p:0}return jl(s,o,t,a,l,p),o}};function aM(n,e,t,i,r){let s,o;if(r===wk(n,e,t,i)>0)for(s=e;s<t;s+=i)o=Hx(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=Hx(s,n[s],n[s+1],o);return o&&Wh(o,o.next)&&(ql(o),o=o.next),o}function Zr(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Wh(t,t.next)||bt(t.prev,t,t.next)===0)){if(ql(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function jl(n,e,t,i,r,s,o){if(!n)return;!o&&s&&mk(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?ak(n,i,r,s):ok(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),ql(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=lk(Zr(n),e,t),jl(n,e,t,i,r,s,2)):o===2&&ck(n,e,t,i,r,s):jl(Zr(n),e,t,i,r,s,1);break}}}function ok(n){const e=n.prev,t=n,i=n.next;if(bt(e,t,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(Vo(e.x,e.y,t.x,t.y,i.x,i.y,r.x,r.y)&&bt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function ak(n,e,t,i){const r=n.prev,s=n,o=n.next;if(bt(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,h=Ym(a,l,e,t,i),d=Ym(c,u,e,t,i);let p=n.prevZ,v=n.nextZ;for(;p&&p.z>=h&&v&&v.z<=d;){if(p!==n.prev&&p!==n.next&&Vo(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&bt(p.prev,p,p.next)>=0||(p=p.prevZ,v!==n.prev&&v!==n.next&&Vo(r.x,r.y,s.x,s.y,o.x,o.y,v.x,v.y)&&bt(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;p&&p.z>=h;){if(p!==n.prev&&p!==n.next&&Vo(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&bt(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=d;){if(v!==n.prev&&v!==n.next&&Vo(r.x,r.y,s.x,s.y,o.x,o.y,v.x,v.y)&&bt(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function lk(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Wh(r,s)&&lM(r,i,i.next,s)&&Xl(r,s)&&Xl(s,r)&&(e.push(r.i/t),e.push(i.i/t),e.push(s.i/t),ql(i),ql(i.next),i=n=s),i=i.next}while(i!==n);return Zr(i)}function ck(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&yk(o,a)){let l=cM(o,a);o=Zr(o,o.next),l=Zr(l,l.next),jl(o,e,t,i,r,s),jl(l,e,t,i,r,s);return}a=a.next}o=o.next}while(o!==n)}function uk(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=aM(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(vk(c));for(r.sort(dk),s=0;s<r.length;s++)hk(r[s],t),t=Zr(t,t.next);return t}function dk(n,e){return n.x-e.x}function hk(n,e){if(e=fk(n,e),e){const t=cM(e,n);Zr(e,e.next),Zr(t,t.next)}}function fk(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const d=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=i&&d>s){if(s=d,d===i){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,h;t=o;do i>=t.x&&t.x>=l&&i!==t.x&&Vo(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)&&(h=Math.abs(r-t.y)/(i-t.x),Xl(t,n)&&(h<u||h===u&&(t.x>o.x||t.x===o.x&&pk(o,t)))&&(o=t,u=h)),t=t.next;while(t!==a);return o}function pk(n,e){return bt(n.prev,n,e.prev)<0&&bt(e.next,n,n.next)<0}function mk(n,e,t,i){let r=n;do r.z===null&&(r.z=Ym(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,gk(r)}function gk(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function Ym(n,e,t,i,r){return n=32767*(n-t)*r,e=32767*(e-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function vk(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Vo(n,e,t,i,r,s,o,a){return(r-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(i-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(r-o)*(i-a)>=0}function yk(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xk(n,e)&&(Xl(n,e)&&Xl(e,n)&&_k(n,e)&&(bt(n.prev,n,e.prev)||bt(n,e.prev,e))||Wh(n,e)&&bt(n.prev,n,n.next)>0&&bt(e.prev,e,e.next)>0)}function bt(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Wh(n,e){return n.x===e.x&&n.y===e.y}function lM(n,e,t,i){const r=Eu(bt(n,e,t)),s=Eu(bt(n,e,i)),o=Eu(bt(t,i,n)),a=Eu(bt(t,i,e));return!!(r!==s&&o!==a||r===0&&Mu(n,t,e)||s===0&&Mu(n,i,e)||o===0&&Mu(t,n,i)||a===0&&Mu(t,e,i))}function Mu(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Eu(n){return n>0?1:n<0?-1:0}function xk(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&lM(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Xl(n,e){return bt(n.prev,n,n.next)<0?bt(n,e,n.next)>=0&&bt(n,n.prev,e)>=0:bt(n,e,n.prev)<0||bt(n,n.next,e)<0}function _k(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function cM(n,e){const t=new Jm(n.i,n.x,n.y),i=new Jm(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function Hx(n,e,t,i){const r=new Jm(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ql(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Jm(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function wk(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Oi{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Oi.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];Wx(e),$x(i,e);let o=e.length;t.forEach(Wx);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,$x(i,t[l]);const a=sk.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Wx(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function $x(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class gc extends $e{constructor(e=new ks([new le(.5,.5),new le(-.5,.5),new le(-.5,-.5),new le(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ae(r,3)),this.setAttribute("uv",new Ae(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:p-.1,f=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:Sk;let _,w=!1,b,E,T,S;y&&(_=y.getSpacedPoints(u),w=!0,d=!1,b=y.computeFrenetFrames(u,!1),E=new N,T=new N,S=new N),d||(g=0,p=0,v=0,f=0);const A=a.extractPoints(c);let L=A.shape;const H=A.holes;if(!Oi.isClockWise(L)){L=L.reverse();for(let re=0,Q=H.length;re<Q;re++){const me=H[re];Oi.isClockWise(me)&&(H[re]=me.reverse())}}const G=Oi.triangulateShape(L,H),k=L;for(let re=0,Q=H.length;re<Q;re++){const me=H[re];L=L.concat(me)}function j(re,Q,me){return Q||console.error("THREE.ExtrudeGeometry: vec does not exist"),Q.clone().multiplyScalar(me).add(re)}const Z=L.length,ce=G.length;function D(re,Q,me){let Pe,_e,Ue;const V=re.x-Q.x,$=re.y-Q.y,ue=me.x-re.x,we=me.y-re.y,P=V*V+$*$,C=V*we-$*ue;if(Math.abs(C)>Number.EPSILON){const z=Math.sqrt(P),K=Math.sqrt(ue*ue+we*we),ae=Q.x-$/z,de=Q.y+V/z,Se=me.x-we/K,pe=me.y+ue/K,te=((Se-ae)*we-(pe-de)*ue)/(V*we-$*ue);Pe=ae+V*te-re.x,_e=de+$*te-re.y;const Te=Pe*Pe+_e*_e;if(Te<=2)return new le(Pe,_e);Ue=Math.sqrt(Te/2)}else{let z=!1;V>Number.EPSILON?ue>Number.EPSILON&&(z=!0):V<-Number.EPSILON?ue<-Number.EPSILON&&(z=!0):Math.sign($)===Math.sign(we)&&(z=!0),z?(Pe=-$,_e=V,Ue=Math.sqrt(P)):(Pe=V,_e=$,Ue=Math.sqrt(P/2))}return new le(Pe/Ue,_e/Ue)}const I=[];for(let re=0,Q=k.length,me=Q-1,Pe=re+1;re<Q;re++,me++,Pe++)me===Q&&(me=0),Pe===Q&&(Pe=0),I[re]=D(k[re],k[me],k[Pe]);const B=[];let Y,ee=I.concat();for(let re=0,Q=H.length;re<Q;re++){const me=H[re];Y=[];for(let Pe=0,_e=me.length,Ue=_e-1,V=Pe+1;Pe<_e;Pe++,Ue++,V++)Ue===_e&&(Ue=0),V===_e&&(V=0),Y[Pe]=D(me[Pe],me[Ue],me[V]);B.push(Y),ee=ee.concat(Y)}for(let re=0;re<g;re++){const Q=re/g,me=p*Math.cos(Q*Math.PI/2),Pe=v*Math.sin(Q*Math.PI/2)+f;for(let _e=0,Ue=k.length;_e<Ue;_e++){const V=j(k[_e],I[_e],Pe);Fe(V.x,V.y,-me)}for(let _e=0,Ue=H.length;_e<Ue;_e++){const V=H[_e];Y=B[_e];for(let $=0,ue=V.length;$<ue;$++){const we=j(V[$],Y[$],Pe);Fe(we.x,we.y,-me)}}}const X=v+f;for(let re=0;re<Z;re++){const Q=d?j(L[re],ee[re],X):L[re];w?(T.copy(b.normals[0]).multiplyScalar(Q.x),E.copy(b.binormals[0]).multiplyScalar(Q.y),S.copy(_[0]).add(T).add(E),Fe(S.x,S.y,S.z)):Fe(Q.x,Q.y,0)}for(let re=1;re<=u;re++)for(let Q=0;Q<Z;Q++){const me=d?j(L[Q],ee[Q],X):L[Q];w?(T.copy(b.normals[re]).multiplyScalar(me.x),E.copy(b.binormals[re]).multiplyScalar(me.y),S.copy(_[re]).add(T).add(E),Fe(S.x,S.y,S.z)):Fe(me.x,me.y,h/u*re)}for(let re=g-1;re>=0;re--){const Q=re/g,me=p*Math.cos(Q*Math.PI/2),Pe=v*Math.sin(Q*Math.PI/2)+f;for(let _e=0,Ue=k.length;_e<Ue;_e++){const V=j(k[_e],I[_e],Pe);Fe(V.x,V.y,h+me)}for(let _e=0,Ue=H.length;_e<Ue;_e++){const V=H[_e];Y=B[_e];for(let $=0,ue=V.length;$<ue;$++){const we=j(V[$],Y[$],Pe);w?Fe(we.x,we.y+_[u-1].y,_[u-1].x+me):Fe(we.x,we.y,h+me)}}}he(),Ce();function he(){const re=r.length/3;if(d){let Q=0,me=Z*Q;for(let Pe=0;Pe<ce;Pe++){const _e=G[Pe];Re(_e[2]+me,_e[1]+me,_e[0]+me)}Q=u+g*2,me=Z*Q;for(let Pe=0;Pe<ce;Pe++){const _e=G[Pe];Re(_e[0]+me,_e[1]+me,_e[2]+me)}}else{for(let Q=0;Q<ce;Q++){const me=G[Q];Re(me[2],me[1],me[0])}for(let Q=0;Q<ce;Q++){const me=G[Q];Re(me[0]+Z*u,me[1]+Z*u,me[2]+Z*u)}}i.addGroup(re,r.length/3-re,0)}function Ce(){const re=r.length/3;let Q=0;q(k,Q),Q+=k.length;for(let me=0,Pe=H.length;me<Pe;me++){const _e=H[me];q(_e,Q),Q+=_e.length}i.addGroup(re,r.length/3-re,1)}function q(re,Q){let me=re.length;for(;--me>=0;){const Pe=me;let _e=me-1;_e<0&&(_e=re.length-1);for(let Ue=0,V=u+g*2;Ue<V;Ue++){const $=Z*Ue,ue=Z*(Ue+1),we=Q+Pe+$,P=Q+_e+$,C=Q+_e+ue,z=Q+Pe+ue;ke(we,P,C,z)}}}function Fe(re,Q,me){l.push(re),l.push(Q),l.push(me)}function Re(re,Q,me){xe(re),xe(Q),xe(me);const Pe=r.length/3,_e=x.generateTopUV(i,r,Pe-3,Pe-2,Pe-1);We(_e[0]),We(_e[1]),We(_e[2])}function ke(re,Q,me,Pe){xe(re),xe(Q),xe(Pe),xe(Q),xe(me),xe(Pe);const _e=r.length/3,Ue=x.generateSideWallUV(i,r,_e-6,_e-3,_e-2,_e-1);We(Ue[0]),We(Ue[1]),We(Ue[3]),We(Ue[1]),We(Ue[2]),We(Ue[3])}function xe(re){r.push(l[re*3+0]),r.push(l[re*3+1]),r.push(l[re*3+2])}function We(re){s.push(re.x),s.push(re.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return bk(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new k0[r.type]().fromJSON(r)),new gc(i,e.options)}}const Sk={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new le(s,o),new le(a,l),new le(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],h=e[i*3+2],d=e[r*3],p=e[r*3+1],v=e[r*3+2],f=e[s*3],g=e[s*3+1],y=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new le(o,1-l),new le(c,1-h),new le(d,1-v),new le(f,1-y)]:[new le(a,1-l),new le(u,1-h),new le(p,1-v),new le(g,1-y)]}};function bk(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class vc extends hr{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vc(e.radius,e.detail)}}class _a extends hr{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _a(e.radius,e.detail)}}class yc extends $e{constructor(e=.5,t=1,i=8,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let h=e;const d=(t-e)/r,p=new N,v=new le;for(let f=0;f<=r;f++){for(let g=0;g<=i;g++){const y=s+g/i*o;p.x=h*Math.cos(y),p.y=h*Math.sin(y),l.push(p.x,p.y,p.z),c.push(0,0,1),v.x=(p.x/t+1)/2,v.y=(p.y/t+1)/2,u.push(v.x,v.y)}h+=d}for(let f=0;f<r;f++){const g=f*(i+1);for(let y=0;y<i;y++){const x=y+g,_=x,w=x+i+1,b=x+i+2,E=x+1;a.push(_,w,E),a.push(w,b,E)}}this.setIndex(a),this.setAttribute("position",new Ae(l,3)),this.setAttribute("normal",new Ae(c,3)),this.setAttribute("uv",new Ae(u,2))}static fromJSON(e){return new yc(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class xc extends $e{constructor(e=new ks([new le(0,.5),new le(-.5,-.5),new le(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ae(r,3)),this.setAttribute("normal",new Ae(s,3)),this.setAttribute("uv",new Ae(o,2));function c(u){const h=r.length/3,d=u.extractPoints(t);let p=d.shape;const v=d.holes;Oi.isClockWise(p)===!1&&(p=p.reverse());for(let g=0,y=v.length;g<y;g++){const x=v[g];Oi.isClockWise(x)===!0&&(v[g]=x.reverse())}const f=Oi.triangulateShape(p,v);for(let g=0,y=v.length;g<y;g++){const x=v[g];p=p.concat(x)}for(let g=0,y=p.length;g<y;g++){const x=p[g];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let g=0,y=f.length;g<y;g++){const x=f[g],_=x[0]+h,w=x[1]+h,b=x[2]+h;i.push(_,w,b),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Mk(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new xc(i,e.curveSegments)}}function Mk(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class wa extends $e{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new N,d=new N,p=[],v=[],f=[],g=[];for(let y=0;y<=i;y++){const x=[],_=y/i;let w=0;y==0&&o==0?w=.5/t:y==i&&l==Math.PI&&(w=-.5/t);for(let b=0;b<=t;b++){const E=b/t;h.x=-e*Math.cos(r+E*s)*Math.sin(o+_*a),h.y=e*Math.cos(o+_*a),h.z=e*Math.sin(r+E*s)*Math.sin(o+_*a),v.push(h.x,h.y,h.z),d.copy(h).normalize(),f.push(d.x,d.y,d.z),g.push(E+w,1-_),x.push(c++)}u.push(x)}for(let y=0;y<i;y++)for(let x=0;x<t;x++){const _=u[y][x+1],w=u[y][x],b=u[y+1][x],E=u[y+1][x+1];(y!==0||o>0)&&p.push(_,w,E),(y!==i-1||l<Math.PI)&&p.push(w,b,E)}this.setIndex(p),this.setAttribute("position",new Ae(v,3)),this.setAttribute("normal",new Ae(f,3)),this.setAttribute("uv",new Ae(g,2))}static fromJSON(e){return new wa(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class _c extends hr{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _c(e.radius,e.detail)}}class wc extends $e{constructor(e=1,t=.4,i=8,r=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new N,h=new N,d=new N;for(let p=0;p<=i;p++)for(let v=0;v<=r;v++){const f=v/r*s,g=p/i*Math.PI*2;h.x=(e+t*Math.cos(g))*Math.cos(f),h.y=(e+t*Math.cos(g))*Math.sin(f),h.z=t*Math.sin(g),a.push(h.x,h.y,h.z),u.x=e*Math.cos(f),u.y=e*Math.sin(f),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(v/r),c.push(p/i)}for(let p=1;p<=i;p++)for(let v=1;v<=r;v++){const f=(r+1)*p+v-1,g=(r+1)*(p-1)+v-1,y=(r+1)*(p-1)+v,x=(r+1)*p+v;o.push(f,g,x),o.push(g,y,x)}this.setIndex(o),this.setAttribute("position",new Ae(a,3)),this.setAttribute("normal",new Ae(l,3)),this.setAttribute("uv",new Ae(c,2))}static fromJSON(e){return new wc(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Sc extends $e{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],h=new N,d=new N,p=new N,v=new N,f=new N,g=new N,y=new N;for(let _=0;_<=i;++_){const w=_/i*s*Math.PI*2;x(w,s,o,e,p),x(w+.01,s,o,e,v),g.subVectors(v,p),y.addVectors(v,p),f.crossVectors(g,y),y.crossVectors(f,g),f.normalize(),y.normalize();for(let b=0;b<=r;++b){const E=b/r*Math.PI*2,T=-t*Math.cos(E),S=t*Math.sin(E);h.x=p.x+(T*y.x+S*f.x),h.y=p.y+(T*y.y+S*f.y),h.z=p.z+(T*y.z+S*f.z),l.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),c.push(d.x,d.y,d.z),u.push(_/i),u.push(b/r)}}for(let _=1;_<=i;_++)for(let w=1;w<=r;w++){const b=(r+1)*(_-1)+(w-1),E=(r+1)*_+(w-1),T=(r+1)*_+w,S=(r+1)*(_-1)+w;a.push(b,E,S),a.push(E,T,S)}this.setIndex(a),this.setAttribute("position",new Ae(l,3)),this.setAttribute("normal",new Ae(c,3)),this.setAttribute("uv",new Ae(u,2));function x(_,w,b,E,T){const S=Math.cos(_),A=Math.sin(_),L=b/w*_,H=Math.cos(L);T.x=E*(2+H)*.5*S,T.y=E*(2+H)*A*.5,T.z=E*Math.sin(L)*.5}}static fromJSON(e){return new Sc(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class bc extends $e{constructor(e=new I0(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,c=new le;let u=new N;const h=[],d=[],p=[],v=[];f(),this.setIndex(v),this.setAttribute("position",new Ae(h,3)),this.setAttribute("normal",new Ae(d,3)),this.setAttribute("uv",new Ae(p,2));function f(){for(let _=0;_<t;_++)g(_);g(s===!1?t:0),x(),y()}function g(_){u=e.getPointAt(_/t,u);const w=o.normals[_],b=o.binormals[_];for(let E=0;E<=r;E++){const T=E/r*Math.PI*2,S=Math.sin(T),A=-Math.cos(T);l.x=A*w.x+S*b.x,l.y=A*w.y+S*b.y,l.z=A*w.z+S*b.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,h.push(a.x,a.y,a.z)}}function y(){for(let _=1;_<=t;_++)for(let w=1;w<=r;w++){const b=(r+1)*(_-1)+(w-1),E=(r+1)*_+(w-1),T=(r+1)*_+w,S=(r+1)*(_-1)+w;v.push(b,E,S),v.push(E,T,S)}}function x(){for(let _=0;_<=t;_++)for(let w=0;w<=r;w++)c.x=_/t,c.y=w/r,p.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new bc(new k0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class uM extends $e{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],d=h.start,p=h.count;for(let v=d,f=d+p;v<f;v+=3)for(let g=0;g<3;g++){const y=a.getX(v+g),x=a.getX(v+(g+1)%3);r.fromBufferAttribute(o,y),s.fromBufferAttribute(o,x),jx(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),jx(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ae(t,3))}}}function jx(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Xx=Object.freeze({__proto__:null,BoxGeometry:is,CapsuleGeometry:hc,CircleGeometry:fc,ConeGeometry:pc,CylinderGeometry:Ks,DodecahedronGeometry:mc,EdgesGeometry:oM,ExtrudeGeometry:gc,IcosahedronGeometry:vc,LatheGeometry:xa,OctahedronGeometry:_a,PlaneGeometry:va,PolyhedronGeometry:hr,RingGeometry:yc,ShapeGeometry:xc,SphereGeometry:wa,TetrahedronGeometry:_c,TorusGeometry:wc,TorusKnotGeometry:Sc,TubeGeometry:bc,WireframeGeometry:uM});class dM extends pn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ee(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class hM extends Fi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class O0 extends pn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ee(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ts,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fM extends O0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Lt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ee(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ee(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ee(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class pM extends pn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ee(16777215),this.specular=new Ee(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ts,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mM extends pn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ee(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ts,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class gM extends pn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ts,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class vM extends pn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ee(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ts,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yM extends pn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ee(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ts,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xM extends Sn{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Yn(n,e,t){return F0(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Ts(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function F0(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function _M(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function Zm(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function B0(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function Ek(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],d=[];for(let p=0;p<c.times.length;++p){const v=c.times[p]*r;if(!(v<t||v>=i)){h.push(c.times[p]);for(let f=0;f<u;++f)d.push(c.values[p*u+f])}}h.length!==0&&(c.times=Ts(h,c.times.constructor),c.values=Ts(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Ck(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const v=a.times.length-1;let f;if(s<=a.times[0]){const y=u,x=h-u;f=Yn(a.values,y,x)}else if(s>=a.times[v]){const y=v*h+u,x=y+h-u;f=Yn(a.values,y,x)}else{const y=a.createInterpolant(),x=u,_=h-u;y.evaluate(s),f=Yn(y.resultBuffer,x,_)}l==="quaternion"&&new Pn().fromArray(f).normalize().conjugate().toArray(f);const g=c.times.length;for(let y=0;y<g;++y){const x=y*p+d;if(l==="quaternion")Pn.multiplyQuaternionsFlat(c.values,x,f,0,c.values,x);else{const _=p-d*2;for(let w=0;w<_;++w)c.values[x+w]-=f[w]}}}return n.blendMode=x0,n}var Tk=Object.freeze({__proto__:null,arraySlice:Yn,convertArray:Ts,isTypedArray:F0,getKeyframeOrder:_M,sortedArray:Zm,flattenJSON:B0,subclip:Ek,makeClipAdditive:Ck});class Mc{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wM extends Mc{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ms,endingEnd:Ms}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Es:s=e,a=2*t-i;break;case Vl:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Es:o=e,l=2*i-t;break;case Vl:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,p=this._weightNext,v=(i-t)/(r-t),f=v*v,g=f*v,y=-d*g+2*d*f-d*v,x=(1+d)*g+(-1.5-2*d)*f+(-.5+d)*v+1,_=(-1-p)*g+(1.5+p)*f+.5*v,w=p*g-p*f;for(let b=0;b!==a;++b)s[b]=y*o[u+b]+x*o[c+b]+_*o[l+b]+w*o[h+b];return s}}class z0 extends Mc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),h=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*h+o[l+d]*u;return s}}class SM extends Mc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class bi{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ts(t,this.TimeBufferType),this.values=Ts(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ts(e.times,Array),values:Ts(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new SM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new z0(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wM(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case zl:t=this.InterpolantFactoryMethodDiscrete;break;case Ul:t=this.InterpolantFactoryMethodLinear;break;case Ku:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zl;case this.InterpolantFactoryMethodLinear:return Ul;case this.InterpolantFactoryMethodSmooth:return Ku}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Yn(i,s,o),this.values=Yn(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&F0(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Yn(this.times),t=Yn(this.values),i=this.getValueSize(),r=this.getInterpolation()===Ku,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,d=h-i,p=h+i;for(let v=0;v!==i;++v){const f=t[h+v];if(f!==t[d+v]||f!==t[p+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,d=o*i;for(let p=0;p!==i;++p)t[d+p]=t[h+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Yn(e,0,o),this.values=Yn(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Yn(this.times,0),t=Yn(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}bi.prototype.TimeBufferType=Float32Array;bi.prototype.ValueBufferType=Float32Array;bi.prototype.DefaultInterpolation=Ul;class Qs extends bi{}Qs.prototype.ValueTypeName="bool";Qs.prototype.ValueBufferType=Array;Qs.prototype.DefaultInterpolation=zl;Qs.prototype.InterpolantFactoryMethodLinear=void 0;Qs.prototype.InterpolantFactoryMethodSmooth=void 0;class U0 extends bi{}U0.prototype.ValueTypeName="color";class Yl extends bi{}Yl.prototype.ValueTypeName="number";class bM extends Mc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Pn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Sa extends bi{InterpolantFactoryMethodLinear(e){return new bM(this.times,this.values,this.getValueSize(),e)}}Sa.prototype.ValueTypeName="quaternion";Sa.prototype.DefaultInterpolation=Ul;Sa.prototype.InterpolantFactoryMethodSmooth=void 0;class eo extends bi{}eo.prototype.ValueTypeName="string";eo.prototype.ValueBufferType=Array;eo.prototype.DefaultInterpolation=zl;eo.prototype.InterpolantFactoryMethodLinear=void 0;eo.prototype.InterpolantFactoryMethodSmooth=void 0;class Jl extends bi{}Jl.prototype.ValueTypeName="vector";class Zl{constructor(e,t=-1,i,r=Rh){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=zn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(Pk(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(bi.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=_M(l);l=Zm(l,1,u),c=Zm(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Yl(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let d=r[h];d||(r[h]=d=[]),d.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,d,p,v,f){if(p.length!==0){const g=[],y=[];B0(p,g,y,v),g.length!==0&&f.push(new h(d,g,y))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const d=c[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let v;for(v=0;v<d.length;v++)if(d[v].morphTargets)for(let f=0;f<d[v].morphTargets.length;f++)p[d[v].morphTargets[f]]=-1;for(const f in p){const g=[],y=[];for(let x=0;x!==d[v].morphTargets.length;++x){const _=d[v];g.push(_.time),y.push(_.morphTarget===f?1:0)}r.push(new Yl(".morphTargetInfluence["+f+"]",g,y))}l=p.length*o}else{const p=".bones["+t[h].name+"]";i(Jl,p+".position",d,"pos",r),i(Sa,p+".quaternion",d,"rot",r),i(Jl,p+".scale",d,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ak(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yl;case"vector":case"vector2":case"vector3":case"vector4":return Jl;case"color":return U0;case"quaternion":return Sa;case"bool":case"boolean":return Qs;case"string":return eo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Pk(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Ak(n.type);if(n.times===void 0){const t=[],i=[];B0(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const $s={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class V0{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,d=c.length;h<d;h+=2){const p=c[h],v=c[h+1];if(p.global&&(p.lastIndex=0),p.test(u))return v}return null}}}const MM=new V0;class Wn{constructor(e){this.manager=e!==void 0?e:MM,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Wi={};class Nk extends Error{constructor(e,t){super(e),this.response=t}}class lr extends Wn{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=$s.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Wi[e]!==void 0){Wi[e].push({onLoad:t,onProgress:i,onError:r});return}Wi[e]=[],Wi[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Wi[e],h=c.body.getReader(),d=c.headers.get("Content-Length"),p=d?parseInt(d):0,v=p!==0;let f=0;const g=new ReadableStream({start(y){x();function x(){h.read().then(({done:_,value:w})=>{if(_)y.close();else{f+=w.byteLength;const b=new ProgressEvent("progress",{lengthComputable:v,loaded:f,total:p});for(let E=0,T=u.length;E<T;E++){const S=u[E];S.onProgress&&S.onProgress(b)}y.enqueue(w),x()}})}}});return new Response(g)}else throw new Nk(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),d=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(v=>p.decode(v))}}}).then(c=>{$s.add(e,c);const u=Wi[e];delete Wi[e];for(let h=0,d=u.length;h<d;h++){const p=u[h];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Wi[e];if(u===void 0)throw this.manager.itemError(e),c;delete Wi[e];for(let h=0,d=u.length;h<d;h++){const p=u[h];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Rk extends Wn{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new lr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Zl.parse(e[i]);t.push(r)}return t}}class Lk extends Wn{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new eM,l=new lr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(d){const p=s.parse(d,!0);o[h]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=Rt),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,d=e.length;h<d;++h)u(h);else l.load(e,function(h){const d=s.parse(h,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let v=0;v<p;v++){o[v]={mipmaps:[]};for(let f=0;f<d.mipmapCount;f++)o[v].mipmaps.push(d.mipmaps[v*d.mipmapCount+f]),o[v].format=d.format,o[v].width=d.width,o[v].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Rt),a.format=d.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Kl extends Wn{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=$s.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Wl("img");function l(){u(),$s.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Ik extends Wn{constructor(e){super(e)}load(e,t,i,r){const s=new dc,o=new Kl(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Dk extends Wn{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Jo,a=new lr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);!c||(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:yn,o.wrapT=c.wrapT!==void 0?c.wrapT:yn,o.magFilter=c.magFilter!==void 0?c.magFilter:Rt,o.minFilter=c.minFilter!==void 0?c.minFilter:Rt,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ys),c.mipmapCount===1&&(o.minFilter=Rt),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class kk extends Wn{constructor(e){super(e)}load(e,t,i,r){const s=new Ht,o=new Kl(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class rs extends it{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ee(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class EM extends rs{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(it.DefaultUp),this.updateMatrix(),this.groundColor=new Ee(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const hp=new He,qx=new N,Yx=new N;class G0{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new le(512,512),this.map=null,this.mapPass=null,this.matrix=new He,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kh,this._frameExtents=new le(1,1),this._viewportCount=1,this._viewports=[new lt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;qx.setFromMatrixPosition(e.matrixWorld),t.position.copy(qx),Yx.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Yx),t.updateMatrixWorld(),hp.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hp),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(hp)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ok extends G0{constructor(){super(new nn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Hl*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class CM extends rs{constructor(e,t,i=0,r=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(it.DefaultUp),this.updateMatrix(),this.target=new it,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Ok}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Jx=new He,Wa=new N,fp=new N;class Fk extends G0{constructor(){super(new nn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new le(4,2),this._viewportCount=6,this._viewports=[new lt(2,1,1,1),new lt(0,1,1,1),new lt(3,1,1,1),new lt(1,1,1,1),new lt(3,0,1,1),new lt(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Wa.setFromMatrixPosition(e.matrixWorld),i.position.copy(Wa),fp.copy(i.position),fp.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(fp),i.updateMatrixWorld(),r.makeTranslation(-Wa.x,-Wa.y,-Wa.z),Jx.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Jx)}}class TM extends rs{constructor(e,t,i=0,r=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Fk}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Bk extends G0{constructor(){super(new Oh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class AM extends rs{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(it.DefaultUp),this.updateMatrix(),this.target=new it,this.shadow=new Bk}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class PM extends rs{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class NM extends rs{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class RM{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class $h extends rs{constructor(e=new RM,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class jh extends Wn{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new lr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=jh.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ee().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ee().setHex(o.value);break;case"v2":r.uniforms[s].value=new le().fromArray(o.value);break;case"v3":r.uniforms[s].value=new N().fromArray(o.value);break;case"v4":r.uniforms[s].value=new lt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new En().fromArray(o.value);break;case"m4":r.uniforms[s].value=new He().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new le().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:dM,SpriteMaterial:T0,RawShaderMaterial:hM,ShaderMaterial:Fi,PointsMaterial:P0,MeshPhysicalMaterial:fM,MeshStandardMaterial:O0,MeshPhongMaterial:pM,MeshToonMaterial:mM,MeshNormalMaterial:gM,MeshLambertMaterial:vM,MeshDepthMaterial:E0,MeshDistanceMaterial:C0,MeshBasicMaterial:ns,MeshMatcapMaterial:yM,LineDashedMaterial:xM,LineBasicMaterial:Sn,Material:pn};return new t[e]}}class Km{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class LM extends $e{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class IM extends Wn{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new lr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(p,v){if(t[v]!==void 0)return t[v];const g=p.interleavedBuffers[v],y=s(p,g.buffer),x=Bo(g.type,y),_=new Uh(x,g.stride);return _.uuid=g.uuid,t[v]=_,_}function s(p,v){if(i[v]!==void 0)return i[v];const g=p.arrayBuffers[v],y=new Uint32Array(g).buffer;return i[v]=y,y}const o=e.isInstancedBufferGeometry?new LM:new $e,a=e.data.index;if(a!==void 0){const p=Bo(a.type,a.array);o.setIndex(new pt(p,1))}const l=e.data.attributes;for(const p in l){const v=l[p];let f;if(v.isInterleavedBufferAttribute){const g=r(e.data,v.data);f=new Ws(g,v.itemSize,v.offset,v.normalized)}else{const g=Bo(v.type,v.array),y=v.isInstancedBufferAttribute?la:pt;f=new y(g,v.itemSize,v.normalized)}v.name!==void 0&&(f.name=v.name),v.usage!==void 0&&f.setUsage(v.usage),v.updateRange!==void 0&&(f.updateRange.offset=v.updateRange.offset,f.updateRange.count=v.updateRange.count),o.setAttribute(p,f)}const c=e.data.morphAttributes;if(c)for(const p in c){const v=c[p],f=[];for(let g=0,y=v.length;g<y;g++){const x=v[g];let _;if(x.isInterleavedBufferAttribute){const w=r(e.data,x.data);_=new Ws(w,x.itemSize,x.offset,x.normalized)}else{const w=Bo(x.type,x.array);_=new pt(w,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),f.push(_)}o.morphAttributes[p]=f}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let p=0,v=h.length;p!==v;++p){const f=h[p];o.addGroup(f.start,f.count,f.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new N;d.center!==void 0&&p.fromArray(d.center),o.boundingSphere=new Zs(p,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class zk extends Wn{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Km.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new lr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Km.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new lr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let h=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new ks().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Vh().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new IM;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in Xx?a=Xx[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new jh;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Zl.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:Bo(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new V0(t);s=new Kl(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],d=h.url;if(Array.isArray(d)){const p=[];for(let v=0,f=d.length;v<f;v++){const g=d[v],y=a(g);y!==null&&(y instanceof HTMLImageElement?p.push(y):p.push(new Jo(y.data,y.width,y.height)))}r[h.uuid]=new Cs(p)}else{const p=a(h.url);r[h.uuid]=new Cs(p)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Bo(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Kl(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,d=c.length;h<d;h++){const p=c[h],v=await s(p);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new Jo(v.data,v.width,v.height)))}i[l.uuid]=new Cs(u)}else{const u=await s(l.url);i[l.uuid]=new Cs(u)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new dc,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Jo:u=new Ht,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,Uk)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],Zx),u.wrapT=i(a.wrap[1],Zx)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,Kx)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,Kx)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,i,r,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let v=0,f=d.length;v<f;v++){const g=d[v];i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),p.push(i[g])}return p}return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),i[d]}}function c(d){return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),r[d]}let u,h;switch(e.type){case"Scene":o=new jb,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ee(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new zh(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Bh(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new nn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Oh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new PM(e.color,e.intensity);break;case"DirectionalLight":o=new AM(e.color,e.intensity);break;case"PointLight":o=new TM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new NM(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new CM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new EM(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new $h().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new Jb(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new rn(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const d=e.count,p=e.instanceMatrix,v=e.instanceColor;o=new Zb(u,h,d),o.instanceMatrix=new la(new Float32Array(p.array),16),v!==void 0&&(o.instanceColor=new la(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new Yb;break;case"Line":o=new Jr(a(e.geometry),l(e.material));break;case"LineLoop":o=new Kb(a(e.geometry),l(e.material));break;case"LineSegments":o=new Bi(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Qb(a(e.geometry),l(e.material));break;case"Sprite":o=new qb(l(e.material));break;case"Group":o=new Uo;break;case"Bone":o=new A0;break;default:o=new it}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)o.add(this.parseObject(d[p],t,i,r,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const v=d[p];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const v=d[p],f=o.getObjectByProperty("uuid",v.object);f!==void 0&&o.addLevel(f,v.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Uk={UVMapping:Nh,CubeReflectionMapping:jr,CubeRefractionMapping:Xr,EquirectangularReflectionMapping:kl,EquirectangularRefractionMapping:Ol,CubeUVReflectionMapping:ma},Zx={RepeatWrapping:Fl,ClampToEdgeWrapping:yn,MirroredRepeatWrapping:Bl},Kx={NearestFilter:Ot,NearestMipmapNearestFilter:Rd,NearestMipmapLinearFilter:Ld,LinearFilter:Rt,LinearMipmapNearestFilter:v0,LinearMipmapLinearFilter:Ys};class Vk extends Wn{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=$s.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){$s.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Cu;const H0={getContext:function(){return Cu===void 0&&(Cu=new(window.AudioContext||window.webkitAudioContext)),Cu},setContext:function(n){Cu=n}};class Gk extends Wn{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new lr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);H0.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class Hk extends $h{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Ee().set(e),s=new Ee().set(t),o=new N(r.r,r.g,r.b),a=new N(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class Wk extends $h{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Ee().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Qx=new He,e_=new He,us=new He;class $k{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new nn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new nn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,us.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Is*t.fov*.5)/t.zoom;let a,l;e_.elements[12]=-r,Qx.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,us.elements[0]=2*t.near/(l-a),us.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(us),a=-o*t.aspect-s,l=o*t.aspect-s,us.elements[0]=2*t.near/(l-a),us.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(us)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(e_),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Qx)}}class DM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=t_(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=t_();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function t_(){return(typeof performance>"u"?Date:performance).now()}const ds=new N,n_=new Pn,jk=new N,hs=new N;class Xk extends it{constructor(){super(),this.type="AudioListener",this.context=H0.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new DM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ds,n_,jk),hs.set(0,0,-1).applyQuaternion(n_),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ds.x,r),t.positionY.linearRampToValueAtTime(ds.y,r),t.positionZ.linearRampToValueAtTime(ds.z,r),t.forwardX.linearRampToValueAtTime(hs.x,r),t.forwardY.linearRampToValueAtTime(hs.y,r),t.forwardZ.linearRampToValueAtTime(hs.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ds.x,ds.y,ds.z),t.setOrientation(hs.x,hs.y,hs.z,i.x,i.y,i.z)}}class kM extends it{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const fs=new N,i_=new Pn,qk=new N,ps=new N;class Yk extends kM{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(fs,i_,qk),ps.set(0,0,1).applyQuaternion(i_);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(fs.x,i),t.positionY.linearRampToValueAtTime(fs.y,i),t.positionZ.linearRampToValueAtTime(fs.z,i),t.orientationX.linearRampToValueAtTime(ps.x,i),t.orientationY.linearRampToValueAtTime(ps.y,i),t.orientationZ.linearRampToValueAtTime(ps.z,i)}else t.setPosition(fs.x,fs.y,fs.z),t.setOrientation(ps.x,ps.y,ps.z)}}class Jk{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class OM{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Pn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Pn.multiplyQuaternionsFlat(e,o,e,t,e,i),Pn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const W0="\\[\\]\\.:\\/",Zk=new RegExp("["+W0+"]","g"),$0="[^"+W0+"]",Kk="[^"+W0.replace("\\.","")+"]",Qk=/((?:WC+[\/:])*)/.source.replace("WC",$0),e4=/(WCOD+)?/.source.replace("WCOD",Kk),t4=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$0),n4=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$0),i4=new RegExp("^"+Qk+e4+t4+n4+"$"),r4=["material","materials","bones","map"];class s4{constructor(e,t,i){const r=i||et.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class et{constructor(e,t,i){this.path=t,this.parsedPath=i||et.parseTrackName(t),this.node=et.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new et.Composite(e,t,i):new et(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Zk,"")}static parseTrackName(e){const t=i4.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);r4.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=et.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}et.Composite=s4;et.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};et.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};et.prototype.GetterByBindingType=[et.prototype._getValue_direct,et.prototype._getValue_array,et.prototype._getValue_arrayElement,et.prototype._getValue_toArray];et.prototype.SetterByBindingTypeAndVersioning=[[et.prototype._setValue_direct,et.prototype._setValue_direct_setNeedsUpdate,et.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[et.prototype._setValue_array,et.prototype._setValue_array_setNeedsUpdate,et.prototype._setValue_array_setMatrixWorldNeedsUpdate],[et.prototype._setValue_arrayElement,et.prototype._setValue_arrayElement_setNeedsUpdate,et.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[et.prototype._setValue_fromArray,et.prototype._setValue_fromArray_setNeedsUpdate,et.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class o4{constructor(){this.isAnimationObjectGroup=!0,this.uuid=zn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],p=d.uuid;let v=t[p];if(v===void 0){v=l++,t[p]=v,e.push(d);for(let f=0,g=o;f!==g;++f)s[f].push(new et(d,i[f],r[f]))}else if(v<c){a=e[v];const f=--c,g=e[f];t[g.uuid]=v,e[v]=g,t[p]=f,e[f]=d;for(let y=0,x=o;y!==x;++y){const _=s[y],w=_[f];let b=_[v];_[v]=w,b===void 0&&(b=new et(d,i[y],r[y])),_[f]=b}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,d=e[h];t[d.uuid]=u,e[u]=d,t[c]=h,e[h]=l;for(let p=0,v=r;p!==v;++p){const f=i[p],g=f[h],y=f[u];f[u]=g,f[h]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const d=--s,p=e[d],v=--o,f=e[v];t[p.uuid]=h,e[h]=p,t[f.uuid]=d,e[d]=f,e.pop();for(let g=0,y=r;g!==y;++g){const x=i[g],_=x[d],w=x[v];x[h]=_,x[d]=w,x.pop()}}else{const d=--o,p=e[d];d>0&&(t[p.uuid]=h),e[h]=p,e.pop();for(let v=0,f=r;v!==f;++v){const g=i[v];g[h]=g[d],g.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let d=u,p=l.length;d!==p;++d){const v=l[d];h[d]=new et(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class a4{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ms,endingEnd:Ms};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Mb,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case x0:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Rh:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===Eb;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===bb){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Es,r.endingEnd=Es):(e?r.endingStart=this.zeroSlopeAtStart?Es:Ms:r.endingStart=Vl,t?r.endingEnd=this.zeroSlopeAtEnd?Es:Ms:r.endingEnd=Vl)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const l4=new Float32Array(1);class c4 extends dr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const d=r[h],p=d.name;let v=u[p];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,p));continue}const f=t&&t._propertyBindings[h].binding.parsedPath;v=new OM(et.create(i,p,f),d.ValueTypeName,d.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,p),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete h[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new z0(new Float32Array(2),new Float32Array(2),1,l4),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Zl.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Rh),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new a4(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Zl.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class j0{constructor(e){this.value=e}clone(){return new j0(this.value.clone===void 0?this.value:this.value.clone())}}let u4=0;class d4 extends dr{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:u4++}),this.name="",this.usage=Gl,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class h4 extends Uh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class f4{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class p4{constructor(e,t,i=0,r=1/0){this.ray=new uc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ih,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return Qm(e,this,i,t),i.sort(r_),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)Qm(e[r],this,i,t);return i.sort(r_),i}}function r_(n,e){return n.distance-e.distance}function Qm(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)Qm(r[s],e,t,!0)}}class m4{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Lt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class g4{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const s_=new le;class v4{constructor(e=new le(1/0,1/0),t=new le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=s_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return s_.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const o_=new N,Tu=new N;class y4{constructor(e=new N,t=new N){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){o_.subVectors(e,this.start),Tu.subVectors(this.end,this.start);const i=Tu.dot(Tu);let s=Tu.dot(o_)/i;return t&&(s=Lt(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const a_=new N;class x4 extends it{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const i=new $e,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new Ae(r,3));const s=new Sn({fog:!1,toneMapped:!1});this.cone=new Bi(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),a_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(a_),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const br=new N,Au=new He,pp=new He;class _4 extends Bi{constructor(e){const t=FM(e),i=new $e,r=[],s=[],o=new Ee(0,0,1),a=new Ee(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ae(r,3)),i.setAttribute("color",new Ae(s,3));const l=new Sn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");pp.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Au.multiplyMatrices(pp,a.matrixWorld),br.setFromMatrixPosition(Au),r.setXYZ(o,br.x,br.y,br.z),Au.multiplyMatrices(pp,a.parent.matrixWorld),br.setFromMatrixPosition(Au),r.setXYZ(o+1,br.x,br.y,br.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function FM(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,FM(n.children[t]));return e}class w4 extends rn{constructor(e,t,i){const r=new wa(t,4,2),s=new ns({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const S4=new N,l_=new Ee,c_=new Ee;class b4 extends it{constructor(e,t,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const r=new _a(t);r.rotateY(Math.PI*.5),this.material=new ns({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new pt(o,3)),this.add(new rn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");l_.copy(this.light.color),c_.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?l_:c_;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(S4.setFromMatrixPosition(this.light.matrixWorld).negate())}}class M4 extends Bi{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ee(i),r=new Ee(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,p=0,v=-a;d<=t;d++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const f=d===s?i:r;f.toArray(c,p),p+=3,f.toArray(c,p),p+=3,f.toArray(c,p),p+=3,f.toArray(c,p),p+=3}const u=new $e;u.setAttribute("position",new Ae(l,3)),u.setAttribute("color",new Ae(c,3));const h=new Sn({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class E4 extends Bi{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Ee(s),o=new Ee(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const d=h/t*(Math.PI*2),p=Math.sin(d)*e,v=Math.cos(d)*e;a.push(0,0,0),a.push(p,0,v);const f=h&1?s:o;l.push(f.r,f.g,f.b),l.push(f.r,f.g,f.b)}for(let h=0;h<i;h++){const d=h&1?s:o,p=e-e/i*h;for(let v=0;v<r;v++){let f=v/r*(Math.PI*2),g=Math.sin(f)*p,y=Math.cos(f)*p;a.push(g,0,y),l.push(d.r,d.g,d.b),f=(v+1)/r*(Math.PI*2),g=Math.sin(f)*p,y=Math.cos(f)*p,a.push(g,0,y),l.push(d.r,d.g,d.b)}}const c=new $e;c.setAttribute("position",new Ae(a,3)),c.setAttribute("color",new Ae(l,3));const u=new Sn({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const u_=new N,Pu=new N,d_=new N;class C4 extends it{constructor(e,t,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,t===void 0&&(t=1);let r=new $e;r.setAttribute("position",new Ae([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Sn({fog:!1,toneMapped:!1});this.lightPlane=new Jr(r,s),this.add(this.lightPlane),r=new $e,r.setAttribute("position",new Ae([0,0,0,0,0,1],3)),this.targetLine=new Jr(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){u_.setFromMatrixPosition(this.light.matrixWorld),Pu.setFromMatrixPosition(this.light.target.matrixWorld),d_.subVectors(Pu,u_),this.lightPlane.lookAt(Pu),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Pu),this.targetLine.scale.z=d_.length()}}const Nu=new N,Tt=new Dh;class T4 extends Bi{constructor(e){const t=new $e,i=new Sn({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,f){l(v),l(f)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Ae(r,3)),t.setAttribute("color",new Ae(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ee(16755200),u=new Ee(16711680),h=new Ee(43775),d=new Ee(16777215),p=new Ee(3355443);this.setColors(c,u,h,d,p)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Tt.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Pt("c",t,e,Tt,0,0,-1),Pt("t",t,e,Tt,0,0,1),Pt("n1",t,e,Tt,-i,-r,-1),Pt("n2",t,e,Tt,i,-r,-1),Pt("n3",t,e,Tt,-i,r,-1),Pt("n4",t,e,Tt,i,r,-1),Pt("f1",t,e,Tt,-i,-r,1),Pt("f2",t,e,Tt,i,-r,1),Pt("f3",t,e,Tt,-i,r,1),Pt("f4",t,e,Tt,i,r,1),Pt("u1",t,e,Tt,i*.7,r*1.1,-1),Pt("u2",t,e,Tt,-i*.7,r*1.1,-1),Pt("u3",t,e,Tt,0,r*2,-1),Pt("cf1",t,e,Tt,-i,0,1),Pt("cf2",t,e,Tt,i,0,1),Pt("cf3",t,e,Tt,0,-r,1),Pt("cf4",t,e,Tt,0,r,1),Pt("cn1",t,e,Tt,-i,0,-1),Pt("cn2",t,e,Tt,i,0,-1),Pt("cn3",t,e,Tt,0,-r,-1),Pt("cn4",t,e,Tt,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pt(n,e,t,i,r,s,o){Nu.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Nu.x,Nu.y,Nu.z)}}const Ru=new Js;class A4 extends Bi{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new $e;s.setIndex(new pt(i,1)),s.setAttribute("position",new pt(r,3)),super(s,new Sn({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ru.setFromObject(this.object),Ru.isEmpty())return;const t=Ru.min,i=Ru.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class P4 extends Bi{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new $e;s.setIndex(new pt(i,1)),s.setAttribute("position",new Ae(r,3)),super(s,new Sn({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class N4 extends Jr{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new $e;o.setAttribute("position",new Ae(s,3)),o.computeBoundingSphere(),super(o,new Sn({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new $e;l.setAttribute("position",new Ae(a,3)),l.computeBoundingSphere(),this.add(new rn(l,new ns({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const h_=new N;let Lu,mp;class R4 extends it{constructor(e=new N(0,0,1),t=new N(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Lu===void 0&&(Lu=new $e,Lu.setAttribute("position",new Ae([0,0,0,0,1,0],3)),mp=new Ks(0,.5,1,5,1),mp.translate(0,-.5,0)),this.position.copy(t),this.line=new Jr(Lu,new Sn({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new rn(mp,new ns({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{h_.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(h_,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class L4 extends Bi{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new $e;r.setAttribute("position",new Ae(t,3)),r.setAttribute("color",new Ae(i,3));const s=new Sn({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ee,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class I4{constructor(){this.type="ShapePath",this.color=new Ee,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new $l,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(y){const x=[];for(let _=0,w=y.length;_<w;_++){const b=y[_],E=new ks;E.curves=b.curves,x.push(E)}return x}function i(y,x){const _=x.length;let w=!1;for(let b=_-1,E=0;E<_;b=E++){let T=x[b],S=x[E],A=S.x-T.x,L=S.y-T.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(T=x[E],A=-A,S=x[b],L=-L),y.y<T.y||y.y>S.y)continue;if(y.y===T.y){if(y.x===T.x)return!0}else{const H=L*(y.x-T.x)-A*(y.y-T.y);if(H===0)return!0;if(H<0)continue;w=!w}}else{if(y.y!==T.y)continue;if(S.x<=y.x&&y.x<=T.x||T.x<=y.x&&y.x<=S.x)return!0}}return w}const r=Oi.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new ks,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const h=[],d=[];let p=[],v=0,f;d[v]=void 0,p[v]=[];for(let y=0,x=s.length;y<x;y++)a=s[y],f=a.getPoints(),o=r(f),o=e?!o:o,o?(!u&&d[v]&&v++,d[v]={s:new ks,p:f},d[v].s.curves=a.curves,u&&v++,p[v]=[]):p[v].push({h:a,p:f[0]});if(!d[0])return t(s);if(d.length>1){let y=!1,x=0;for(let _=0,w=d.length;_<w;_++)h[_]=[];for(let _=0,w=d.length;_<w;_++){const b=p[_];for(let E=0;E<b.length;E++){const T=b[E];let S=!0;for(let A=0;A<d.length;A++)i(T.p,d[A].p)&&(_!==A&&x++,S?(S=!1,h[A].push(T)):y=!0);S&&h[_].push(T)}}x>0&&y===!1&&(p=h)}let g;for(let y=0,x=d.length;y<x;y++){l=d[y].s,c.push(l),g=p[y];for(let _=0,w=g.length;_<w;_++)l.holes.push(g[_].h)}return c}}const Xi=D4();function D4(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;(c&8388608)===0;)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function k4(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Lt(n,-65504,65504),Xi.floatView[0]=n;const e=Xi.uint32View[0],t=e>>23&511;return Xi.baseTable[t]+((e&8388607)>>Xi.shiftTable[t])}function O4(n){const e=n>>10;return Xi.uint32View[0]=Xi.mantissaTable[Xi.offsetTable[e]+(n&1023)]+Xi.exponentTable[e],Xi.floatView[0]}var F4=Object.freeze({__proto__:null,toHalfFloat:k4,fromHalfFloat:O4});function B4(){console.error("THREE.ImmediateRenderObject has been removed.")}class z4 extends oi{constructor(e,t,i){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,i),this.samples=4}}class U4 extends cc{constructor(e,t,i,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,i,r)}}class V4 extends Lh{constructor(e,t,i,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,i,r)}}class G4 extends is{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class H4 extends hc{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class W4 extends fc{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class $4 extends pc{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class j4 extends Ks{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class X4 extends mc{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class q4 extends gc{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Y4 extends vc{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class J4 extends xa{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class Z4 extends _a{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class K4 extends va{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class Q4 extends hr{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class e5 extends yc{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class t5 extends xc{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class n5 extends wa{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class i5 extends _c{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class r5 extends wc{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class s5 extends Sc{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class o5 extends bc{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ph}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ph);const a5=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:ob,AddEquation:ys,AddOperation:nb,AdditiveAnimationBlendMode:x0,AdditiveBlending:ym,AlphaFormat:fb,AlwaysDepth:YS,AlwaysStencilFunc:Pb,AmbientLight:PM,AmbientLightProbe:Wk,AnimationClip:Zl,AnimationLoader:Rk,AnimationMixer:c4,AnimationObjectGroup:o4,AnimationUtils:Tk,ArcCurve:tM,ArrayCamera:Gb,ArrowHelper:R4,Audio:kM,AudioAnalyser:Jk,AudioContext:H0,AudioListener:Xk,AudioLoader:Gk,AxesHelper:L4,BackSide:Bn,BasicDepthPacking:Cb,BasicShadowMap:iP,Bone:A0,BooleanKeyframeTrack:Qs,Box2:v4,Box3:Js,Box3Helper:P4,BoxBufferGeometry:G4,BoxGeometry:is,BoxHelper:A4,BufferAttribute:pt,BufferGeometry:$e,BufferGeometryLoader:IM,ByteType:lb,Cache:$s,Camera:Dh,CameraHelper:T4,CanvasTexture:ZD,CapsuleBufferGeometry:H4,CapsuleGeometry:hc,CatmullRomCurve3:nM,CineonToneMapping:sb,CircleBufferGeometry:W4,CircleGeometry:fc,ClampToEdgeWrapping:yn,Clock:DM,Color:Ee,ColorKeyframeTrack:U0,ColorManagement:qn,CompressedTexture:eM,CompressedTextureLoader:Lk,ConeBufferGeometry:$4,ConeGeometry:pc,CubeCamera:Db,CubeReflectionMapping:jr,CubeRefractionMapping:Xr,CubeTexture:dc,CubeTextureLoader:Ik,CubeUVReflectionMapping:ma,CubicBezierCurve:R0,CubicBezierCurve3:iM,CubicInterpolant:wM,CullFaceBack:vm,CullFaceFront:DS,CullFaceFrontBack:nP,CullFaceNone:IS,Curve:Si,CurvePath:sM,CustomBlending:OS,CustomToneMapping:ab,CylinderBufferGeometry:j4,CylinderGeometry:Ks,Cylindrical:g4,Data3DTexture:Lh,DataArrayTexture:cc,DataTexture:Jo,DataTexture2DArray:U4,DataTexture3D:V4,DataTextureLoader:Dk,DataUtils:F4,DecrementStencilOp:mP,DecrementWrapStencilOp:vP,DefaultLoadingManager:MM,DepthFormat:Gr,DepthStencilFormat:Hs,DepthTexture:Hb,DirectionalLight:AM,DirectionalLightHelper:C4,DiscreteInterpolant:SM,DodecahedronBufferGeometry:X4,DodecahedronGeometry:mc,DoubleSide:Ji,DstAlphaFactor:HS,DstColorFactor:$S,DynamicCopyUsage:LP,DynamicDrawUsage:CP,DynamicReadUsage:PP,EdgesGeometry:oM,EllipseCurve:Gh,EqualDepth:ZS,EqualStencilFunc:wP,EquirectangularReflectionMapping:kl,EquirectangularRefractionMapping:Ol,Euler:ga,EventDispatcher:dr,ExtrudeBufferGeometry:q4,ExtrudeGeometry:gc,FileLoader:lr,Float16BufferAttribute:fN,Float32BufferAttribute:Ae,Float64BufferAttribute:pN,FloatType:Zi,Fog:zh,FogExp2:Bh,FramebufferTexture:JD,FrontSide:Gs,Frustum:kh,GLBufferAttribute:f4,GLSL1:DP,GLSL3:Wm,GreaterDepth:QS,GreaterEqualDepth:KS,GreaterEqualStencilFunc:EP,GreaterStencilFunc:bP,GridHelper:M4,Group:Uo,HalfFloatType:oa,HemisphereLight:EM,HemisphereLightHelper:b4,HemisphereLightProbe:Hk,IcosahedronBufferGeometry:Y4,IcosahedronGeometry:vc,ImageBitmapLoader:Vk,ImageLoader:Kl,ImageUtils:w0,ImmediateRenderObject:B4,IncrementStencilOp:pP,IncrementWrapStencilOp:gP,InstancedBufferAttribute:la,InstancedBufferGeometry:LM,InstancedInterleavedBuffer:h4,InstancedMesh:Zb,Int16BufferAttribute:dN,Int32BufferAttribute:hN,Int8BufferAttribute:lN,IntType:ub,InterleavedBuffer:Uh,InterleavedBufferAttribute:Ws,Interpolant:Mc,InterpolateDiscrete:zl,InterpolateLinear:Ul,InterpolateSmooth:Ku,InvertStencilOp:yP,KeepStencilOp:Qu,KeyframeTrack:bi,LOD:Yb,LatheBufferGeometry:J4,LatheGeometry:xa,Layers:Ih,LessDepth:JS,LessEqualDepth:Nd,LessEqualStencilFunc:SP,LessStencilFunc:_P,Light:rs,LightProbe:$h,Line:Jr,Line3:y4,LineBasicMaterial:Sn,LineCurve:Hh,LineCurve3:rM,LineDashedMaterial:xM,LineLoop:Kb,LineSegments:Bi,LinearEncoding:Yr,LinearFilter:Rt,LinearInterpolant:z0,LinearMipMapLinearFilter:aP,LinearMipMapNearestFilter:oP,LinearMipmapLinearFilter:Ys,LinearMipmapNearestFilter:v0,LinearSRGBColorSpace:Ir,LinearToneMapping:ib,Loader:Wn,LoaderUtils:Km,LoadingManager:V0,LoopOnce:bb,LoopPingPong:Eb,LoopRepeat:Mb,LuminanceAlphaFormat:gb,LuminanceFormat:mb,MOUSE:eP,Material:pn,MaterialLoader:jh,MathUtils:qP,Matrix3:En,Matrix4:He,MaxEquation:Sm,Mesh:rn,MeshBasicMaterial:ns,MeshDepthMaterial:E0,MeshDistanceMaterial:C0,MeshLambertMaterial:vM,MeshMatcapMaterial:yM,MeshNormalMaterial:gM,MeshPhongMaterial:pM,MeshPhysicalMaterial:fM,MeshStandardMaterial:O0,MeshToonMaterial:mM,MinEquation:wm,MirroredRepeatWrapping:Bl,MixOperation:tb,MultiplyBlending:_m,MultiplyOperation:lc,NearestFilter:Ot,NearestMipMapLinearFilter:sP,NearestMipMapNearestFilter:rP,NearestMipmapLinearFilter:Ld,NearestMipmapNearestFilter:Rd,NeverDepth:qS,NeverStencilFunc:xP,NoBlending:nr,NoColorSpace:dP,NoToneMapping:ki,NormalAnimationBlendMode:Rh,NormalBlending:Rs,NotEqualDepth:eb,NotEqualStencilFunc:MP,NumberKeyframeTrack:Yl,Object3D:it,ObjectLoader:zk,ObjectSpaceNormalMap:Ab,OctahedronBufferGeometry:Z4,OctahedronGeometry:_a,OneFactor:US,OneMinusDstAlphaFactor:WS,OneMinusDstColorFactor:jS,OneMinusSrcAlphaFactor:g0,OneMinusSrcColorFactor:GS,OrthographicCamera:Oh,PCFShadowMap:p0,PCFSoftShadowMap:kS,PMREMGenerator:jm,Path:$l,PerspectiveCamera:nn,Plane:Tr,PlaneBufferGeometry:K4,PlaneGeometry:va,PlaneHelper:N4,PointLight:TM,PointLightHelper:w4,Points:Qb,PointsMaterial:P0,PolarGridHelper:E4,PolyhedronBufferGeometry:Q4,PolyhedronGeometry:hr,PositionalAudio:Yk,PropertyBinding:et,PropertyMixer:OM,QuadraticBezierCurve:L0,QuadraticBezierCurve3:I0,Quaternion:Pn,QuaternionKeyframeTrack:Sa,QuaternionLinearInterpolant:bM,REVISION:Ph,RGBADepthPacking:Tb,RGBAFormat:ei,RGBAIntegerFormat:wb,RGBA_ASTC_10x10_Format:Um,RGBA_ASTC_10x5_Format:Fm,RGBA_ASTC_10x6_Format:Bm,RGBA_ASTC_10x8_Format:zm,RGBA_ASTC_12x10_Format:Vm,RGBA_ASTC_12x12_Format:Gm,RGBA_ASTC_4x4_Format:Pm,RGBA_ASTC_5x4_Format:Nm,RGBA_ASTC_5x5_Format:Rm,RGBA_ASTC_6x5_Format:Lm,RGBA_ASTC_6x6_Format:Im,RGBA_ASTC_8x5_Format:Dm,RGBA_ASTC_8x6_Format:km,RGBA_ASTC_8x8_Format:Om,RGBA_BPTC_Format:Hm,RGBA_ETC2_EAC_Format:Am,RGBA_PVRTC_2BPPV1_Format:Cm,RGBA_PVRTC_4BPPV1_Format:Em,RGBA_S3TC_DXT1_Format:Yu,RGBA_S3TC_DXT3_Format:Ju,RGBA_S3TC_DXT5_Format:Zu,RGBFormat:pb,RGB_ETC1_Format:Sb,RGB_ETC2_Format:Tm,RGB_PVRTC_2BPPV1_Format:Mm,RGB_PVRTC_4BPPV1_Format:bm,RGB_S3TC_DXT1_Format:qu,RGFormat:xb,RGIntegerFormat:_b,RawShaderMaterial:hM,Ray:uc,Raycaster:p4,RectAreaLight:NM,RedFormat:vb,RedIntegerFormat:yb,ReinhardToneMapping:rb,RepeatWrapping:Fl,ReplaceStencilOp:fP,ReverseSubtractEquation:BS,RingBufferGeometry:e5,RingGeometry:yc,SRGBColorSpace:Ai,Scene:jb,ShaderChunk:qe,ShaderLib:vi,ShaderMaterial:Fi,ShadowMaterial:dM,Shape:ks,ShapeBufferGeometry:t5,ShapeGeometry:xc,ShapePath:I4,ShapeUtils:Oi,ShortType:cb,Skeleton:Vh,SkeletonHelper:_4,SkinnedMesh:Jb,Source:Cs,Sphere:Zs,SphereBufferGeometry:n5,SphereGeometry:wa,Spherical:m4,SphericalHarmonics3:RM,SplineCurve:D0,SpotLight:CM,SpotLightHelper:x4,Sprite:qb,SpriteMaterial:T0,SrcAlphaFactor:m0,SrcAlphaSaturateFactor:XS,SrcColorFactor:VS,StaticCopyUsage:RP,StaticDrawUsage:Gl,StaticReadUsage:AP,StereoCamera:$k,StreamCopyUsage:IP,StreamDrawUsage:TP,StreamReadUsage:NP,StringKeyframeTrack:eo,SubtractEquation:FS,SubtractiveBlending:xm,TOUCH:tP,TangentSpaceNormalMap:ts,TetrahedronBufferGeometry:i5,TetrahedronGeometry:_c,Texture:Ht,TextureLoader:kk,TorusBufferGeometry:r5,TorusGeometry:wc,TorusKnotBufferGeometry:s5,TorusKnotGeometry:Sc,Triangle:Kn,TriangleFanDrawMode:uP,TriangleStripDrawMode:cP,TrianglesDrawMode:lP,TubeBufferGeometry:o5,TubeGeometry:bc,UVMapping:Nh,Uint16BufferAttribute:S0,Uint32BufferAttribute:b0,Uint8BufferAttribute:cN,Uint8ClampedBufferAttribute:uN,Uniform:j0,UniformsGroup:d4,UniformsLib:ye,UniformsUtils:Ib,UnsignedByteType:qr,UnsignedInt248Type:Ls,UnsignedIntType:Lr,UnsignedShort4444Type:db,UnsignedShort5551Type:hb,UnsignedShortType:y0,VSMShadowMap:Fo,Vector2:le,Vector3:N,Vector4:lt,VectorKeyframeTrack:Jl,VideoTexture:YD,WebGL1Renderer:$b,WebGL3DRenderTarget:KP,WebGLArrayRenderTarget:ZP,WebGLCubeRenderTarget:kb,WebGLMultipleRenderTargets:QP,WebGLMultisampleRenderTarget:z4,WebGLRenderTarget:oi,WebGLRenderer:Wb,WebGLUtils:Vb,WireframeGeometry:uM,WrapAroundEnding:Vl,ZeroCurvatureEnding:Ms,ZeroFactor:zS,ZeroSlopeEnding:Es,ZeroStencilOp:hP,_SRGBAFormat:Id,sRGBEncoding:_t},Symbol.toStringTag,{value:"Module"})),X0="/assets/Zen.5578fee7.png";const BM=Qi.createContext({showPage:"tab1",changePage:n=>{}}),zM=Qi.createContext({changeNav:n=>{}}),l5=({isActive:n,onChangeTab:e})=>{const{showPage:t,changePage:i}=F.exports.useContext(BM),r=F.exports.useRef(null),s={baseX:-8,baseY:-4};function o(c){r.current!==null&&n&&(r.current.style.transform=`translate(${s.baseX+c.offsetLeft}px, ${s.baseY}px)`)}F.exports.useEffect(()=>{const c=document.querySelector(`#${n}`);o(c)},[]),o0(c=>c.tabs);const a=c0();function l(c){e(c),a({type:mS.CHANGE,payload:{tabName:c}})}return m("div",{children:M("div",{className:"filter-container",children:[m("div",{id:"tab1",className:`tab-styles ${n==="tab1"?"filter-option-active":"filter-option"}`,onClick:c=>{l("tab1"),i("tab1"),o(c.target)},children:m(Df,{to:"/homepage/about",children:" About "})}),m("div",{id:"tab2",className:`tab-styles ${n==="tab2"?"filter-option-active":"filter-option"}`,onClick:c=>{l("tab2"),i("tab2"),o(c.target)},children:m(Df,{to:"/homepage/works",children:" Works "})}),m("div",{id:"tab3",className:`tab-styles ${n==="tab3"?"filter-option-active":"filter-option"}`,onClick:c=>{l("tab3"),i("tab3"),o(c.target)},children:m(Df,{to:"/homepage/articles",children:" Article "})}),m("div",{className:"filter-bg",ref:r})]})})};const c5=()=>{const n=()=>localStorage.getItem("activeState")===null?"tab1":localStorage.getItem("activeState"),[e,t]=F.exports.useState(n);function i(s){t(s),localStorage.setItem("activeState",s)}function r(){window.open("mailto:caiyuzhen00@gail.com","_blank")}return m(je,{children:M("div",{className:"main-nav",children:[M("div",{className:"page-logo",children:[m("img",{src:X0,decoding:"async",alt:"",width:"40px"}),m("span",{className:"page-logo-text",children:"\u{1F440} Hi~"})]}),m(l5,{isActive:e,onChangeTab:i}),m("div",{className:"contact",style:{cursor:"pointer"},onClick:r,children:m("p",{children:"Contact"})})]})})};const u5="/assets/icon-gointo.5abb0591.svg",q0=F.exports.createContext({YPos:0,updateYPosFn:()=>{}}),d5=({children:n})=>{const[e,t]=F.exports.useState(0);function i(s){t(s)}const r={YPos:e,updateYPosFn:i};return F.exports.useEffect(()=>{e!==0&&console.log("\u66F4\u65B0\u4E86:",e)},[r.updateYPosFn]),m(q0.Provider,{value:r,children:n})},h5=({content:n,index:e})=>{const{cursorType:t,cursorChangeHandler:i}=F.exports.useContext(qs),{YPos:r,updateYPosFn:s}=F.exports.useContext(q0);F.exports.useEffect(()=>{const c=document.querySelectorAll(".project-card")[0];if(c){const u=Math.floor(c.getBoundingClientRect().top+window.pageYOffset);u>=0&&(console.log(r),s(u))}},[]);const o=F.exports.useRef(null),a=pa();function l(c){const u=c.dataset.index,h=u==="0"?"/homepage/works/projectA":u==="1"?"/homepage/works/projectB":u==="2"?"/homepage/works/projectC":null;h&&a(h)}return m(je,{children:M("div",{className:"project-card",id:n.id,onMouseEnter:()=>i("hovered"),onMouseLeave:()=>i(""),onClick:c=>{window.scrollTo(0,0),l(c.currentTarget)},ref:o,"data-index":e,children:[M("div",{className:"project-card-top",children:[m("div",{className:"project-card-title",children:n.title}),M("div",{className:"right-action",children:[m("img",{src:u5,alt:"",className:"project-card-icon"}),e===0&&m("div",{className:"project-card-time",children:"2021"}),e===1&&m("div",{className:"project-card-time",children:"2022"}),e===2&&m("div",{className:"project-card-time",children:"2019"})]})]}),m("img",{src:n.cover,alt:"",className:"project-image"})]})})};const f5="/assets/icon-next.c2b872cb.svg";const p5=()=>M("div",{className:"workTopInfo-container",children:[M("div",{className:"baseInfo-container",children:[m("p",{children:"I've experienced TocC and different types of ToB projects in my career, and in recent years I've mainly been working on SAAS products, so if you're interested, you can browse my work, thanks a lot \u{1F64F}!"}),m("img",{src:f5,alt:"",style:{transform:"rotate(45deg)"}})]}),M("div",{className:"bigTitle-container",children:[m("div",{className:"bigTitle text",children:"Main Works"}),m("div",{className:"trim"})]}),M("div",{className:"timeLine-container",children:[M("div",{className:"timeline-Step-one timeline",children:[m("p",{className:"timeline-title",children:"2019-2023"}),m("p",{className:"timeline-des",children:"Product Designer"})]}),m("div",{className:"circle"}),M("div",{className:"timeline-Step-two timeline",children:[m("p",{className:"timeline-title",children:"2018-2019"}),m("p",{className:"timeline-des",children:"Beteco UI&UX Designer"})]}),m("div",{className:"circle"}),M("div",{className:"timeline-Step-three timeline",children:[m("p",{className:"timeline-title",children:"2017-2018"}),m("p",{className:"timeline-des",children:"Lianjia Visual Designer"})]}),m("div",{className:"circle"}),M("div",{className:"timeline-Step-four timeline",children:[m("p",{className:"timeline-title",children:"2013-2017"}),m("p",{className:"timeline-des",children:"Just a student \u{1F604}"})]})]})]});const m5="/assets/work-1.36f49c99.jpg",g5="/assets/work-2.b13626b0.jpg",v5="/assets/work-3.881d7347.jpg",y5="/assets/icon-detail.abe3125c.svg";function UM(n,e){return function(){return n.apply(e,arguments)}}const{toString:VM}=Object.prototype,{getPrototypeOf:Y0}=Object,J0=(n=>e=>{const t=VM.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),fr=n=>(n=n.toLowerCase(),e=>J0(e)===n),Xh=n=>e=>typeof e===n,{isArray:Ec}=Array,eg=Xh("undefined");function x5(n){return n!==null&&!eg(n)&&n.constructor!==null&&!eg(n.constructor)&&ba(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const GM=fr("ArrayBuffer");function _5(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&GM(n.buffer),e}const w5=Xh("string"),ba=Xh("function"),HM=Xh("number"),WM=n=>n!==null&&typeof n=="object",S5=n=>n===!0||n===!1,nd=n=>{if(J0(n)!=="object")return!1;const e=Y0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},b5=fr("Date"),M5=fr("File"),E5=fr("Blob"),C5=fr("FileList"),T5=n=>WM(n)&&ba(n.pipe),A5=n=>{const e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||VM.call(n)===e||ba(n.toString)&&n.toString()===e)},P5=fr("URLSearchParams"),N5=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Ec(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function tg(){const n={},e=(t,i)=>{nd(n[i])&&nd(t)?n[i]=tg(n[i],t):nd(t)?n[i]=tg({},t):Ec(t)?n[i]=t.slice():n[i]=t};for(let t=0,i=arguments.length;t<i;t++)arguments[t]&&qh(arguments[t],e);return n}const R5=(n,e,t,{allOwnKeys:i}={})=>(qh(e,(r,s)=>{t&&ba(r)?n[s]=UM(r,t):n[s]=r},{allOwnKeys:i}),n),L5=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),I5=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},D5=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Y0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},k5=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},O5=n=>{if(!n)return null;if(Ec(n))return n;let e=n.length;if(!HM(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},F5=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Y0(Uint8Array)),B5=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},z5=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},U5=fr("HTMLFormElement"),V5=n=>n.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),f_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),G5=fr("RegExp"),$M=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};qh(t,(r,s)=>{e(r,s,n)!==!1&&(i[s]=r)}),Object.defineProperties(n,i)},H5=n=>{$M(n,(e,t)=>{const i=n[t];if(!!ba(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not read-only method '"+t+"'")})}})},W5=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return Ec(n)?i(n):i(String(n).split(e)),t},$5=()=>{},j5=(n,e)=>(n=+n,Number.isFinite(n)?n:e),se={isArray:Ec,isArrayBuffer:GM,isBuffer:x5,isFormData:A5,isArrayBufferView:_5,isString:w5,isNumber:HM,isBoolean:S5,isObject:WM,isPlainObject:nd,isUndefined:eg,isDate:b5,isFile:M5,isBlob:E5,isRegExp:G5,isFunction:ba,isStream:T5,isURLSearchParams:P5,isTypedArray:F5,isFileList:C5,forEach:qh,merge:tg,extend:R5,trim:N5,stripBOM:L5,inherits:I5,toFlatObject:D5,kindOf:J0,kindOfTest:fr,endsWith:k5,toArray:O5,forEachEntry:B5,matchAll:z5,isHTMLForm:U5,hasOwnProperty:f_,hasOwnProp:f_,reduceDescriptors:$M,freezeMethods:H5,toObjectSet:W5,toCamelCase:V5,noop:$5,toFiniteNumber:j5};function nt(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r)}se.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jM=nt.prototype,XM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{XM[n]={value:n}});Object.defineProperties(nt,XM);Object.defineProperty(jM,"isAxiosError",{value:!0});nt.from=(n,e,t,i,r,s)=>{const o=Object.create(jM);return se.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),nt.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};var X5=typeof self=="object"?self.FormData:window.FormData;function ng(n){return se.isPlainObject(n)||se.isArray(n)}function qM(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function p_(n,e,t){return n?n.concat(e).map(function(r,s){return r=qM(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function q5(n){return se.isArray(n)&&!n.some(ng)}const Y5=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function J5(n){return n&&se.isFunction(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator]}function Yh(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new(X5||FormData),t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,g){return!se.isUndefined(g[f])});const i=t.metaTokens,r=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&J5(e);if(!se.isFunction(r))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(se.isDate(v))return v.toISOString();if(!l&&se.isBlob(v))throw new nt("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(v)||se.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,f,g){let y=v;if(v&&!g&&typeof v=="object"){if(se.endsWith(f,"{}"))f=i?f:f.slice(0,-2),v=JSON.stringify(v);else if(se.isArray(v)&&q5(v)||se.isFileList(v)||se.endsWith(f,"[]")&&(y=se.toArray(v)))return f=qM(f),y.forEach(function(_,w){!(se.isUndefined(_)||_===null)&&e.append(o===!0?p_([f],w,s):o===null?f:f+"[]",c(_))}),!1}return ng(v)?!0:(e.append(p_(g,f,s),c(v)),!1)}const h=[],d=Object.assign(Y5,{defaultVisitor:u,convertValue:c,isVisitable:ng});function p(v,f){if(!se.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+f.join("."));h.push(v),se.forEach(v,function(y,x){(!(se.isUndefined(y)||y===null)&&r.call(e,y,se.isString(x)?x.trim():x,f,d))===!0&&p(y,f?f.concat(x):[x])}),h.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return p(n),e}function m_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Z0(n,e){this._pairs=[],n&&Yh(n,this,e)}const YM=Z0.prototype;YM.append=function(e,t){this._pairs.push([e,t])};YM.toString=function(e){const t=e?function(i){return e.call(this,i,m_)}:m_;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Z5(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JM(n,e,t){if(!e)return n;const i=t&&t.encode||Z5,r=t&&t.serialize;let s;if(r?s=r(e,t):s=se.isURLSearchParams(e)?e.toString():new Z0(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class g_{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(i){i!==null&&e(i)})}}const ZM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K5=typeof URLSearchParams<"u"?URLSearchParams:Z0,Q5=FormData,eO=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ir={isBrowser:!0,classes:{URLSearchParams:K5,FormData:Q5,Blob},isStandardBrowserEnv:eO,protocols:["http","https","file","blob","url","data"]};function tO(n,e){return Yh(n,new ir.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return ir.isNode&&se.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function nO(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iO(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function KM(n){function e(t,i,r,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&se.isArray(r)?r.length:o,l?(se.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!se.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&se.isArray(r[o])&&(r[o]=iO(r[o])),!a)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(i,r)=>{e(nO(i),r,t,0)}),t}return null}function rO(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new nt("Request failed with status code "+t.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const sO=ir.isStandardBrowserEnv?function(){return{write:function(t,i,r,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(i)),se.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),se.isString(s)&&l.push("path="+s),se.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function oO(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function aO(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function QM(n,e){return n&&!oO(e)?aO(n,e):e}const lO=ir.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function r(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=r(window.location.href),function(o){const a=se.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function Cc(n,e,t){nt.call(this,n==null?"canceled":n,nt.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(Cc,nt,{__CANCEL__:!0});function cO(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}const uO=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dO=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&uO[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},v_=Symbol("internals"),e2=Symbol("defaults");function Ka(n){return n&&String(n).trim().toLowerCase()}function id(n){return n===!1||n==null?n:se.isArray(n)?n.map(id):String(n)}function hO(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}function y_(n,e,t,i){if(se.isFunction(i))return i.call(this,e,t);if(!!se.isString(e)){if(se.isString(i))return e.indexOf(i)!==-1;if(se.isRegExp(i))return i.test(e)}}function fO(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function pO(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}function $a(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}function ni(n,e){n&&this.set(n),this[e2]=e||null}Object.assign(ni.prototype,{set:function(n,e,t){const i=this;function r(s,o,a){const l=Ka(o);if(!l)throw new Error("header name must be a non-empty string");const c=$a(i,l);c&&a!==!0&&(i[c]===!1||a===!1)||(i[c||o]=id(s))}return se.isPlainObject(n)?se.forEach(n,(s,o)=>{r(s,o,e)}):r(e,n,t),this},get:function(n,e){if(n=Ka(n),!n)return;const t=$a(this,n);if(t){const i=this[t];if(!e)return i;if(e===!0)return hO(i);if(se.isFunction(e))return e.call(this,i,t);if(se.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}},has:function(n,e){if(n=Ka(n),n){const t=$a(this,n);return!!(t&&(!e||y_(this,this[t],t,e)))}return!1},delete:function(n,e){const t=this;let i=!1;function r(s){if(s=Ka(s),s){const o=$a(t,s);o&&(!e||y_(t,t[o],o,e))&&(delete t[o],i=!0)}}return se.isArray(n)?n.forEach(r):r(n),i},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(n){const e=this,t={};return se.forEach(this,(i,r)=>{const s=$a(t,r);if(s){e[s]=id(i),delete e[r];return}const o=n?fO(r):String(r).trim();o!==r&&delete e[r],e[o]=id(i),t[o]=!0}),this},toJSON:function(n){const e=Object.create(null);return se.forEach(Object.assign({},this[e2]||null,this),(t,i)=>{t==null||t===!1||(e[i]=n&&se.isArray(t)?t.join(", "):t)}),e}});Object.assign(ni,{from:function(n){return se.isString(n)?new this(dO(n)):n instanceof this?n:new this(n)},accessor:function(n){const t=(this[v_]=this[v_]={accessors:{}}).accessors,i=this.prototype;function r(s){const o=Ka(s);t[o]||(pO(i,s),t[o]=!0)}return se.isArray(n)?n.forEach(r):r(n),this}});ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);se.freezeMethods(ni.prototype);se.freezeMethods(ni);function mO(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),t[r]=l,i[r]=c;let h=s,d=0;for(;h!==r;)d+=t[h++],h=h%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(d*1e3/p):void 0}}function x_(n,e){let t=0;const i=mO(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-t,l=i(a),c=s<=o;t=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0};u[e?"download":"upload"]=!0,n(u)}}function __(n){return new Promise(function(t,i){let r=n.data;const s=ni.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}se.isFormData(r)&&ir.isStandardBrowserEnv&&s.setContentType(!1);let c=new XMLHttpRequest;if(n.auth){const p=n.auth.username||"",v=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+v))}const u=QM(n.baseURL,n.url);c.open(n.method.toUpperCase(),JM(u,n.params,n.paramsSerializer),!0),c.timeout=n.timeout;function h(){if(!c)return;const p=ni.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),f={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:n,request:c};rO(function(y){t(y),l()},function(y){i(y),l()},f),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){!c||(i(new nt("Request aborted",nt.ECONNABORTED,n,c)),c=null)},c.onerror=function(){i(new nt("Network Error",nt.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const f=n.transitional||ZM;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),i(new nt(v,f.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,n,c)),c=null},ir.isStandardBrowserEnv){const p=(n.withCredentials||lO(u))&&n.xsrfCookieName&&sO.read(n.xsrfCookieName);p&&s.set(n.xsrfHeaderName,p)}r===void 0&&s.setContentType(null),"setRequestHeader"in c&&se.forEach(s.toJSON(),function(v,f){c.setRequestHeader(f,v)}),se.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&o!=="json"&&(c.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&c.addEventListener("progress",x_(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",x_(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=p=>{!c||(i(!p||p.type?new Cc(null,n,c):p),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const d=cO(u);if(d&&ir.protocols.indexOf(d)===-1){i(new nt("Unsupported protocol "+d+":",nt.ERR_BAD_REQUEST,n));return}c.send(r||null)})}const w_={http:__,xhr:__},S_={getAdapter:n=>{if(se.isString(n)){const e=w_[n];if(!n)throw Error(se.hasOwnProp(n)?`Adapter '${n}' is not available in the build`:`Can not resolve adapter '${n}'`);return e}if(!se.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:w_},gO={"Content-Type":"application/x-www-form-urlencoded"};function vO(){let n;return typeof XMLHttpRequest<"u"?n=S_.getAdapter("xhr"):typeof process<"u"&&se.kindOf(process)==="process"&&(n=S_.getAdapter("http")),n}function yO(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Ma={transitional:ZM,adapter:vO(),transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=se.isObject(e);if(s&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return r&&r?JSON.stringify(KM(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return tO(e,this.formSerializer).toString();if((a=se.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Yh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),yO(e)):e}],transformResponse:[function(e){const t=this.transitional||Ma.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(e&&se.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?nt.from(a,nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};se.forEach(["delete","get","head"],function(e){Ma.headers[e]={}});se.forEach(["post","put","patch"],function(e){Ma.headers[e]=se.merge(gO)});function gp(n,e){const t=this||Ma,i=e||t,r=ni.from(i.headers);let s=i.data;return se.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function t2(n){return!!(n&&n.__CANCEL__)}function vp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Cc}function b_(n){return vp(n),n.headers=ni.from(n.headers),n.data=gp.call(n,n.transformRequest),(n.adapter||Ma.adapter)(n).then(function(i){return vp(n),i.data=gp.call(n,n.transformResponse,i),i.headers=ni.from(i.headers),i},function(i){return t2(i)||(vp(n),i&&i.response&&(i.response.data=gp.call(n,n.transformResponse,i.response),i.response.headers=ni.from(i.response.headers))),Promise.reject(i)})}function Ql(n,e){e=e||{};const t={};function i(c,u){return se.isPlainObject(c)&&se.isPlainObject(u)?se.merge(c,u):se.isPlainObject(u)?se.merge({},u):se.isArray(u)?u.slice():u}function r(c){if(se.isUndefined(e[c])){if(!se.isUndefined(n[c]))return i(void 0,n[c])}else return i(n[c],e[c])}function s(c){if(!se.isUndefined(e[c]))return i(void 0,e[c])}function o(c){if(se.isUndefined(e[c])){if(!se.isUndefined(n[c]))return i(void 0,n[c])}else return i(void 0,e[c])}function a(c){if(c in e)return i(n[c],e[c]);if(c in n)return i(void 0,n[c])}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return se.forEach(Object.keys(n).concat(Object.keys(e)),function(u){const h=l[u]||r,d=h(u);se.isUndefined(d)&&h!==a||(t[u]=d)}),t}const n2="1.1.3",K0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{K0[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const M_={};K0.transitional=function(e,t,i){function r(s,o){return"[Axios v"+n2+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new nt(r(o," has been removed"+(t?" in "+t:"")),nt.ERR_DEPRECATED);return t&&!M_[o]&&(M_[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function xO(n,e,t){if(typeof n!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new nt("option "+s+" must be "+l,nt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new nt("Unknown option "+s,nt.ERR_BAD_OPTION)}}const ig={assertOptions:xO,validators:K0},Mr=ig.validators;class Os{constructor(e){this.defaults=e,this.interceptors={request:new g_,response:new g_}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ql(this.defaults,t);const{transitional:i,paramsSerializer:r}=t;i!==void 0&&ig.assertOptions(i,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),r!==void 0&&ig.assertOptions(r,{encode:Mr.function,serialize:Mr.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();const s=t.headers&&se.merge(t.headers.common,t.headers[t.method]);s&&se.forEach(["delete","get","head","post","put","patch","common"],function(v){delete t.headers[v]}),t.headers=new ni(t.headers,s);const o=[];let a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(a=a&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let c,u=0,h;if(!a){const p=[b_.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,l),h=p.length,c=Promise.resolve(t);u<h;)c=c.then(p[u++],p[u++]);return c}h=o.length;let d=t;for(u=0;u<h;){const p=o[u++],v=o[u++];try{d=p(d)}catch(f){v.call(this,f);break}}try{c=b_.call(this,d)}catch(p){return Promise.reject(p)}for(u=0,h=l.length;u<h;)c=c.then(l[u++],l[u++]);return c}getUri(e){e=Ql(this.defaults,e);const t=QM(e.baseURL,e.url);return JM(t,e.params,e.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(e){Os.prototype[e]=function(t,i){return this.request(Ql(i||{},{method:e,url:t,data:(i||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(Ql(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Os.prototype[e]=t(),Os.prototype[e+"Form"]=t(!0)});class Q0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Cc(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Q0(function(r){e=r}),cancel:e}}}function _O(n){return function(t){return n.apply(null,t)}}function wO(n){return se.isObject(n)&&n.isAxiosError===!0}function i2(n){const e=new Os(n),t=UM(Os.prototype.request,e);return se.extend(t,Os.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return i2(Ql(n,r))},t}const Jt=i2(Ma);Jt.Axios=Os;Jt.CanceledError=Cc;Jt.CancelToken=Q0;Jt.isCancel=t2;Jt.VERSION=n2;Jt.toFormData=Yh;Jt.AxiosError=nt;Jt.Cancel=Jt.CanceledError;Jt.all=function(e){return Promise.all(e)};Jt.spread=_O;Jt.isAxiosError=wO;Jt.formToJSON=n=>KM(se.isHTMLForm(n)?new FormData(n):n);const SO=n=>{const{id:e,title:t,subTitle:i}=n;return M("div",{className:"banner-text-container",id:e,children:[m("p",{className:"content-title",children:t}),m("p",{className:"content-subtitle",children:i})]})},bO=()=>{const[n,e]=F.exports.useState(0),i=[...document.querySelectorAll(".dot")],r=document.querySelector(".work-0"),s=document.querySelector(".work-1"),o=document.querySelector(".work-2"),{cursorChangeHandler:a}=F.exports.useContext(qs),l=c0();function c(g){l({type:gS.CHANGE,payload:{bannerDotValue:g}})}const u=o0(g=>g.bannerDots.bannerDotValue);F.exports.useEffect(()=>{const g=setInterval(()=>{const y=(u+1)%3;c(y)},2500);return()=>clearInterval(g)},[u,l]),F.exports.useEffect(()=>{if(u===0){if(r!==null){r.style.transform="translate(0px)",s.style.transform=`translate(-${s.offsetWidth*(u+1)}px)`,o.style.transform=`translate(-${o.offsetWidth*(u+1)}px)`,e(0);return}}else if(u===1){if(s!==null){s.style.transform="translate(0px)",r.style.transform=`translate(-${r.offsetWidth*u}px)`,o.style.transform=`translate(-${o.offsetWidth*u}px)`,e(1);return}}else if(u===2&&o!==null){o.style.transform="translate(0px)",r.style.transform=`translate(-${r.offsetWidth*(u-1)}px)`,s.style.transform=`translate(-${s.offsetWidth*(u-1)}px)`,e(2);return}},[u]),F.exports.useEffect(()=>{i.forEach((g,y)=>{y===n?g.classList.add("dot-Selector"):g.classList.remove("dot-Selector")})},[n]);const[h,d]=F.exports.useState([]);async function p(){const g=await Jt.get("../../../../../content/works/bannerContent.json");if(g!==void 0){const y=g.data.data;d(y)}}F.exports.useEffect(()=>{p()},[]);const v=pa();function f(g){const y=g===0?"/homepage/works/projectA":g===1?"/homepage/works/projectB":g===2?"/homepage/works/projectC":null;y&&v(y)}return m(je,{children:M("div",{className:"mainWork-banner-container",onMouseEnter:()=>a("hovered"),onMouseLeave:()=>a(""),children:[M("div",{className:"imgMask-box",children:[m("img",{src:m5,alt:"",className:"mainWork work-0",onClick:()=>f(n)}),m("img",{src:g5,alt:"",className:"mainWork work-1",onClick:()=>f(n)}),m("img",{src:v5,alt:"",className:"mainWork work-2",onClick:()=>f(n)})]}),M("div",{className:"content-conatiner",children:[h&&h.map((g,y)=>{if(y===n)return m(SO,{id:g.id,title:g.title,subTitle:g.des},y)}),M("div",{className:"navDot-container",children:[M("div",{className:"navDotGroup",children:[m("div",{className:"dot dot-Selector",onClick:g=>{c(0)}}),m("div",{className:"dot",onClick:g=>{c(1)}}),m("div",{className:"dot ",onClick:g=>{c(2)}})]}),m("img",{src:y5,alt:""})]})]})]})})},r2="/assets/icon-circle.87d6217f.svg",MO="/assets/icon-squareGraphic.56e84de5.svg",EO="/assets/icon-gear.50542317.svg";function fi(){return(fi=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function CO({style:n={},className:e="",reverse:t=!1,max:i=35,perspective:r=1e3,easing:s="cubic-bezier(.03,.98,.52,.99)",scale:o=1,speed:a=300,axis:l="",reset:c=!0,glare:u=!1,maxGlare:h=1,glareStyle:d={},gyroscope:p=!0,gyroscopeMinAngleX:v=-45,gyroscopeMaxAngleX:f=45,gyroscopeMinAngleY:g=-45,gyroscopeMaxAngleY:y=45,onMouseEnter:x=()=>{},onMouseMove:_=()=>{},onMouseLeave:w=()=>{},onTiltChange:b=()=>{},children:E}){const[T,S]=F.exports.useState({position:"relative",willChange:"transform"}),[A,L]=F.exports.useState({position:"absolute",top:"50%",left:"50%",pointerEvents:"none",backgroundImage:"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)",transformOrigin:"0% 0%",opacity:"0"}),H=F.exports.useRef(0),oe=F.exports.useRef(0),G=F.exports.useRef(0),k=F.exports.useRef(0),j=F.exports.useRef(null),Z=F.exports.useRef(null),ce=t?1:-1,D=F.exports.useRef(null);F.exports.useEffect(()=>()=>{clearTimeout(j.current),typeof window<"u"&&window.cancelAnimationFrame(Z.current)},[]),F.exports.useEffect(()=>{if(!u||typeof window>"u")return()=>{};const X=()=>{L(he=>fi({},he,{width:2*D.current.offsetWidth,height:2*D.current.offsetWidth}))};return window.addEventListener("resize",X),()=>{window.removeEventListener("resize",X)}},[u]),F.exports.useLayoutEffect(()=>{L(X=>fi({},X,{width:2*D.current.offsetWidth,height:2*D.current.offsetWidth}))},[]);const I=()=>{const X=D.current.getBoundingClientRect();H.current=D.current.offsetWidth,oe.current=D.current.offsetHeight,G.current=X.left,k.current=X.top},B=F.exports.useCallback(X=>{let he=(X.nativeEvent.clientX-G.current)/H.current,Ce=(X.nativeEvent.clientY-k.current)/oe.current;return he=Math.min(Math.max(he,0),1),Ce=Math.min(Math.max(Ce,0),1),{tiltX:(ce*(i/2-he*i)).toFixed(2),tiltY:(ce*(Ce*i-i/2)).toFixed(2),percentageX:100*he,percentageY:100*Ce,angle:Math.atan2(X.nativeEvent.clientX-(G.current+H.current/2),-(X.nativeEvent.clientY-(k.current+oe.current/2)))*(180/Math.PI)}},[i,ce]),Y=F.exports.useCallback(X=>{const he=B(X);S(Ce=>fi({},Ce,{transform:`perspective(${r}px) rotateX(${l.toLowerCase()==="x"?0:he.tiltY}deg) rotateY(${l.toLowerCase()==="y"?0:he.tiltX}deg) scale3d(${o}, ${o}, ${o})`})),u&&L(Ce=>fi({},Ce,{transform:`rotate(${he.angle}deg) translate(-50%, -50%)`,opacity:he.percentageY*h/100})),D.current.dispatchEvent(new CustomEvent("tiltChange",{detail:he})),b({detail:he}),Z.current=null},[l,B,u,h,r,o,b]),ee=()=>{clearTimeout(j.current),S(X=>fi({},X,{transition:`${a}ms ${s}`})),j.current=setTimeout(()=>{S(X=>fi({},X,{transition:""}))},a)};return F.exports.useEffect(()=>{if(!p)return()=>{};const X=he=>{if(he.gamma===null||he.beta===null||typeof window>"u")return;I();const Ce=(he.gamma-v)/((f-v)/H.current),q=(he.beta-g)/((y-g)/oe.current);Z.current!==null&&typeof window<"u"&&window.cancelAnimationFrame(Z.current),he.nativeEvent={clientX:Ce+G.current,clientY:q+k.current},Z.current=requestAnimationFrame(()=>Y(he))};return window.addEventListener("deviceorientation",X),()=>{window.removeEventListener("deviceorientation",X)}},[p,f,y,v,g,Y]),Qi.createElement("div",{ref:D,style:fi({},n,T),className:e,onMouseEnter:X=>(I(),ee(),x(X)),onMouseMove:X=>(X.persist(),Z.current!==null&&typeof window<"u"&&window.cancelAnimationFrame(Z.current),Z.current=requestAnimationFrame(()=>Y(X)),_(X)),onMouseLeave:X=>(ee(),c&&typeof window<"u"&&window.requestAnimationFrame(()=>{S(he=>fi({},he,{transform:`perspective(${r}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})),u&&L(he=>fi({},he,{transform:"rotate(180deg) translate(-50%, -50%)",opacity:0}))}),w(X))},u&&Qi.createElement("div",{className:"tilty-glare-wrapper",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}},Qi.createElement("div",{className:"tilty-glare",style:fi({},d,A)})),E)}const TO=()=>m("div",{className:"skeleton-card",children:m("div",{className:"skeleton-card-placeholder"})}),s2=()=>{const[n,e]=F.exports.useState([]),[t,i]=F.exports.useState(!0);return F.exports.useEffect(()=>{const r=localStorage.getItem("projectData");async function s(){try{const a=await(await fetch("/api/getTitles",{method:"GET"})).json();console.log(a),e(a),i(!1)}catch(o){console.log(o)}}if(r){const{projectData:o,timestamp:a,expireTime:l}=JSON.parse(r);if(new Date().getTime()<l){e(o),i(!1);return}else if(new Date().getTime()>=l){localStorage.removeItem("projectData"),s();return}}else{s();return}},[]),F.exports.useEffect(()=>{const r=new Date().getTime(),s={projectData:n,timestamp:r,expireTime:r+15*60*1e3};localStorage.setItem("projectData",JSON.stringify(s))},[n]),F.exports.useState(0),m(je,{children:M("div",{className:"context-container",children:[m(p5,{}),m(CO,{className:"tilty",style:{zIndex:10,padding:0,width:"100%",transformStyle:"preserve-3d"},settings:{glare:!0,"max-glare":.5},children:m(bO,{})}),m("div",{className:"works-container",children:t?Array.from({length:3},(r,s)=>m(TO,{},s)):n.map((r,s)=>m(h5,{content:r,index:s},s))}),m("img",{src:r2,alt:"",className:"BgCircle"}),m("img",{src:MO,alt:"",className:"squareIcon"}),m("img",{src:EO,alt:"",className:"gear"})]})})};const AO="/assets/icon-maimai.999aa932.svg",PO="/assets/icon-titter.f87706f1.svg",NO="/assets/icon-okjike.a192807c.svg",RO="/assets/icon-instagram.792370ec.svg",LO="/assets/icon-facebook.f55cdda4.svg",IO="/assets/icon-whatApp.d6a56526.svg",DO="/assets/icon-tiktok.d80541c1.svg",kO="/assets/icon-zhihu.ab632602.svg",OO="/assets/icon-dribble.8391ee8b.svg",FO="/assets/icon-discord.a68cd531.svg",BO="/assets/icon-jueJin.d8178de0.svg",zO="/assets/icon-contact.b3a3309b.svg",UO="/assets/icon-book.5bd4137e.svg",VO="/assets/icon-download.9748ddfb.svg",GO="/assets/Zeno_Senior UX Designer.f23d7eb6.pdf",HO="/assets/icon-tran.437ec8f2.svg";class WO extends Qi.Component{constructor(e){super(e),this.state={num:0,allAvatarData:[]}}componentDidMount(){fetch("../../../../../src/assets/data/avatarData.json").then(e=>e.json()).then(e=>{this.setState({allAvatarData:e})})}handleChangeAvatar(){const e=this.state.allAvatarData.length;let t=Math.floor(Math.random()*e);t===this.state.num&&(t=Math.floor(Math.random()*e)),this.setState({num:t})}handleRotateIn(){const e=document.querySelector(".changeAvatar");e.style.transform="rotate(360deg)"}handleRotateOut(){const e=document.querySelector(".changeAvatar");e.style.transform="rotate(-360deg)"}handleAvatarMouseDown(){if(this.state.allAvatarData.length>0){const e=document.querySelector("#avatar"),t=document.querySelector(".changeAvatar");e.style.transform="scale(0.9) rotate(-12deg)",t.style.transform="scale(0.9) rotate(720deg)"}}handleAvatarMouseUp(){if(this.state.allAvatarData.length>0){const e=document.querySelector("#avatar"),t=document.querySelector(".changeAvatar");e.style.transform="scale(1) rotate(0deg)",t.style.transform="scale(1) rotate(360deg)"}}render(){if(this.state.allAvatarData.length===0)return M("div",{className:"card-personal skeleton",children:[M("div",{className:"avatar-container",children:[m("div",{className:"avatar-skeleton"}),m("div",{className:"change-avatar-skeleton"})]}),M("div",{className:"text-container",children:[m("div",{className:"name-skeleton"}),m("div",{className:"description-skeleton"})]})]});const{url:e,describe:t}=this.state.allAvatarData[this.state.num],{cursorType:i,cursorChangeHandler:r}=this.props;return M("div",{className:"card-personal",onMouseEnter:()=>r("hovered"),onMouseLeave:()=>r(""),children:[M("div",{className:"avatar-container",children:[m("img",{className:"avatar",id:"avatar",src:e,alt:""}),m("img",{className:"changeAvatar",src:HO,alt:"",onClick:()=>{this.handleChangeAvatar()},onMouseEnter:()=>this.handleRotateIn(),onMouseLeave:()=>this.handleRotateOut(),onMouseDown:()=>this.handleAvatarMouseDown(),onMouseUp:()=>this.handleAvatarMouseUp()})]}),m("div",{className:"personal-description",children:m("p",{children:t})})]})}}const o2=()=>{const{cursorType:n,cursorChangeHandler:e}=F.exports.useContext(qs),t=GO;function i(r){const s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",""),s.click(),console.log("\u70B9\u4E86")}return M("div",{className:"aboutMe-container",children:[M("div",{className:"top-container",children:[m("div",{className:"title",children:"Hi, I'm Zeno"}),m("div",{className:"description",children:m("p",{children:"I hope that these social media bento cards will help you get to know me better and will help us collaborate better!"})})]}),M("div",{className:"bottom-container",children:[m(WO,{cursorType:n,cursorChangeHandler:e}),m("div",{className:"card-github",onClick:()=>window.open("https://maimai.cn/contact/share/card?u=hfzufwz9m7gu&_share_channel=copy_link"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:AO,alt:""})}),m("div",{className:"card-twitter",onClick:()=>window.open("https://twitter.com/Caizen5"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:PO,alt:""})}),m("div",{className:"card-okJike",onClick:()=>window.open("https://m.okjike.com/users/f559715a-4b9e-4f09-bc9d-6db48752feac?ref=PROFILE_CARD&utm_source=user_card"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:NO,alt:""})}),m("div",{className:"card-instagram",onClick:()=>window.open("https://www.instagram.com/yuzennn/"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:RO,alt:""})}),M("div",{className:"card-contactInfo",onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:[M("div",{className:"title-contact",children:[m("img",{src:zO,alt:""}),m("div",{children:"Contact"})]}),M("div",{className:"detail-info",children:[M("div",{className:"info",children:["Tel: ",m("p",{className:"info-text",children:"\xA0\xA013622382958"})]}),M("div",{className:"info",children:["Mail: ",m("p",{className:"info-text",children:"\xA0\xA0caiyuzhen00@gmail.com"})]}),M("div",{className:"info",children:["Wechat: ",m("p",{className:"info-text",children:"\xA0\xA0c-y-zhen"})]}),M("div",{className:"info",children:["QQ: ",m("p",{className:"info-text",children:"\xA0\xA0418590624"})]})]})]}),m("div",{className:"card-facebook",onClick:()=>window.open("https://www.facebook.com/zen.cai.50"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:LO,alt:""})}),m("div",{className:"card-whatApp",onClick:()=>window.open("https://wa.me/85295108666"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:IO,alt:""})}),M("div",{className:"card-profilePDF",onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:[M("div",{className:"title-pdfDL",children:[m("img",{src:UO,alt:""}),m("div",{children:"Profile"})]}),m("img",{src:VO,alt:"",onClick:()=>i(t)})]}),m("div",{className:"card-tikTok",onClick:()=>window.open("https://v.douyin.com/DdspMYC/"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:DO,alt:""})}),m("div",{className:"card-zhiHu",onClick:()=>window.open("https://www.zhihu.com/people/zhen-xian-sheng-83-11"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:kO,alt:""})}),m("div",{className:"card-dribble",onClick:()=>window.open("https://dribbble.com/Co2Zen"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:OO,alt:""})}),m("div",{className:"card-discord",onClick:()=>window.open("https://discord.gg/AD4xqavM"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:FO,alt:""})}),m("div",{className:"card-jueJin",onClick:()=>window.open("https://juejin.cn/user/1042804738899437"),onMouseEnter:()=>e("hovered"),onMouseLeave:()=>e(""),children:m("img",{src:BO,alt:""})})]})]})};const ev="/assets/icon-arrowOnly.8195312c.svg",$O=n=>{const{id:e,title:t,des:i,date:r,hashTag:s,img:o}=n,[a,l]=F.exports.useState(!1),{articleCardClick:c,setArticleCardClick:u}=F.exports.useContext(rg),[h,d]=F.exports.useState("");return F.exports.useEffect(()=>{async function p(v){const f=await Jt.get(v),g=/^.*(I\.|II\.|III\.|IV\.|V\.|VI\.|VII\.|VIII\.|IX\.|X).*$/gm,y=f.data.match(g);let x=f.data;y&&y.forEach(_=>{const w=`<div style=font-size:32px>${_}</div>`;x=x.replace(_,w)}),d(x)}p(i)},[]),M("div",{className:a?"article-card-fullPage":"article-card",id:e,onClick:()=>{u(!0),window.scrollTo(0,0),a||l(!a)},children:[a&&m("div",{className:"article-backIcon-wrapper",onClick:()=>{u(!1),l(!a)},children:m("div",{className:"article-back-circle",children:m("img",{className:"article-back-line",src:ev})})}),M("div",{className:"article-wrapper",children:[m("img",{src:o,alt:""}),M("div",{className:"right-container",children:[m("p",{className:"title",children:t}),m("p",{className:"article-detail-info",style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:h}}),M("div",{className:"metaInfo",children:[M("div",{className:"inline-author",children:[m("img",{src:X0,alt:""}),m("div",{className:"author",children:"Zeno"})]}),m("div",{className:"time",children:r}),M("div",{className:"hashTag",children:["# ",s]})]})]})]})]})},jO="/assets/rightGrid.51002dbf.png",XO="/assets/Icon-doubleCircle.824bd0de.svg",qO="/assets/icon-Quota.d9fe992b.svg";const YO=()=>{const{cursorChangeHandler:n}=F.exports.useContext(qs),{changeNav:e}=F.exports.useContext(zM),t=o0(u=>u.inspireNavState),[i,r]=F.exports.useState(0),s=c0();function o(u){s({type:vS.CHANGE,payload:{inspireNavState:u}});const h=parseInt(u);r(h),e(h),console.log(h)}F.exports.useEffect(()=>{console.log("navRedux:",t)},[i]);const[a,l]=F.exports.useState([]);async function c(){const h=(await Jt.get("../../../../../content/articles/inspireList/InspireNavSidebar.json")).data.data;l(h)}return F.exports.useEffect(()=>{c()},[]),m(je,{children:m("div",{className:"nav-items",onMouseEnter:()=>{n("hovered")},onMouseLeave:()=>{n("")},children:a&&a.map((u,h)=>m("div",{className:i===h?`item nav-item-${h} item-selected`:`item nav-item-${h}`,id:u.id,onClick:d=>o(u.id),children:M("div",{className:"inline",children:[m("img",{src:u.icon,alt:""}),m("p",{children:u.item})]})},h))})})};const JO=({id:n,content:e,time:t,author:i,hashTag:r,title:s})=>{const[o,a]=F.exports.useState(!1),[l,c]=F.exports.useState(0);return m(je,{children:M("div",{className:o?"inspired-card-fullPage":"card-container",id:n,onClick:u=>{if(!o){a(!o),window.scrollTo(0,0);const h=u.currentTarget.offsetTop;c(h!=null?h:0)}},children:[o&&m("div",{className:"article-backIcon-wrapper",onClick:()=>{a(!o),console.log(l),window.scrollTo(0,l)},children:m("div",{className:"article-back-circle",children:m("img",{className:"article-back-line",src:ev})})}),o&&m("div",{className:"inspire-title",children:s}),M("p",{children:[" ",e," "]}),M("div",{className:"metaInfo",children:[M("div",{className:"inline-author",children:[m("img",{src:X0,alt:""}),m("div",{className:"author",children:i})]}),M("span",{className:"time",children:[" ",t," "]}),M("span",{className:"hashTag",children:[" ",r," "]})]})]})})},rg=F.exports.createContext({articleCardClick:!1,setArticleCardClick:()=>{}}),a2=()=>{const{articleCardClick:n,setArticleCardClick:e}=F.exports.useContext(rg),[t,i]=F.exports.useState(n),{cursorChangeHandler:r}=F.exports.useContext(qs),[s,o]=F.exports.useState([]);async function a(){const y=await Jt.get("../../../../content/articles/articleList/articleList.json"),x=y.data.data?y.data.data:[];o(x)}F.exports.useEffect(()=>{a()},[]);const[l,c]=F.exports.useState([]);F.exports.useEffect(()=>{async function y(){const _=(await Jt.get("../../../../content/articles/inspireList/inspireCardContent.json")).data.data;c(_)}y()},[]);const[u,h]=F.exports.useState(function(){return{current:0}}),p={changeNav:F.exports.useCallback(y=>{h({current:y})},[])};F.exports.useEffect(()=>{console.log("currentPage",u.current)},[u]);const[v,f]=F.exports.useState([]);function g(y,x){const _=l.length,w=[[]];for(let b=0;b<_;)w.push(y.slice(b,b+=x));w.shift(),f([...w])}return F.exports.useEffect(()=>{g(l,3)},[l]),M("div",{className:"article-main-container",children:[M(rg.Provider,{value:{articleCardClick:t||!1,setArticleCardClick:i},children:[M("div",{className:"article-top-trim",children:[m("img",{src:XO,alt:"",className:"doubleCircle"}),m("span",{})]}),M("div",{className:"article-top-container",children:[m("div",{className:"article-top-leftText",children:"Blogs"}),m("div",{className:"article-top-rightContainer",onMouseEnter:()=>{r("hovered")},onMouseLeave:()=>r(""),children:s&&s.map((y,x)=>{const _=y.des;return m("div",{className:"article-card-container",children:m($O,{id:y.id,title:y.title,des:_,date:y.date,hashTag:y.hashTag,img:y.img})},x)})})]})]}),M("div",{className:"article-bottom-trim",children:[m("span",{}),m("img",{src:qO,alt:"",className:"quota"})]}),M("div",{className:"article-bottom-container",style:{zIndex:t?90:99},children:[m("div",{className:"article-bottom-rightText",children:"Inspiration"}),m("div",{className:"article-inspired-container",onMouseEnter:()=>{r("hovered")},onMouseLeave:()=>{r("")},children:M(zM.Provider,{value:p,children:[m(YO,{}),m("div",{className:"inspire-content-container",children:v[u.current]&&v[u.current].map((y,x)=>m("div",{className:"inspira-card-container",onMouseEnter:()=>{i(!1)},children:m(JO,{id:y.id,content:y.content,time:y.time,author:y.author,hashTag:y.hashTag,title:y.title})},x))})]})})]}),m("img",{src:jO,alt:"",className:"rightGridImg"})]})};function ZO(n,e=300){let t=null;return function(...i){t||(t=setTimeout(()=>{n.bind(this)(...i),t=null},e))}}function KO(){const[n,e]=F.exports.useState({x:0,y:0});return F.exports.useEffect(()=>{const i=ZO(r=>{const{clientX:s,clientY:o}=r;e({x:s,y:o})},50);return document.addEventListener("mousemove",i),()=>{document.removeEventListener("mousemove",i)}},[]),n}const QO=()=>{const{cursorType:n}=F.exports.useContext(qs),{x:e,y:t}=KO();return Qi.useEffect(()=>{},[n]),M(je,{children:[m("div",{className:`ring  +  ${n}`,style:{left:`${e}px`,top:`${t}px`}}),m("div",{className:`mouseDot ${n}`,style:{left:`${e}px`,top:`${t}px`}})]})},l2=n=>{n.children;const e=()=>(localStorage.getItem("showPageState")||localStorage.setItem("showPageState","tab1"),localStorage.getItem("showPageState"));F.exports.useEffect(()=>{e(),console.log(e())},[e()]);const[t,i]=F.exports.useState(e);function r(l){i(l),localStorage.setItem("showPageState",l)}const[s,o]=F.exports.useState(0),a=F.exports.useRef(null);return F.exports.useEffect(()=>(s||o(QA({el:a.current,THREE:a5,mouseControls:!1,touchControls:!1,gyroControls:!1,minHeight:900,minWidth:800,size:1.7})),()=>{}),[]),M("div",{className:"home-page",children:[m(QO,{}),M("div",{className:"home-page-container",children:[M(BM.Provider,{value:{showPage:t,changePage:r},children:[m(c5,{}),t==="tab1"?m(o2,{}):"",t==="tab2"?m(s2,{}):"",t==="tab3"?m(a2,{}):""]}),m("div",{className:"vanta-bg",ref:a})]})]})};function eF(){return F.exports.useEffect(()=>{const n=document.createElement("script");n.setAttribute("id","threeScript"),n.setAttribute("src","https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"),document.getElementsByTagName("head")[0].appendChild(n)},[]),m("div",{className:"App",children:m(l2,{})})}const tF=()=>m("div",{children:"\u{1F315}\u4F60\u8BBF\u95EE\u7684\u9875\u9762\u98DE\u5F80\u4E86\u6708\u7403\uFF5E"}),nF="/assets/ProjectA-topImg.2107ecb4.png",c2="/assets/icon-arrowOnly-Light.82a11f6d.svg",u2="/assets/icon-arrowOnlyTop-Light.e66eadc5.svg";function Vt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Z_(e)}const ii="/assets/icon-gradualArrow.a09e91e9.svg";function Ti(n,e,t){const i={rootMargin:"5px 2% 0px 0px",threshold:[0,.5,1]},r=s=>{s.forEach(o=>{if(o.intersectionRatio>=.5){const[a]=s;t(a.isIntersecting)}})};return F.exports.useEffect(()=>{const s=new IntersectionObserver(r,i);return n.current&&s.observe(n.current),()=>{n.current&&s.unobserve(n.current)}},[n,i]),console.log(e),[e]}const iF=()=>{const n=F.exports.useRef(null),[e,t]=F.exports.useState(!1),[i]=Ti(n,e,t),r=F.exports.useRef(null),[s,o]=F.exports.useState(!1),[a]=Ti(r,s,o);return m(je,{children:M("div",{className:"basic-info",children:[m("p",{className:"main-bigTitle",children:"Innos Note"}),M("div",{className:"basic-container",children:[M("div",{className:"basic-info-topContainer",ref:n,css:i&&Vt`//  emotion  css  hover 
							opacity: 1 !important; // isVisible 
							transform: translateY(0px) !important;//  isVisible 
							transition: all .3s ease-in-out !important;
					   `,children:[M("div",{className:"basic-info-topLeft",children:[m("div",{className:"main-title",children:"Hybrid working Background"}),m("div",{className:"main-content",children:"The black swan event of the epidemic has quickly transformed the organization's collaboration mode from the traditional offline mode to a remote office mode, followed by a change in the entire organization's collaboration mode, which has also triggered companies to re-engineer their own workflow. Review, use tools to improve business efficiency, increase business effects, and improve business benefits."})]}),M("div",{className:"basic-info-topRight",children:[m("div",{className:"circle",children:M("p",{children:[" Attachment to ",m("br",{})," Organization "]})}),m("img",{src:ii,alt:""}),m("div",{className:"circle",children:M("p",{children:[" Free Individual ",m("br",{})," Productivity "]})})]})]}),M("div",{className:"basic-info-bottomContainer",ref:r,css:a&&Vt`//  emotion  css  hover 
								opacity: 1 !important; // isVisible 
								transform: translateY(0px) !important;//  isVisible 
								transition: all .3s ease-in-out !important;
								transition-delay: .3s !important; //,  link  height 
						  `,children:[M("div",{className:"basic-info-bottomLeft",children:[m("div",{className:"main-title",children:"The rise of the creator economy"}),m("div",{className:"main-content",children:"In the era of Web 2.0, big platforms monopolized the ownership of content, but in the era of Web 3.0, the ownership of content will return to creators, and the environment has also spawned more freelancers. We also found that more and more The NCLC platform has sprung up like mushrooms after a rain, and the entire industry has ushered in a bonus period."})]}),M("div",{className:"basic-info-bottomRight",children:[m("div",{className:"circle",children:M("p",{children:[" Single product of ",m("br",{})," Creation Tools "]})}),m("img",{src:ii,alt:""}),m("div",{className:"circle",children:M("p",{children:[" Composite ",m("br",{})," Creation Tools "]})})]})]})]})]})})},rF="/assets/icon-colorBorder.e3ae7b42.svg";const E_=()=>m(je,{children:m("img",{src:rF,alt:"",className:"main-border"})});const sF="/assets/link-purple.9bdc85ed.svg",oF="/assets/link-blue.3d267f83.svg",aF="/assets/link-orange.13f7036a.svg",lF="/assets/link-green.5f0c544b.svg",cF=()=>{const[n,e]=F.exports.useState(!1),[t,i]=F.exports.useState(!1),[r,s]=F.exports.useState(!1),[o,a]=F.exports.useState(!1),[l,c]=F.exports.useState(!1),u=F.exports.useRef(null),h=F.exports.useRef(null),d=F.exports.useRef(null),p=F.exports.useRef(null),v=F.exports.useRef(null);function f(w,b,E){const T={rootMargin:"5px 2% 0px 0px",threshold:[0,.5,1]},S=A=>{A.forEach(L=>{if(L.intersectionRatio>=.5){const[H]=A;E(H.isIntersecting)}})};return F.exports.useEffect(()=>{const A=new IntersectionObserver(S,T);return w.current&&A.observe(w.current),()=>{w.current&&A.unobserve(w.current)}},[w,T]),[b]}const[g]=f(u,n,e),[y]=f(h,t,i),[x]=f(d,r,s),[_]=f(p,o,a);return f(v,l,c),m(je,{children:M("div",{className:"main-container",children:[M("div",{className:"type-container",ref:u,css:g&&Vt`
							opacity: 1 !important; // isVisible 
							transform: translateY(0px) !important;//  isVisible 
							transition: all .3s ease-in-out !important;
							transition-delay: 0s !important; //
					 `,children:[m("p",{className:"title-text",children:"Type"}),M("div",{className:"type-content",children:[m("p",{children:"Opinion leader"}),M("p",{children:["Pioneer ",m("br",{})," Efficiency Master"]}),M("p",{children:["Ordinary ",m("br",{})," Note user"]}),m("p",{children:"Onlooker user"})]})]}),M("div",{className:"link-group",ref:v,css:l&&Vt`
					 	opacity: 1 !important;
						transform: translateY(-50px) !important;//  isVisible 
						transition: all .35s ease-in-out !important; //
						transition-delay: 0.35s !important; //,  link  height 
					 `,children:[m("img",{src:sF,alt:"",className:"link-purple"}),m("img",{src:oF,alt:"",className:"link-blue"}),m("img",{src:aF,alt:"",className:"link-orange"}),m("img",{src:lF,alt:"",className:"link-green"})]}),M("div",{className:"threeW",children:[M("div",{className:"who-container",ref:h,css:y&&Vt`
							opacity: 1 !important; // isVisible 
							transform: translateY(0px) !important;//  isVisible 
							transition: all .4s ease-in-out !important; //
							transition-delay: 0.2s !important; //
				  		 `,children:[m("p",{className:"title-text",children:"Who"}),M("div",{className:"who-content",children:[m("p",{children:"Developer"}),m("p",{children:"Media writer"}),m("p",{children:"Project manager"}),m("p",{children:"Students & Teachers & Personal"}),m("p",{children:"Designer"}),m("p",{style:{color:"#22233D"},children:"General content consumers"}),m("p",{style:{color:"#22233D"},children:"Freelancers"})]})]}),m("img",{src:ii,alt:"",className:"gradualArrow",css:t&&Vt`
							opacity: 1 !important;
							transition: all .45s ease-in-out !important; 
							transition-delay: 0.4s !important; //
						`}),M("div",{className:"what-container",ref:d,css:x&&Vt`
							opacity: 1 !important; // isVisible 
							transform: translateY(0px) !important;//  isVisible 
							transition: all .45s ease-in-out !important; //
							transition-delay: 0.3s !important; //
						`,children:[m("p",{className:"title-text",children:"What"}),M("div",{className:"what-content",children:[m("p",{children:"Share technical knowledge"}),m("p",{children:"Run fan base"}),m("p",{children:"Archiving knowledge, scheduling"}),m("p",{children:"Making lectures, taking study notes"}),m("p",{children:"Organize design inspiration"}),m("p",{style:{color:"#22233D"},children:"Consume fresh content"}),m("p",{style:{color:"#22233D"},children:"Training courses, personal web etc"})]})]}),m("img",{src:ii,alt:"",className:"gradualArrow",css:t&&Vt`
						 		opacity: 1 !important;
								transition: all .45s ease-in-out !important; 
								transition-delay: 0.55s !important; //
						 `}),M("div",{className:"why-container",ref:p,css:_&&Vt`
							opacity: 1 !important; // isVisible 
							transform: translateY(0px) !important;//  isVisible 
							transition: all .5s ease-in-out !important; //
							transition-delay: 0.4s !important; //
						 `,children:[m("p",{className:"title-text",children:"Why"}),M("div",{className:"why-content",children:[m("p",{children:"Poor scalability"}),m("p",{children:"Trouble management by folder"}),m("p",{children:"Moving information around"}),m("p",{children:"Easy to forget notes"}),m("p",{children:"General presentation of info"}),m("p",{style:{color:"#22233D"},children:"Content is very fragmented"}),m("p",{style:{color:"#22233D"},children:"hard to build website by personal"})]})]})]})]})})};const uF="/assets/icon-personal.402dbee3.svg",dF="/assets/icon-user.140aba95.svg",hF=()=>{const n=F.exports.useRef(null),[e,t]=F.exports.useState(!1),[i]=Ti(n,e,t),r=F.exports.useRef(null),[s,o]=F.exports.useState(!1),[a]=Ti(r,s,o),l=F.exports.useRef(null),[c,u]=F.exports.useState(!1),[h]=Ti(l,c,u),d=F.exports.useRef(null),[p,v]=F.exports.useState(!1),[f]=Ti(d,p,v),g=F.exports.useRef(null),[y,x]=F.exports.useState(!1),[_]=Ti(g,y,x),w=F.exports.useRef(null),[b,E]=F.exports.useState(!1),[T]=Ti(w,b,E),S=F.exports.useRef(null),[A,L]=F.exports.useState(!1),[H]=Ti(S,A,L),oe=F.exports.useRef(null),[G,k]=F.exports.useState(!1),[j]=Ti(oe,G,k);return m(je,{children:m("div",{className:"main-fb-container",children:m("div",{className:"main-bg",children:M("div",{className:"circle-text-container",children:[m("div",{className:"popLeftTop",ref:n,css:i&&Vt`
							opacity: 1 !important;
							transform: translateX(2px) !important;
							transition: all 0.3s ease-in-out !important;
							transition-delay: .3s !important;
						`,children:m("p",{children:"Generate creative inspiration themes more quickly"})}),m("div",{className:"popTopLeft",ref:r,css:a&&Vt`
							opacity: 1 !important;
							transform: translateY(2px) !important;
							transition: all 0.3s ease-in-out !important;
							transition-delay: .45s !important;
						`,children:m("p",{children:"Easier creation of systematic content"})}),m("div",{className:"popTopRight",ref:l,css:h&&Vt`
							opacity: 1 !important;
							transform: translateY(2px) !important;
							transition: all 0.3s ease-in-out !important;
							transition-delay: .55s !important;
						`,children:m("p",{children:"Easier to sink team knowledge and form team assets"})}),m("div",{className:"popLeftBottom",ref:d,css:f&&Vt`
							opacity: 1 !important;
							transform: translateX(2px) !important;
							transition: all 0.3s ease-in-out !important;
							transition-delay: 1.3s !important;
						`,children:m("p",{children:"Take better notes to aid my thinking and memory"})}),m("div",{className:"popBottomLeft",ref:g,css:_&&Vt`
							opacity: 1 !important;
							transform: translateX(2px) !important;
							transition: all 0.3s ease-in-out !important;
							transition-delay: .95s !important;
						`,children:m("p",{children:"More powerful creation ability & more enjoyable of browsing experience"})}),m("div",{className:"popBottomRight",ref:w,css:T&&Vt`
							opacity: 1 !important;
							transform: translateX(2px) !important;
							transition: all 0.3s ease-in-out !important;
							transition-delay: .85s !important;
						`,children:m("p",{children:"Richer project visualization capabilities"})}),m("div",{className:"popRightBottom",ref:S,css:H&&Vt`
							opacity: 1 !important;
							transform: translateX(2px) !important;
							transition: all 0.3s ease-in-out !important;
							transition-delay: .75s !important;
						`,children:m("p",{children:"More flexible and scalable, able to connect to your own business streams to increase business benefits"})}),m("div",{className:"popRightTop",ref:oe,css:j&&Vt`
							opacity: 1 !important;
							transform: translateX(2px) !important;
							transition: all 0.3s ease-in-out !important;
							transition-delay: .65s !important;
						`,children:m("p",{children:"More seamless goal management to level the information gap"})}),M("div",{className:"circle-container",children:[m("div",{className:"big-circle big-circle-1",children:m("div",{className:"medium-circle-1",children:M("div",{className:"small-circle-1",children:[m("img",{src:uF,alt:""}),m("p",{children:"Personal users"})]})})}),m("div",{className:"big-circle big-circle-2",children:m("div",{className:"medium-circle-2",children:M("div",{className:"small-circle-2",children:[m("img",{src:dF,alt:""}),m("p",{children:"Team Users"})]})})})]})]})})})})},C_="/assets/icon-upArrow.0e1cc9bc.svg",fF="/assets/graphic-tranglesTop.81419459.svg",pF="/assets/graphic-tranglesMedium.936ae321.svg",mF="/assets/graphic-tranglesBottom.b6dd0192.svg";const gF=()=>m(je,{children:M("div",{className:"business-goal-container",children:[M("div",{className:"business-goal-text-container",children:[m("p",{className:"goal-title",children:"Business Goals"}),m("p",{className:"goal-description",children:"As an experimental and innovative product, we have divided it into three phases, each with a word business goal, ultimately to become the Digital Hub for personal or teams."})]}),m("div",{className:"business-goal-graphic-container",children:M("div",{className:"goal-modelGraphic",children:[M("div",{className:"model-graphic-top",children:[M("div",{className:"graphic-top-textContainer",children:[m("p",{children:"Strategy"}),m("img",{src:C_,alt:""})]}),m("span",{className:"dotted-line"}),M("div",{className:"tranglesTop-container",children:[M("p",{children:[" Gaining market ",m("br",{})," in overseas and  ",m("br",{})," Verify PMF "]}),m("img",{src:fF,alt:"",className:"tranglesTop-des"})]})]}),M("div",{className:"model-graphic-medium",children:[m("p",{children:"Tactics"}),m("span",{className:"dotted-line"}),M("div",{className:"tranglesMedium-container",children:[M("p",{children:[" Create product  ",m("br",{})," differentiation  ",m("br",{})," competitiveness "]}),M("p",{children:[" Build a Open  ",m("br",{})," APAAS-like  ",m("br",{})," platform "]}),M("p",{children:[" Establishing user  ",m("br",{})," reputation and ",m("br",{})," Create network effect "]}),m("img",{src:pF,alt:"",className:"tranglesMedium-des"})]})]}),M("div",{className:"model-graphic-bottom",children:[M("div",{className:"graphic-bottom-textContainer",children:[m("img",{src:C_,alt:""}),m("p",{children:"Campaign"})]}),m("span",{className:"dotted-line dotted-line-left"}),M("div",{className:"tranglesBottom-container",children:[M("p",{children:[" Innovative Interaction  ",m("br",{})," of Collaborative Editor"]}),M("p",{children:[" Build application-based  ",m("br",{})," capabilities based on the ",m("br",{})," underlying Database "]}),M("p",{children:[" Establishing social  ",m("br",{})," media exposure for  ",m("br",{})," products Channels "]}),m("span",{className:"dotted-line"}),M("p",{children:[" with real-time, interactive, fun ",m("br",{})," and visual product power "]}),M("p",{children:[" Deep integration with third-party ",m("br",{})," applications that Connecting ",m("br",{})," multiple data sources "]}),M("p",{children:[" Get a quantitative amount of ",m("br",{})," active team users and ",m("br",{})," Active Users Individual Users "]}),m("img",{src:mF,alt:"",className:"tranglesBottom-des"})]})]})]})})]})});const vF=()=>m(je,{children:M("div",{className:"ux-stategy-main-container",children:[M("div",{className:"ux-stategy-text-container",children:[m("div",{className:"ux-stategy-title",children:"UX Design Goal & Strategy"}),m("div",{className:"ux-stategy-des",children:"We developed a design strategy for each path based on the user's creation path to better achieve the project goals."})]}),M("div",{className:"ux-stategy-state-flow",children:[M("div",{className:"ux-stategy-textContainer",children:[m("p",{children:"Stage"}),m("p",{children:"Goals"}),m("p",{children:"Stategy"})]}),M("div",{className:"ux-stategy-flowGraphic-container",children:[M("div",{className:"ux-stategy-flow",children:[M("div",{className:"stategy-flow-container",children:[m("div",{className:"ux-stategy-circle",children:m("p",{children:"Think & Plan"})}),M("div",{className:"ux-stategy-content",children:[m("p",{children:"Increase the creator's heart flow"}),m("p",{children:"Building block construction mode"}),m("p",{children:"Easily extensible editing capabilities"})]})]}),m("div",{className:"ux-stategy-text",children:"Flow way of editorial"})]}),m("img",{src:ii,alt:""}),M("div",{className:"ux-stategy-flow",children:[M("div",{className:"stategy-flow-container",children:[m("div",{className:"ux-stategy-circle",children:M("p",{children:["Interaction & ",m("br",{})," Collaboration"]})}),M("div",{className:"ux-stategy-content",children:[m("p",{children:"Multi-modal view collaboration"}),m("p",{children:"Automated instant flow of info"}),m("p",{children:"Real-time collaboration awareness"})]})]}),m("div",{className:"ux-stategy-text",children:"Non loss of context flow"})]}),m("img",{src:ii,alt:""}),M("div",{className:"ux-stategy-flow",children:[M("div",{className:"stategy-flow-container",children:[m("div",{className:"ux-stategy-circle",children:M("p",{children:["Archive & ",m("br",{})," Accumulate"]})}),M("div",{className:"ux-stategy-content",children:[m("p",{children:"Real-time content update mode"}),m("p",{children:"More natural KM process"}),m("p",{children:"Simplified whole info management"})]})]}),m("div",{className:"ux-stategy-text",children:"Growth of KM experience"})]}),m("img",{src:ii,alt:""}),M("div",{className:"ux-stategy-flow",children:[M("div",{className:"stategy-flow-container",children:[m("div",{className:"ux-stategy-circle",children:m("p",{children:"Share & Browse"})}),M("div",{className:"ux-stategy-content",children:[m("p",{children:"More expressive"}),m("p",{children:"Personalized publish mode"}),m("p",{children:"Emotional interaction style"})]})]}),m("div",{className:"ux-stategy-text",children:"Web-based publish mode"})]})]})]})]})});const T_="/assets/bg-pageBg.2b1f50e3.svg",yF="/assets/page-home.bca40e30.jpg",xF="/assets/bg-homePage-leftCard.5eb9009e.jpg",_F="/assets/bg-homePage-rightCard.32b98cfb.jpg",wF="/assets/3D-Pointer.5a464dd0.png",SF=()=>m(je,{children:M("div",{className:"editoral-main-container",children:[M("div",{className:"editoral-left-container",children:[M("div",{className:"editoral-text-container",children:[m("div",{className:"editoral-title",children:"Modular of create content"}),m("p",{children:'We define "blocks" as basic creative units. Modules are like Lego building blocks. Users are like playing Lego building blocks. After a simple drag and drop, an exquisite document will be created naturally. Just like playing Lego building blocks, users can freely assemble their own content.'})]}),M("div",{className:"editoral-graphic-container",children:[m("div",{className:"editoral-graphic",children:"Basic Block"}),m("img",{src:ii,alt:"",style:{transform:"rotateY(180deg)"}}),m("div",{className:"editoral-graphic",children:"Block Modular"}),m("img",{src:ii,alt:""}),m("div",{className:"editoral-graphic",children:"Extension Block"})]})]}),M("div",{className:"editoral-right-container",children:[m("img",{src:wF,alt:"",className:"Pointer"}),m("img",{src:_F,alt:"",className:"bg-homePage-rightCard"}),m("img",{src:xF,alt:"",className:"bg-homePage-leftCard"}),m("img",{src:yF,alt:"",className:"page-homePage"}),m("img",{src:T_,alt:"",className:"pageBg-center"}),m("img",{src:T_,alt:"",className:"pageBg-bottom"})]})]})});const bF="/assets/card-format.fc82041d.png",MF="/assets/card-sandbox.0786f7ea.png",EF="/assets/card-collcboration.483ac8f5.png",CF="/assets/card-layout.a538046d.png",TF="/assets/card-data.5c8cf7d0.png",AF="/assets/card-whiteboard.cf0a07f7.png",PF="/assets/card-media.e898617e.png",NF=()=>m(je,{children:M("div",{className:"definitionBlock-main-container",children:[m("img",{src:r2,alt:"",className:"definitionBlock-circle"}),M("div",{className:"definitionBlock-inside-container",children:[M("div",{className:"definitionBlock-topContainer",children:[m("div",{className:"DefinitionBlock-title",children:"Definition of Modularity Block"}),m("p",{children:"The Block is the smallest unit of creation, and all content is built and assembled from the Block."})]}),M("div",{className:"definitionBlock-bottomContent",children:[m("div",{className:"format-container",children:m("img",{src:bF,alt:"",className:"Format"})}),M("div",{className:"sandBoxAndMedia-container",children:[m("img",{src:MF,alt:"",className:"SandBox"}),m("img",{src:PF,alt:"",className:"Media"})]}),M("div",{className:"collAndLayout-container",children:[m("img",{src:EF,alt:"",className:"Collcboration"}),m("img",{src:CF,alt:"",className:"Layout"})]}),M("div",{className:"wbAndData-container",children:[m("img",{src:AF,alt:"",className:"Whiteboard"}),m("img",{src:TF,alt:"",className:"Data"})]})]})]})]})});const RF="/assets/page-playgroundTemplate.4d6c3005.jpg",LF="/assets/page-playgroundEffect.ca583042.jpg",IF="/assets/page-playgroundEditor.464054d6.jpg",DF="/assets/graphic-doubleSquare.434f6958.svg",kF=()=>m(je,{children:M("div",{className:"expandPlayground-main-container",children:[m("img",{src:DF,alt:"",className:"DbSquare"}),M("div",{className:"expandPlayground-inside-container",children:[M("div",{className:"expandPlayground-main-leftContainer",children:[m("img",{src:RF,alt:""}),m("img",{src:LF,alt:""}),m("img",{src:IF,alt:""})]}),M("div",{className:"expandPlayground-main-rightContainer",children:[M("div",{className:"expandPlayground-right-baseinfo",children:[m("div",{className:"expandPlayground-right-baseinfo-title",children:" Expand block by Playground "}),m("p",{className:"expandPlayground-right-baseinfo-des",children:' We define "block" as the basic authoring unit. A module is like a Lego block, where the user plays with it like a Lego block, and then simply drags and drops it to create an elaborate document, just like playing with Lego blocks. '})]}),M("div",{className:"expandPlayground-right-Graphic",children:[m("span",{className:"expandPlayground-right-Graphic-leftText",children:"Developers Make Block"}),M("div",{className:"tranArrAndText-all-container-01",children:[M("div",{className:"tranArrAndText-container-01",children:[m("p",{children:" Developers Make Block "}),M("div",{className:"trianArrowRight-01",children:[m("span",{className:"dotted-line"}),m("span",{className:"trianArrow-01"})]})]}),M("div",{className:"tranArrAndText-container-02",children:[M("div",{className:"trianArrowRight-02",children:[m("span",{className:"trianArrow-02"}),m("span",{className:"dotted-line"})]}),m("p",{children:" User Use Block "})]})]}),M("span",{className:"expandPlayground-right-Graphic-centerText",children:[" Playground ",m("br",{})," Center "]}),M("div",{className:"tranArrAndText-all-container-01",children:[M("div",{className:"tranArrAndText-container-01",children:[m("p",{children:"Platform value"}),M("div",{className:"trianArrowRight-01",children:[m("span",{className:"dotted-line"}),m("span",{className:"trianArrow-01"})]})]}),M("div",{className:"tranArrAndText-container-02",children:[M("div",{className:"trianArrowRight-02",children:[m("span",{className:"trianArrow-02"}),m("span",{className:"dotted-line"})]}),m("p",{children:"Validate value"})]})]}),m("span",{className:"expandPlayground-right-Graphic-rightText",children:"User Use Block"})]})]})]})]})});const OF="/assets/page-canvasIpad.4e6ff332.png",FF="/assets/cursor-01.90911dea.png",BF="/assets/cursor-02.ff8271cd.png",zF="/assets/cursor-03.e484151b.png",UF=()=>m(je,{children:m("div",{className:"canvasBlock-main-container",children:M("div",{className:"canvasBlock-inside-container",children:[m("div",{className:"canvasBlock-baseInfo-container",children:M("div",{className:"canvasBlock-baseInfo",children:[m("div",{className:"canvasBlock-baseInfo-title",children:"Docs Interchange to Canvas"}),m("p",{className:"canvasBlock-baseInfo-des",children:"The document is a top-down y-axis editing stream, while the whiteboard is a dual-position x- and y-axis editing stream that maximizes the user's creativity."})]})}),M("div",{className:"canvas-page-group",children:[m("img",{src:FF,alt:"",className:"cursor-red"}),m("img",{src:BF,alt:"",className:"cursor-yellow"}),m("img",{src:zF,alt:"",className:"cursor-blue"}),m("img",{src:OF,alt:"",className:"canvas-page"})]})]})})});const VF="/assets/bg-automation.f0a1914d.svg",GF="/assets/graphic-automation.190c4d53.png",HF="/assets/icon-asana.1fa0ba95.jpg",WF="/assets/icon-jira.2b900e51.jpg",$F="/assets/icon-discord.8e79b78d.jpg",jF="/assets/icon-gmail.d0ad08ba.jpg",XF="/assets/icon-monday.3a366df7.jpg",qF="/assets/icon-slack.88cb0d5c.jpg",YF=()=>m(je,{children:m("div",{className:"automation-main-container",children:M("div",{className:"automation-inside-content",children:[M("div",{className:"automation-topContainer",children:[m("div",{className:"automation-title",children:"Close-knit of Context flow"}),m("p",{className:"automation-des",children:'As a Digital Hub for individuals or teams, Innos can act as a "connector". On the one hand, it can link itself to various mainstream third-party tools through integration capabilities. On the other hand, it can also automate the flow of integrated information through Automation capabilities. Innos itself becomes the middle layer of information, making information more seamless from IM to innos to PMTS tools.'})]}),M("div",{className:"automation-bottomContainer",children:[m("img",{src:WF,alt:"",className:"jiraIcon"}),m("img",{src:XF,alt:"",className:"mondayIcon"}),m("img",{src:HF,alt:"",className:"asanaIcon"}),m("img",{src:$F,alt:"",className:"discordIcon"}),m("img",{src:qF,alt:"",className:"slackIcon"}),m("img",{src:jF,alt:"",className:"gmailIcon"}),m("img",{src:GF,alt:"",className:"automationGtaphic"}),m("img",{src:VF,alt:"",className:"automationBg"})]})]})})});const A_="/assets/icon-arrDown.5f630ae4.svg",kd="/assets/icon-arrUp.23bba69a.svg",JF="/assets/page-intergation-slack.9ddf0452.jpg",ZF="/assets/page-intergation-jira.5b4062e0.jpg",KF="/assets/icon-squareJira.495f530b.png",QF=()=>m(je,{children:M("div",{className:"intergation-container",children:[M("div",{className:"intergation-info-container",children:[M("div",{className:"intergation-info-text",children:[m("div",{className:"intergation-title",children:"Improve the efficiency of the admin"}),m("div",{className:"intergation-sub",children:"We provide users with an automated way to interact with bulk slack account associations and bulk Jira Issue imports, greatly simplifying the interaction step."})]}),M("div",{className:"intergation-number-mainContainer",children:[M("div",{className:"intergation-number-TopContainer",children:[M("div",{className:"numberTopLeft",children:[m("div",{className:"intergation-number",children:"10 min"}),m("img",{src:A_,alt:""})]}),m("img",{src:ii,alt:"",className:"numberTopCenter"}),M("div",{className:"numberTopRight",children:[m("div",{className:"intergation-number",children:"2.5 s"}),m("img",{src:kd,alt:""})]})]}),M("div",{className:"intergation-number-BottomContainer",children:[M("div",{className:"numberTopLeft",children:[m("div",{className:"intergation-number",children:"15 min"}),m("img",{src:A_,alt:""})]}),m("img",{src:ii,alt:"",className:"numberBottomCenter"}),M("div",{className:"numberBottomRight",children:[m("div",{className:"intergation-number",children:"6 s"}),m("img",{src:kd,alt:""})]})]})]})]}),M("div",{className:"intergation-info-pageContainer",children:[m("div",{className:"intergation-info-pageSlack",children:m("img",{src:JF,alt:""})}),M("div",{className:"intergation-info-pageJira",children:[m("img",{src:KF,alt:"",className:"jiraIcon"}),m("img",{src:ZF,alt:""})]})]})]})});const eB="/assets/bg-radia.e3c8c68a.svg",tB="/assets/bg-radia-dottedLine.557fcaed.svg",nB="/assets/bg-radia-normalLine.5595d629.svg",iB="/assets/bg-radia-outLine.76e4b4d6.svg",rB=()=>m(je,{children:M("div",{className:"KMGrowth-main-container",children:[M("div",{className:"KMGrowth-main-container-topInfo",children:[m("div",{className:"KMGrowth-topInfo-title",children:"Growth of KM experience"}),m("div",{className:"KMGrowth-topInfo-des",children:"The traditional folder content management model is building walls, which has high requirements for knowledge organizers, and the hierarchy of folders will be very deep after a long time, resulting in knowledge being shelved, forgotten, and very difficult to reuse. We hope to solve the current problem from a more fundamental aspect, and there are two knowledge organization models on the market, namely 'tree' and 'net', which are not opposing and have their own advantages and disadvantages. It is not a choice between the two. Our design goal is to turn the creation process into an organizing process, so that users can know the knowledge network more efficiently and review their knowledge structure more conveniently."})]}),M("div",{className:"KMGrowth-main-container-bottomInfo",children:[M("div",{className:"KMGrowth-bottomInfo-textAndGraphic-left",children:[m("p",{className:"KMGrowth-bottomInfo-title",children:"Micro Perspective - Trees"}),M("ul",{className:"KMGrowth-bottomInfo-bullet",children:[m("li",{className:"KMGrowth-bottomInfo-list",children:"Clearer hierarchical relationships"}),m("li",{className:"KMGrowth-bottomInfo-list",children:"Stronger certainty, enough to bring a sense of stability"})]})]}),m("div",{className:"KMGrowth-bottomInfo-circleGraphic",children:m("div",{className:"KMGrowth-centerCircle",children:m("p",{children:"Creation as Management"})})}),M("div",{className:"KMGrowth-bottomInfo-textAndGraphic-right",children:[m("p",{className:"KMGrowth-bottomInfo-title",children:"Macro Perspective - Net"}),M("ul",{children:[m("li",{className:"KMGrowth-bottomInfo-list",children:"A bigger picture that brings out the core scope"}),m("li",{className:"KMGrowth-bottomInfo-list",children:"More complete context, easy to find invisible relationships"})]})]}),M("div",{className:"KMGrowth-hashTagAndDotsGroup",children:[m("span",{className:"hashTagLeftTop",children:"Block referenced"}),m("span",{className:"hashTagLeftBottom",children:"Bidirectional link"}),m("span",{className:"hashTagRightTop",children:"Intelligence recommendation"}),m("span",{className:"hashTagRightBottom",children:"Hashtag"}),M("span",{className:"KMGrowth-leftDot",children:["Direct ",m("br",{})," relationship"]}),M("span",{className:"KMGrowth-rightDot",children:["Indirect ",m("br",{})," relationship"]}),M("span",{className:"KMGrowth-bottomDot",children:["Hidden ",m("br",{})," relationship"]})]}),m("img",{src:eB,alt:"",className:"radiaLine"}),m("img",{src:nB,alt:"",className:"insideLine"}),m("img",{src:tB,alt:"",className:"centerLine"}),m("img",{src:iB,alt:"",className:"outLine"})]})]})}),sB="/assets/bg-tiltBg.749d4a3a.svg";const oB="/assets/page-refer-01.8ae0f365.jpg",aB="/assets/page-refer-02.f2a1036a.jpg",lB="/assets/page-refer-03.4363ecee.png",cB=()=>m(je,{children:M("div",{className:"blockReference-mainContainer",children:[M("div",{className:"blockReference-topContainer",children:[M("div",{className:"blockReference-topContainer-leftInfoContainer",children:[m("div",{className:"blockReference-topLeftInfo-title",children:"Block Referenced"}),m("p",{className:"blockReference-topLeftInfo-des",children:"Analogous to designing components, the repeated creation of wheels can be reduced by the invocation of components. The same is true for real-time references, where past content can be referenced at any time during the creation process, and updates on both sides are synchronized."})]}),M("div",{className:"blockReference-topContainer-rightPageContainer",children:[m("img",{src:oB,alt:"",className:"ReferpageOne"}),m("img",{src:aB,alt:"",className:"ReferpageTwo"})]})]}),M("div",{className:"blockReference-bottomContainer",children:[m("div",{className:"blockReference-bottomContainer-leftPageContainer",children:m("img",{src:lB,alt:"",className:"ReferpageThree"})}),M("div",{className:"blockReference-topContainer-bottomRightInfo",children:[m("div",{className:"blockReference-bottomRightInfo-title",children:"Bidirectional link"}),m("p",{className:"blockReference-bottomRightInfo-des",children:"The content displayed by the two-way links is also part of the current page content, which helps the user to review what pages are linked to the current page and consolidate the creator's knowledge structure, and also helps the creator to discover more content through Unlinked references to pages that are not linked to."}),M("div",{className:"blockReference-bottomRightInfo-graphic",children:[M("div",{className:"blockReference-bottomRightInfo-topGroup",children:[m("span",{className:"blockReference-bottomRightInfo-circle",children:"Recommended links"}),m("span",{className:"blockReference-spanA"}),m("span",{className:"blockReference-spanB"}),m("span",{className:"blockReference-spanC"}),"\u{1F440} Who wrote sth similar to me"]}),M("div",{className:"blockReference-bottomRightInfo-bottomGroup",children:[m("span",{className:"blockReference-bottomRightInfo-circle",children:"Link by other content"}),m("span",{className:"blockReference-spanA"}),m("span",{className:"blockReference-spanB"}),m("span",{className:"blockReference-spanC"}),"\u{1F609} Who quoted me"]})]})]})]}),m("img",{src:sB,alt:"",className:"tiBg"})]})});const uB="/assets/page-knowledgeMain.ec3daaad.jpg",dB="/assets/page-knowledge-Large.6eb51e0b.png",hB="/assets/page-knowledge-Medium.76d9c6e4.png",fB="/assets/page-knowledge-Small.a451c4e7.png",pB=()=>m(je,{children:M("div",{className:"knowledgeGraphic-main-container",children:[M("div",{className:"knowledgeGraphic-main-container-topInfo",children:[m("div",{className:"knowledgeGraphic-topInfo-title",children:"Knowledge graph View"}),m("div",{className:"knowledgeGraphic-topInfo-des",children:`The core concept of Innos' knowledge management is connection. After users "grow" their knowledge based on real-time references, tags, two-way links, etc., the final precipitation is a personal or team knowledge map. Therefore, we provide a mapping browsing mode, so that users can freely explore knowledge connections, or discover some important knowledge nodes and review some important contents.`})]}),M("div",{className:"knowledgeGraphic-main-container-bottomInfo",children:[m("img",{src:dB,alt:"",className:"KnowLarge"}),m("img",{src:hB,alt:"",className:"KnowMedium"}),m("img",{src:fB,alt:"",className:"KnowSmall"}),m("img",{src:uB,alt:"",className:"KnowMainPage"})]})]})});const mB="/assets/icon-webBrowsing.695f4636.svg",gB="/assets/icon-webBuilding.9f9f4248.svg",vB="/assets/line-dashDot-left.4d3f5f65.svg",yB="/assets/line-dashDot-right.e9cfb425.svg",P_="/assets/bg-shadow.dfbfc2c0.svg",xB=()=>{const[n,e]=F.exports.useState(function(){return{left:!1,right:!1}});return F.exports.useEffect(()=>{console.log(n)},[n]),m(je,{children:M("div",{className:"publishAbility-main-container",children:[M("div",{className:"publishAbility-topInfo-container",children:[m("div",{className:"publishAbility-topInfo-title",children:"Web-based of Build & Publish"}),m("p",{className:"publishAbility-topInfo-des",children:'Based on the design perspective to give the product more differentiated value, we creatively proposed the "web-based" design strategy, the core goal is to make the document expression ability more similar to the web page, everyone can easily get started, without the complex skills of making web pages, can achieve the web-level production and browsing experience.'})]}),M("div",{className:"publishAbility-bottomInfo-container",children:[M("div",{className:"publishAbility-bottomInfo-leftItem",children:[m("p",{children:"Multi-page View mode"}),m("p",{children:"Polymorphic Card Display Form"})]}),M("div",{className:"publishAbility-bottomInfo-centerItem",children:[m("img",{src:vB,alt:"",className:"dashDotLeft"}),m("img",{src:yB,alt:"",className:"dashDotRight"}),M("div",{className:"publishAbility-bottomInfo-leftCircle",onMouseEnter:()=>{e({left:!0,right:!1})},onMouseLeave:()=>{e({left:!1,right:!1})},children:[m("img",{src:mB,alt:""}),M("p",{children:[" Web-level browsing ",m("br",{})," experience "]})]}),m("img",{src:P_,alt:"",className:"shadowBgLeft",css:n.left&&Vt`
							 	opacity: 1 !important;
								transition: all .3s ease-in-out !important;
							 `}),M("div",{className:"publishAbility-bottomInfo-rightCircle",onMouseEnter:()=>{e({left:!1,right:!0})},onMouseLeave:()=>{e({left:!1,right:!1})},children:[m("img",{src:gB,alt:""}),M("p",{children:[" Web-level site building  ",m("br",{})," capability "]})]}),m("img",{src:P_,alt:"",className:"shadowBgRight",css:n.right&&Vt`
							 	opacity: 1 !important;
								transition: all .3s ease-in-out !important;
							 `})]}),M("div",{className:"publishAbility-bottomInfo-rightItem",children:[m("p",{children:"Column nesting layout capability"}),m("p",{children:"Configurable of page structure"})]})]})]})})};const _B="/assets/page-framework.3a2bfcfd.png",wB="/assets/page-slidesOne.fc2af701.png",SB="/assets/page-slidesTwo.e1dc2cb3.png",bB="/assets/page-slidesThree.cdd4a591.png",MB="/assets/page-slidesFour.5223c1c6.png",EB="/assets/page-slidesFive.1894bcdd.png",CB="/assets/page-slidesSix.889e4292.png",TB=()=>m(je,{children:M("div",{className:"mutilPage-main-container",children:[M("div",{className:"mutilPage-main-topInfo",children:[m("div",{className:"mutilPage-main-topInfo-title",children:"Multi-page View mode"}),m("p",{className:"mutilPage-main-topInfo-des",children:"With the multi-page capability, users can open different types of pages at the same time for multitasking. More advanced users are able to use our different product capabilities in combination, such as Graph combined with page content, Discussion combined with topic details, etc., combined with All page view, etc. Multi-page has also become one of the most praised designs of Innos by users."})]}),M("div",{className:"mutilPage-main-bottomPage",children:[m("img",{src:wB,alt:"",className:"slidesOne"}),m("img",{src:SB,alt:"",className:"slidesTwo"}),m("img",{src:bB,alt:"",className:"slidesThree"}),m("img",{src:MB,alt:"",className:"slidesFour"}),m("img",{src:EB,alt:"",className:"slidesFive"}),m("img",{src:CB,alt:"",className:"slidesSix"}),m("img",{src:_B,alt:"",className:"frameWorkPage"})]})]})});const AB="/assets/card-nestedLayout-top.346116fb.png",PB="/assets/card-nestedLayout-bottom.6e03d056.png",NB="/assets/card-nestedResult-top.bb3b0a13.png",RB="/assets/card-nestedResult-bottomLeft.9a621295.png",LB="/assets/card-nestedResult-bottomRight.34f787f7.png",IB=()=>m(je,{children:M("div",{className:"nestedLayout-main-container",children:[M("div",{className:"nestedLayout-mainLeft-container",children:[m("div",{className:"nestedLayout-mainLeft-title",children:"Nested Layout ability"}),m("p",{className:"nestedLayout-mainLeft-des",children:"One of the main features of web-based content is the ability to change responsively according to the width of the web page, we make it possible to support self-nesting on the basis of the column layout capabilities, and integrate the configuration of the Flex layout for the column, the goal is to be able to maximize the ability to approach the layout of the web page, so that users can achieve almost web-like expression through the nesting capabilities of the container itself."})]}),M("div",{className:"nestedLayout-mainRight-container",children:[M("div",{className:"nestedLayout-nestedLogic",children:[m("img",{src:AB,alt:"",className:"nestedLogicTop"}),m("img",{src:PB,alt:"",className:"nestedLogicBottom"})]}),M("div",{className:"nestedLayout-actualResult",children:[m("img",{src:NB,alt:"",className:"actualResultTop"}),m("img",{src:RB,alt:"",className:"actualResultBottomLeft"}),m("img",{src:LB,alt:"",className:"actualResultBottomRight"})]})]})]})});const DB="/assets/page-themeBefore.48f889ef.png",kB="/assets/page-themeAfter.4fb72b20.png",OB=()=>m(je,{children:M("div",{className:"pageLinkStyle-main-container",children:[M("div",{className:"pageLinkStyle-leftPagesInfo-container",children:[M("div",{className:"pageLinkStyle-leftDetailPages-group",children:[m("p",{children:"Before"}),m("img",{src:DB,alt:"",className:"pageThemeBefore"})]}),M("div",{className:"pageLinkStyle-rightDetailPages-group",children:[m("p",{children:"After"}),m("img",{src:kB,alt:"",className:"pageThemeAfter"})]})]}),M("div",{className:"pageLinkStyle-rightInfo",children:[m("div",{className:"pageLinkStyle-rightInfo-title",children:"PageCard with Full type"}),m("p",{className:"pageLinkStyle-rightInfo-des",children:'The traditional inline Page is a link url, but many web pages are presented in the form of cards, so we provide the document card state style settings, the user can freely drag and drop to change the card aspect ratio, and even set some simple animation effects, so that the entire document like a "live" web page.'})]})]})});const FB="/assets/page-themeConfig.223e1757.png",BB="/assets/page-styleSetting.ab673905.png",zB="/assets/page-panel.4b4bb62b.png",UB="/assets/icon-circleRipple.7aafebee.svg",VB=()=>m(je,{children:M("div",{className:"pagetheme-main-container",children:[m("img",{src:UB,alt:"",className:"circleRipple"}),M("div",{className:"pagetheme-main-container-inside",children:[m("img",{src:FB,alt:"",className:"pageThemePic"}),M("div",{className:"pagetheme-rightInfo-container",children:[M("div",{className:"pagetheme-rightInfo-top",children:[m("div",{className:"pagetheme-rightInfo-container-title",children:"Page theme config"}),m("p",{className:"pagetheme-rightInfo-container-des",children:'We wanted to make the application of the page not only limited to the document, if the user can customize the structure of the page, then the document itself will become very large space for expansion. So our designers creatively came up with the idea of "web-based", where users can customize the structure of the page, so that the document can be transformed into a personal blog, personal profile, home navigation page, etc.'})]}),M("div",{className:"pagetheme-rightInfo-bottom",children:[m("img",{src:BB,alt:"",className:"pagetheme-framework"}),m("img",{src:ii,alt:"",className:"gradualArrow"}),m("img",{src:zB,alt:"",className:"pagetheme-page"})]})]})]})]})});const GB="/assets/page-mainWebSite.3ec347fd.png",HB=()=>m(je,{children:M("div",{className:"webSitePage-main-container",children:[m("img",{src:GB,alt:"",className:"webSitePage-leftPage"}),M("div",{className:"webSitePage-rightInfo-Container",children:[M("div",{className:"webSitePage-rightInfo-top",children:[m("div",{className:"webSitePage-rightInfo-title",children:"Make Website by Innos!"}),m("p",{className:"webSitePage-rightInfo-des",children:"At the stage of product promotion and release, our team started to try to eat our own dog food, using our own documentation to build the official website, and on the day of Landing, we got 200+ Upvotes on PH by our team's own promotion and operation alone! It was ranked in the top 10 product recommendations that week, and by the time the project stopped running, it had a total of 40,000+ registered users."})]}),M("div",{className:"webSitePage-rightInfo-bottom",children:[M("div",{className:"webSitePage-register-container",children:[M("div",{className:"register-text",children:[m("p",{className:"register-numTitle",children:" 40000 + "}),m("p",{className:"register-des",children:"Registered User"})]}),m("img",{src:kd,alt:"",className:"arrUp"})]}),M("div",{className:"webSitePage-upVoteUser-container",children:[M("div",{className:"upVoteUser-text",children:[m("p",{className:"upVote-numTitle",children:" 200 +"}),m("p",{className:"upVote-des",children:"Upvote User"})]}),m("img",{src:kd,alt:"",className:"arrUp"})]})]})]})]})}),WB="/assets/project-A-bg.7f4bdb5d.jpg";const tv=({content:n,fontColor:e="black",borderColor:t,backToTopArrow:i,imgURL:r})=>{function s(){window.scrollTo({top:0,behavior:"smooth"})}return m(je,{children:M("div",{className:"backToTop-container",style:{height:"auto"},children:[m("p",{style:{color:`${e}`},children:n}),m("div",{className:"backToTop-circle-container",onClick:s,style:{cursor:"pointer",width:48,height:48,borderRadius:"50%",border:`2px solid ${t}`,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:5},children:m("img",{src:i,alt:"",className:"backToTopArrow",style:{width:26,transition:"all 0.3s ease-in-out",position:"absolute",cursor:"pointer"}})}),m("img",{src:r,alt:"",className:"allUI"})]})})};function nv({routerFn:n,projectName:e,imgClassName:t,projectContainerName:i,navClassName:r,topImgUrl:s}){const{YPos:o,updateYPosFn:a}=F.exports.useContext(q0);return m(je,{children:M("div",{className:i,children:[M("div",{className:r,children:[m("div",{className:"back-circle-container",onClick:()=>{n(),window.scrollTo(0,o),console.log("YPos \u503C:",o)},children:m("img",{src:t,alt:""})}),m("p",{children:e})]}),m("img",{src:s,alt:""})]})})}const $B=()=>{const n=nv({routerFn:t,projectName:"Innos Note",imgClassName:c2,projectContainerName:"top-img-pjA",navClassName:"top-nav-pjA",topImgUrl:nF}),e=pa();function t(){e("/homepage/works")}return m(je,{children:M("div",{className:"projectA-container",style:{boxSizing:"border-box"},children:[n,m(iF,{}),m(E_,{}),m(cF,{}),m(hF,{}),m(gF,{}),m(E_,{}),m(vF,{}),m(SF,{}),m(NF,{}),m(kF,{}),m(UF,{}),m(YF,{}),m(QF,{}),m(rB,{}),m(cB,{}),m(pB,{}),m(xB,{}),m(TB,{}),m(OB,{}),m(IB,{}),m(VB,{}),m(HB,{}),m(tv,{content:"Back to Top",fontColor:"#d5d4dd",borderColor:"#d5d4dd",backToTopArrow:u2}),m("img",{src:WB,alt:"",className:"projectA-BG"})]})})},jB="/assets/ProjectB-topImg.e25ce668.png";const XB="/assets/icon-arrowOnlyTop-Dark.a9edb03f.svg",Od="/assets/icon-gradualArrowBlue.0dc0da9a.svg";const qB="/assets/icon-userObstructionIcon.9c599681.svg",YB="/assets/icon-lookForInnovation.4fad0f6d.svg",JB="/assets/bg-linearBg.98571d13.svg",d2="/assets/bg-colorFulLinear.2cfbde34.svg",ZB=()=>m(je,{children:M("div",{className:"basic-projectB-info",children:[m("p",{className:"main-projectB-bigTitle",children:"Design Innovation"}),M("div",{className:"basic-projectB-container",children:[m("div",{className:"basic-projectB-left",children:m("p",{children:"Based on the obstruction points that affect users' perceptions, we integrate innovative ideas on this basis to systematically solve the cardinal points"})}),m("img",{src:Od,alt:"",className:"gradualArrow-left"}),M("div",{className:"basic-projectB-center",children:[M("div",{className:"trianArrowRight-left",children:[m("p",{children:"Provide higher dimensional experience input"}),M("div",{className:"innovation-baseLine-top",children:[m("span",{className:"dotted-line-left"}),m("span",{className:"trianArrow-left-01"})]})]}),M("div",{className:"trianArrowRight-right",children:[m("p",{children:"Solving real business problems"}),M("div",{className:"innovation-baseLine-bottom",children:[m("span",{className:"dotted-line-right"}),m("span",{className:"trianArrow-left-02"})]})]}),M("div",{className:"basic-lookForInnovation",children:[m("img",{src:qB,alt:"",className:"lookForInnovationIcon"}),m("p",{children:"Solving user obstruction points"}),m("div",{className:"basic-lookForInnovation-bg"})]}),M("div",{className:"basic-Incubate",children:[m("img",{src:YB,alt:"",className:"IncubateIcon"}),m("p",{children:"Explore differentiated capabilities"}),m("div",{className:"basic-Incubate-bg"})]})]}),m("img",{src:Od,alt:"",className:"gradualArrow-right"}),m("div",{className:"basic-projectB-right",children:m("p",{children:"Explore cutting-edge innovation capabilities to lay out differentiated experience competitiveness for Lark's future direction, so that Lark can always be ahead of the competition"})})]}),m("img",{src:JB,alt:"",className:"linearBg"}),m("img",{src:d2,alt:"",className:"colorFulLinear"})]})});const KB="/assets/img-oversea-feedback.2c3f262e.png",QB="/assets/img-domestic-feedback.95d25e25.png",ez="/assets/bg-AuroraGradient-2.723d5002.svg",tz=()=>m(je,{children:M("div",{className:"userNPS-main-container",children:[M("div",{className:"userNPS-main-container-top",children:[M("div",{className:"userNPS-left-overseas-container",children:[M("div",{className:"userNPS-left-overseas-titleCotainer",children:[m("div",{className:"userNPS-left-overseas-title",children:"Overseas feedback"}),M("div",{className:"userNPS-left-overseas-bottomDataContainer",children:[m("p",{className:"left-overseas-NPS",children:"NPS:\xA0\xA0 41%"}),m("p",{className:"left-overseas-NPS",children:"Satisfaction:\xA0\xA0 3.98"})]})]}),m("img",{src:KB,alt:"",className:"overseaFeedbackPic"})]}),M("div",{className:"userNPS-right-domestic-container",children:[M("div",{className:"userNPS-right-domestic-titleContainer",children:[m("div",{className:"userNPS-right-domestic-title",children:"Domestic feedback"}),M("div",{className:"userNPS-right-domestic-bottomDataContainer",children:[m("p",{className:"right-domestic-NPS",children:"NPS:\xA0\xA0 53%"}),m("p",{className:"right-domestic-NPS",children:"Satisfaction:\xA0\xA0 4.32"})]})]}),m("img",{src:QB,alt:"",className:"domesticFeedbackPic"})]})]}),m("div",{className:"userNPS-main-container-bottom",children:m("p",{className:"userNPS-main-description",children:"Overall NPS is still higher than the market (the average NPS of overseas Saas products is 32%), which means that our product has a certain reputation, but the functional satisfaction is relatively low, one point is that Lark has no special highlighting ability compared with the competition in China, and our product seems too much noise for overseas users."})}),m("img",{src:ez,alt:"",className:"AuroraGradientBG_2"})]})});const nz="/assets/icon-dbBottomArrow.d1a1247c.svg",iz=()=>m(je,{children:M("div",{className:"pjb-UXStategy-main-container",children:[M("div",{className:"pjb-UXStategy-insideContainer",children:[M("div",{className:"pjb-UXStategy-leftObjectives",children:[m("div",{className:"pjb-UXStategy-leftObjectives-title",children:"\u{1F604} Personal"}),M("div",{className:"pjb-UXStategy-leftObjectives-items",children:[m("p",{children:"Incorporate a unique interactive experience"}),m("p",{children:"Build a unique identity expression"})]})]}),M("div",{className:"pjb-UXStategy-rightStategy",children:[m("div",{className:"pjb-UXStategy-rightStategy-title",children:"\u{1F932} Teams"}),M("div",{className:"pjb-UXStategy-rightStategy-items",children:[m("p",{children:"Enhance personalization and emotional expression"}),m("p",{children:"Strengthen the atmosphere of the group"})]})]})]}),m("img",{src:nz,alt:"",className:"dbBottomArrowIcon"})]})});const rz="/assets/avatar_man.8828c23e.png",sz="/assets/card-avatarSetting.c6699611.png",oz="/assets/avatar-manPicture.36633620.png",az="/assets/bg-halo.226e4e21.svg",lz=()=>m(je,{children:m("div",{className:"virtualAvatar-main-container",children:M("div",{className:"virtualAvatar-left-infoContainer",children:[m("span",{className:"virtualAvatar-maintitle",children:" Virtual Avatar "}),m("p",{children:"Profile is the most personalized business portal for users, and we have tried different innovative designs for it."}),m("img",{src:oz,alt:"",className:"avatarPic"}),m("div",{className:"virtualAvatar-left-des-container",children:M("div",{className:"virtualAvatar-left-des",children:[M("div",{className:"trianArrowRight-right",children:[m("span",{className:"dotted-line-right"}),m("span",{className:"trianArrow-right-01"})]}),m("p",{children:"Staff can do it during the onboard stage phase Generate unique avatars from photos"})]})}),M("div",{className:"avatarMan-container",children:[m("div",{className:"halo-circle-1",children:M("svg",{width:"419",height:"105",viewBox:"0 0 419 105",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("path",{d:"M418 52.7329C418 59.3004 412.586 65.8495 402.032 72.0128C391.549 78.1351 376.313 83.6827 357.399 88.3549C319.586 97.6953 267.295 103.483 209.5 103.483C151.705 103.483 99.4139 97.6953 61.6009 88.3549C42.6867 83.6827 27.4509 78.1351 16.9679 72.0128C6.41439 65.8495 1 59.3004 1 52.7329C1 46.1655 6.41439 39.6164 16.9679 33.453C27.4509 27.3307 42.6867 21.7831 61.6009 17.111C99.4139 7.77052 151.705 1.98291 209.5 1.98291C267.295 1.98291 319.586 7.77052 357.399 17.111C376.313 21.7831 391.549 27.3307 402.032 33.453C412.586 39.6164 418 46.1655 418 52.7329Z",stroke:"url(#paint0_linear_516_52032)","stroke-width":"2"}),m("defs",{children:M("linearGradient",{id:"paint0_linear_516_52032",x1:"209.5",y1:"104.483",x2:"209.5",y2:"0.982911",gradientUnits:"userSpaceOnUse",children:[m("stop",{"stop-color":"#2B2F36"}),m("stop",{offset:"0.265625","stop-color":"#71757C","stop-opacity":"0.3"}),m("stop",{offset:"0.510417","stop-color":"#B7BCC3","stop-opacity":"0.2"}),m("stop",{offset:"0.75","stop-color":"#B7BCC3","stop-opacity":"0"}),m("stop",{offset:"1","stop-color":"#B7BCC3","stop-opacity":"0"})]})})]})}),m("img",{src:az,alt:"",className:"halo"}),m("div",{className:"halo-circle-2",children:M("svg",{width:"279",height:"70",viewBox:"0 0 279 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("path",{d:"M278 35.2324C278 39.4568 274.538 43.7694 267.53 47.897C260.589 51.9846 250.48 55.7003 237.9 58.834C212.755 65.0977 177.965 68.9824 139.5 68.9824C101.035 68.9824 66.2451 65.0977 41.1003 58.834C28.5202 55.7003 18.4106 51.9846 11.4701 47.897C4.46159 43.7694 1 39.4568 1 35.2324C1 31.008 4.46159 26.6955 11.4701 22.5678C18.4106 18.4802 28.5202 14.7646 41.1003 11.6308C66.2451 5.36715 101.035 1.48242 139.5 1.48242C177.965 1.48242 212.755 5.36715 237.9 11.6308C250.48 14.7646 260.589 18.4802 267.53 22.5678C274.538 26.6955 278 31.008 278 35.2324Z",stroke:"url(#paint0_linear_516_52033)","stroke-width":"2"}),m("defs",{children:M("linearGradient",{id:"paint0_linear_516_52033",x1:"139.5",y1:"69.9824",x2:"139.5",y2:"0.482422",gradientUnits:"userSpaceOnUse",children:[m("stop",{"stop-color":"#2B2F36"}),m("stop",{offset:"0.265625","stop-color":"#71757C","stop-opacity":"0.3"}),m("stop",{offset:"0.532867","stop-color":"#B7BCC3","stop-opacity":"0"}),m("stop",{offset:"1","stop-color":"#B7BCC3","stop-opacity":"0"})]})})]})}),m("img",{src:rz,alt:"",className:"avatarMan"})]}),m("div",{className:"virtualAvatar-right-des-container",children:M("div",{className:"virtualAvatar-right-des",children:[M("div",{className:"trianArrowRight-left",children:[m("span",{className:"dotted-line-left"}),m("span",{className:"trianArrow-left-01"})]}),m("p",{children:"Avatar will be used in video conferencing and IM communication"})]})}),m("img",{src:sz,alt:"",className:"avatarSetting"})]})})}),cz="/assets/page-AiGenerate-framework.9abda254.jpg",uz="/assets/card-dialogColorPicker.34c2692d.jpg",dz="/assets/card-dialogAiGenerate.f8828a2a.jpg";const hz=()=>m(je,{children:M("div",{className:"AiGenerate-main-container",children:[m("div",{className:"AiGenerate-left-contentContainer",children:M("div",{className:"AiGenerate-left-infoContainer",children:[m("div",{className:"AiGenerate-left-title",children:"Indentifiable of Avatar"}),m("p",{className:"AiGenerate-left-des",children:"Group Icon, like the brand logo, is a totem that unites the culture of the team, so we wanted to lower the threshold of creating this cultural totem and improve its recognition and diversity. Therefore, we made a mechanism to automatically arrange the size of the logo, and tried to introduce EALL-E to help users create it more easily."}),M("div",{className:"AiGenerate-left-picContainer",children:[m("img",{src:uz,alt:"",className:"ColorPickerCard"}),m("img",{src:dz,alt:"",className:"AiGenerateCard"})]})]})}),m("img",{src:cz,alt:"",className:"AiGenerate-right-framework"})]})});const h2="/assets/page-catalogCard.18f1f327.jpg",f2="/assets/page-timeline.9626b6e7.jpg",fz="/assets/bg-videoBg.f025d689.jpg",pz=()=>m(je,{children:m("div",{className:"VcConcept-main-container",children:M("div",{className:"VcConcept-main-insideContainer",children:[M("div",{className:"VcConcept-leftContainer",children:[m("div",{className:"VcConcept-main-title",children:"Structured Video Conference Innovative Concept"}),m("img",{src:h2,alt:"",className:"catalogCard"})]}),M("div",{className:"VcConcept-rightContainer",children:[m("div",{className:"VcConcept-main-des",children:"Based on the combined concept of timeline + slides, video conferencing can be disassembled into a combined media stream of countless screens, so we proposed the concept of video structuring. After a meeting, the user can create a document like a document, and the video is automatically deconstructed into multiple small particles to facilitate the flow of information after the meeting."}),m("img",{src:f2,alt:"",className:"timeLine"}),m("img",{src:fz,alt:"",className:"videoBg"})]})]})})});const mz="/assets/page-videoDoc.68557368.jpg",gz="/assets/page-videoLine.44aafb9c.jpg",vz=()=>m(je,{children:m("div",{className:"VcStructure-main-container",children:M("div",{className:"VcStructure-inside-container",children:[M("div",{className:"VcStructure-top-document",children:[m("div",{className:"VcStructure-top-circle",children:"Based on presentation topics convert to structured document"}),M("div",{className:"VcStructure-trianArrowRight-right",children:[m("span",{className:"dotted-line-right"}),m("span",{className:"trianArrow-right-01"})]}),m("img",{src:h2,alt:"",className:"video-catalogCard"}),m("img",{src:Od,alt:"",className:"gradualArrow-right"}),m("img",{src:mz,alt:"",className:"video-doc"})]}),M("div",{className:"VcStructure-bottom-timeline",children:[m("div",{className:"VcStructure-bottom-circle",children:"Video-based collateral info conversion to structured tables"}),M("div",{className:"VcStructure-trianArrowRight-right",children:[m("span",{className:"dotted-line-left"}),m("span",{className:"trianArrow-left-02"})]}),m("img",{src:f2,alt:"",className:"video-timeLine"}),m("img",{src:Od,alt:"",className:"gradualArrow-right"}),m("img",{src:gz,alt:"",className:"video-structure"})]}),m("img",{src:d2,alt:"",className:"video-AuroraGradientBG"})]})})}),yz=()=>{const n=pa();function e(){n("/homepage/works")}const t=nv({routerFn:e,projectName:"Design Innovation",imgClassName:ev,projectContainerName:"top-img-pjB",navClassName:"top-nav-pjB",topImgUrl:jB});return m(je,{children:M("div",{className:"projectB-container",children:[t,m(ZB,{}),m(tz,{}),m(iz,{}),m(lz,{}),m(hz,{}),m(pz,{}),m(vz,{}),m(tv,{content:"Back to Top",fontColor:"#211F3C",borderColor:"#211F3C",backToTopArrow:XB})]})})},xz="/assets/ProjectC-topImg.8289ce44.jpg";const _z="/assets/migu-rest.0c7d5b15.png",wz=()=>M("div",{className:"migu-main-container",children:[m("p",{className:"migu-main-title",children:"MIGU Music"}),M("div",{className:"migu-bottom-container",children:[m("div",{className:"migu-svg-container",children:M("svg",{width:"109",height:"69",viewBox:"0 0 109 69",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("path",{id:"svg-anim-1",d:"M32.5 67C36.8333 68.1667 47.6 68.7 56 61.5C66.5 52.5 63.3879 31.3547 72.5 21C83.5 8.5 99.1667 9.5 107.5 8.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),m("path",{id:"svg-anim-2",d:"M32.7888 60.4246C35.636 59.5138 41.8698 55.9382 44.0268 48.9232C46.723 40.1544 37.4617 29.5418 38.8974 20.5204C40.6305 9.62998 49.7809 4.55146 54.1037 1.0002",stroke:"#c8c4de","stroke-width":"2","stroke-linecap":"round"}),m("path",{id:"svg-anim-3",d:"M24.9811 54.2524C26.7138 53.2966 30.0087 50.0288 29.327 44.6039C28.475 37.8227 18.5588 30.8424 16.7328 23.997C14.5286 15.7334 19.4187 11.0628 21.3656 8.00014",stroke:"#a69eba","stroke-width":"2","stroke-linecap":"round"})]})}),m("p",{children:"MIGU Circles is a young social entertainment platform based on short video platform and IP operation as the core of the product, which integrates pan-secondary content animation, comics, games and light novels."}),m("div",{className:"migu-baseInfo-imgContainer",children:m("img",{src:_z,alt:""})})]})]});const Sz="/assets/miguUser-chart.51a5dfeb.png",bz=()=>M("div",{className:"dataInfo-container",children:[M("div",{className:"datainfo-container-left",children:[M("p",{className:"datainfo-container-left-list",children:[m("span",{children:"First-tier City"})," ",m("span",{children:"33%"})]}),M("p",{className:"datainfo-container-left-list",children:[m("span",{children:"New first-tier City"})," ",m("span",{children:"28%"})]}),M("p",{className:"datainfo-container-left-list",children:[m("span",{children:"Second-tier city"})," ",m("span",{children:"21%"})]}),M("p",{className:"datainfo-container-left-list",children:[m("span",{children:"Third-tier City"})," ",m("span",{children:"18%"})]})]}),M("div",{className:"datainfo-container-right",children:[M("div",{className:"datainfo-container-right-listContainer",children:[M("p",{className:"datainfo-container-right-list",children:[m("span",{className:"square-one"})," ",m("span",{children:"Under 20 years old"})]}),M("p",{className:"datainfo-container-right-list",children:[m("span",{className:"square-two"})," ",m("span",{children:"21~30 years old"})]}),M("p",{className:"datainfo-container-right-list",children:[m("span",{className:"square-three"})," ",m("span",{children:"31 to 35 years old"})]}),M("p",{className:"datainfo-container-right-list",children:[m("span",{className:"square-four"})," ",m("span",{children:"36~40 years old"})]}),M("p",{className:"datainfo-container-right-list",children:[m("span",{className:"square-five"})," ",m("span",{children:"41 years old"})]})]}),m("img",{src:Sz,alt:"",className:"datainfo-container-right-dataChart"})]})]});const Mz="/assets/icon-female.fe28f5f7.svg",Ez="/assets/icon-male.77e04dc6.svg",Cz=()=>m("div",{className:"migu-userGender-container",children:M("div",{className:"migu-userGender-container-bg",children:[M("div",{className:"userGender-container-top",children:[M("div",{className:"male-icon-container",children:[m("img",{src:Ez,alt:"",className:"female"}),m("p",{children:"Male Users"})]}),M("div",{className:"progressBar-male",children:[M("svg",{width:"608",height:"120",viewBox:"0 0 608 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("rect",{opacity:"0.4",width:"575.614",height:"30",rx:"15",transform:"matrix(1 0 0 -1 32.0465 75.2017)",fill:"#B9D5FE",fillOpacity:"0.6"}),m("g",{filter:"url(#filter0_d_439_50803)",children:m("rect",{width:"237.139",height:"30",rx:"15",transform:"matrix(1 0 0 -1 32.0465 75.2017)",fill:"#B9D5FE"})}),m("defs",{children:M("filter",{id:"filter0_d_439_50803",x:"0.7489",y:"0.490791",width:"326.56",height:"119.422",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{dx:"13.4133"}),m("feGaussianBlur",{stdDeviation:"22.3554"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.153186 0 0 0 0 0.0799915 0 0 0 0 0.279212 0 0 0 0.15 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50803"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50803",result:"shape"})]})})]}),m("span",{children:"37.2%"})]}),m("p",{className:"data"})]}),M("div",{className:"userGender-container-bottom",children:[M("div",{className:"female-icon-container",children:[m("img",{src:Mz,alt:"",className:"female"}),m("p",{children:"Female Users"})]}),M("div",{className:"progressBar-female",children:[M("svg",{width:"607",height:"120",viewBox:"0 0 607 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("rect",{width:"575.611",height:"30",rx:"15",transform:"matrix(1 0 0 -1 31.0499 74.9829)",fill:"#97719D",fillOpacity:"0.5"}),m("g",{filter:"url(#filter0_d_439_50802)",children:m("rect",{width:"380.561",height:"30",rx:"15",transform:"matrix(1 0 0 -1 31.0498 74.9829)",fill:"#C165D0"})}),m("defs",{children:M("filter",{id:"filter0_d_439_50802",x:"0.202477",y:"0.915298",width:"468.696",height:"118.135",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{dx:"13.2203"}),m("feGaussianBlur",{stdDeviation:"22.0338"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.153186 0 0 0 0 0.0799915 0 0 0 0 0.279212 0 0 0 0.15 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50802"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50802",result:"shape"})]})})]}),m("span",{children:"62.8%"})]})]})]})}),Tz="/assets/migu-UserJourney.49b7b440.png";const Az=()=>M("div",{className:"userJourney-container",children:[m("p",{children:"User journey"}),m("img",{src:Tz,alt:""})]});const Pz="/assets/Migu-feed.24f65d51.png",Nz="/assets/miguFeedUI-scrollComment.78d8bf56.png",Rz="/assets/miguFeedUI-funShotBtn.f5e1e4a3.png",Lz=()=>M("div",{className:"main-miguFeedUI-container",children:[M("div",{className:"migufeedUI-container",children:[M("div",{className:"migufeedUI-left-container",children:[M("div",{className:"leftTop-withLineContainer",children:[m("div",{className:"migu-leftTop-line",children:M("svg",{width:"219",height:"28",viewBox:"0 0 219 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("g",{opacity:"0.2",filter:"url(#filter0_d_439_50681)",children:m("circle",{cx:"10.8257",cy:"10.8257",r:"10.8257",transform:"matrix(1 0 0 -1 3.21777 25.9155)",fill:"#A4DEFF"})}),m("g",{filter:"url(#filter1_d_439_50681)",children:m("path",{d:"M14.0435 15.164H217.948",stroke:"#73C6F6",strokeWidth:"1.20285",strokeDasharray:"3.61"})}),M("defs",{children:[M("filter",{id:"filter0_d_439_50681",x:"0.812064",y:"0.655596",width:"26.4628",height:"26.4628",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{dy:"-1.20285"}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.33327 0 0 0 0 0.349698 0 0 0 0 1 0 0 0 0.5 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50681"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50681",result:"shape"})]}),M("filter",{id:"filter1_d_439_50681",x:"11.6377",y:"12.1568",width:"206.928",height:"6.01454",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.666667 0 0 0 0 0.831373 0 0 0 0 0.92549 0 0 0 1 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50681"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50681",result:"shape"})]})]})]})}),M("div",{className:"miguFeedUI-left-miguMall",children:[m("p",{children:"MIGU Mall"}),m("p",{children:"Showcasing the MIGU business section to increase conversions on the business side."})]})]}),M("div",{className:"leftMedium-withLineContainer",children:[m("div",{className:"migu-leftMedium-line",children:M("svg",{width:"219",height:"28",viewBox:"0 0 219 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("g",{opacity:"0.2",filter:"url(#filter0_d_439_50681)",children:m("circle",{cx:"10.8257",cy:"10.8257",r:"10.8257",transform:"matrix(1 0 0 -1 3.21777 25.9155)",fill:"#A4DEFF"})}),m("g",{filter:"url(#filter1_d_439_50681)",children:m("path",{d:"M14.0435 15.164H217.948",stroke:"#73C6F6",strokeWidth:"1.20285",strokeDasharray:"3.61"})}),M("defs",{children:[M("filter",{id:"filter0_d_439_50681",x:"0.812064",y:"0.655596",width:"26.4628",height:"26.4628",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{dy:"-1.20285"}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.33327 0 0 0 0 0.349698 0 0 0 0 1 0 0 0 0.5 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50681"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50681",result:"shape"})]}),M("filter",{id:"filter1_d_439_50681",x:"11.6377",y:"12.1568",width:"206.928",height:"6.01454",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.666667 0 0 0 0 0.831373 0 0 0 0 0.92549 0 0 0 1 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50681"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50681",result:"shape"})]})]})]})}),M("div",{className:"miguFeedUI-left-popUp",children:[m("p",{children:"Pop-up Command"}),m("p",{children:"The scrolling design for user comments is exposed to enhance the enthusiasm of user participation in comments."})]})]}),m("img",{src:Nz,alt:""})]}),m("img",{src:Pz,alt:"",className:"mainFeedUI-pic"}),M("div",{className:"migufeedUI-right-container",children:[M("div",{className:"rightTop-withLineContainer",children:[m("div",{className:"migu-rightTop-line",children:M("svg",{width:"140",height:"27",viewBox:"0 0 140 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("g",{opacity:"0.2",filter:"url(#filter0_d_439_50672)",children:m("circle",{cx:"10.8257",cy:"10.8257",r:"10.8257",transform:"matrix(-1 0 0 1 136.648 4.09717)",fill:"#A4DEFF"})}),m("g",{filter:"url(#filter1_d_439_50672)",children:m("path",{d:"M125.822 14.8486L0.943838 14.8486",stroke:"#73C6F6",strokeWidth:"1.20285",strokeDasharray:"3.61"})}),M("defs",{children:[M("filter",{id:"filter0_d_439_50672",x:"112.591",y:"0.488603",width:"26.4628",height:"26.4628",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{dy:"-1.20285"}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.33327 0 0 0 0 0.349698 0 0 0 0 1 0 0 0 0.5 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50672"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50672",result:"shape"})]}),M("filter",{id:"filter1_d_439_50672",x:"0.322073",y:"11.8414",width:"127.906",height:"6.01454",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.666667 0 0 0 0 0.831373 0 0 0 0 0.92549 0 0 0 1 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50672"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50672",result:"shape"})]})]})]})}),M("div",{className:"miguFeedUI-right-coreCategory",children:[m("p",{children:"Core Category Module"}),m("p",{children:"MIGU's core business segment, expanding secondary content and secondary social circles around short videos."})]})]}),M("div",{className:"rightMedium-withLineContainer",children:[m("div",{className:"migu-rightMedium-line",children:M("svg",{width:"140",height:"27",viewBox:"0 0 140 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("g",{opacity:"0.2",filter:"url(#filter0_d_439_50672)",children:m("circle",{cx:"10.8257",cy:"10.8257",r:"10.8257",transform:"matrix(-1 0 0 1 136.648 4.09717)",fill:"#A4DEFF"})}),m("g",{filter:"url(#filter1_d_439_50672)",children:m("path",{d:"M125.822 14.8486L0.943838 14.8486",stroke:"#73C6F6",strokeWidth:"1.20285",strokeDasharray:"3.61"})}),M("defs",{children:[M("filter",{id:"filter0_d_439_50672",x:"112.591",y:"0.488603",width:"26.4628",height:"26.4628",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{dy:"-1.20285"}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.33327 0 0 0 0 0.349698 0 0 0 0 1 0 0 0 0.5 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50672"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50672",result:"shape"})]}),M("filter",{id:"filter1_d_439_50672",x:"0.322073",y:"11.8414",width:"127.906",height:"6.01454",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.666667 0 0 0 0 0.831373 0 0 0 0 0.92549 0 0 0 1 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50672"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50672",result:"shape"})]})]})]})}),M("div",{className:"miguFeedUI-left-funShot",children:[m("p",{children:"Fun Shot Button"}),m("p",{children:"Guide users to shoot content based on recommend matching level."})]})]}),m("img",{src:Rz,alt:""})]})]}),m("div",{className:"main-miguFeedUI-linearBg",children:M("svg",{width:"1074",height:"879",viewBox:"0 0 1074 879",xmlns:"http://www.w3.org/2000/svg",children:[m("g",{opacity:"0.2",filter:"url(#filter0_f_439_50781)",children:m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M42.4166 765.817C-7.58192 679.263 16.8154 568.853 98.6299 511.426L753.066 52.0631C845.758 -13.0001 974.295 15.4027 1030.94 113.466V113.466C1080.94 200.02 1056.54 310.429 974.728 367.857L320.293 827.22C227.6 892.283 99.0632 863.88 42.4166 765.817V765.817Z",fill:"url(#paint0_linear_439_50781)"})}),M("defs",{children:[M("filter",{id:"filter0_f_439_50781",x:"0.182178",y:"0.668598",width:"1072.99",height:"877.946",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),m("feGaussianBlur",{stdDeviation:"8.17425",result:"effect1_foregroundBlur_439_50781"})]}),M("linearGradient",{id:"paint0_linear_439_50781",x1:"1018.93",y1:"-22.4536",x2:"454.579",y2:"996.563",gradientUnits:"userSpaceOnUse",children:[m("stop",{"stop-color":"#1C0056","stop-opacity":"0"}),m("stop",{offset:"0.515625","stop-color":"#6B37FF","stop-opacity":"0.6"}),m("stop",{offset:"1","stop-color":"#C955FF"})]})]})]})})]}),Iz="/assets/Migu-Top20.99192889.png",Dz="/assets/topHobbit.3eaa2f19.png",kz="/assets/topStar.1bd2f5dc.png",p2="/assets/migu-musicTexture.27cd70d3.png";const Oz=()=>M("div",{className:"topUserUI-container",children:[M("div",{className:"topUserUI-wrapper",children:[M("div",{className:"topUser-left-container",children:[m("img",{src:Dz,alt:"",className:"topUser-leftTop-ui"}),M("div",{className:"topUser-leftText-container",children:[m("p",{children:"Top Challenges"}),m("p",{children:"Popular challenge themes, users can select the challenge themes they are interested in to participate in the activities."})]})]}),m("img",{src:Iz,alt:""}),M("div",{className:"topUser-right-container",children:[m("img",{src:kz,alt:"",className:"topUser-rightBottom-ui"}),M("div",{className:"topUser-rightText-container",children:[m("p",{children:"Challenge Master List"}),m("p",{children:"The top three users with the highest hotness in the popular challenge theme will win the crown, inspiring users to participate in the challenge with enthusiasm."})]})]})]}),m("img",{src:p2,alt:"",className:"musicTexture"})]});const Fz="/assets/migu-PublishUI.2f7730b6.png",Bz=()=>M("div",{className:"publishUI-main-container",children:[M("div",{className:"publishUI-wrapper",children:[M("div",{className:"publishUI-textWithLine-container",children:[m("div",{className:"publishUI-line",children:M("svg",{width:"272",height:"28",viewBox:"0 0 272 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("g",{opacity:"0.2",filter:"url(#filter0_d_439_50866)",children:m("circle",{cx:"10.8257",cy:"10.8257",r:"10.8257",transform:"matrix(-1 0 0 1 268.626 4.55859)",fill:"#A4DEFF"})}),m("g",{filter:"url(#filter1_d_439_50866)",children:m("path",{d:"M257.951 15.065L0.606634 15.065",stroke:"#73C6F6",strokeWidth:"1.20285",strokeDasharray:"3.61"})}),M("defs",{children:[M("filter",{id:"filter0_d_439_50866",x:"244.569",y:"0.950029",width:"26.4628",height:"26.4628",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{dy:"-1.20285"}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.33327 0 0 0 0 0.349698 0 0 0 0 1 0 0 0 0.5 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50866"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50866",result:"shape"})]}),M("filter",{id:"filter1_d_439_50866",x:"0.0130525",y:"12.0582",width:"260.344",height:"6.01357",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[m("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m("feOffset",{}),m("feGaussianBlur",{stdDeviation:"1.20285"}),m("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.666667 0 0 0 0 0.831373 0 0 0 0 0.92549 0 0 0 1 0"}),m("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_439_50866"}),m("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_439_50866",result:"shape"})]})]})]})}),M("div",{className:"publishUI-text",children:[m("p",{children:"Publish & Share"}),m("p",{children:"Record users' recent postings by default, and quickly direct them to friends or social channels for sharing after publish."})]})]}),m("img",{src:Fz,alt:""})]}),m("img",{src:p2,alt:"",className:"musicTexture"})]}),zz="/assets/migu-allUI.3aa0f181.png",Uz=()=>{const n=pa();function e(){n("/homepage/works")}const t=nv({routerFn:e,projectName:"MIGU Music",imgClassName:c2,projectContainerName:"top-img-pjC",navClassName:"top-nav-pjC",topImgUrl:xz});return M("div",{className:"projectC-container",children:[t,m(wz,{}),m(bz,{}),m(Cz,{}),m(Az,{}),m(Lz,{}),m(Oz,{}),m(Bz,{}),m(tv,{content:"Back to Top",fontColor:"#d5d4dd",borderColor:"#d5d4dd",backToTopArrow:u2,imgURL:zz})]})},Vz=ZA([{path:"/",element:m(eF,{})},{path:"/homepage",element:m(l2,{}),children:[{path:"/homepage/about",element:m(o2,{})},{path:"/homepage/works",element:m(s2,{})},{path:"/homepage/articles",element:m(a2,{})}]},{path:"/homepage/works/projectA",element:m($B,{})},{path:"/homepage/works/projectB",element:m(yz,{})},{path:"/homepage/works/projectC",element:m(Uz,{})},{path:"*",element:m(tF,{})}]);wp.createRoot(document.getElementById("root")).render(m(_T,{store:yS,children:m(zT,{children:m(d5,{children:m(HA,{router:Vz})})})}));
